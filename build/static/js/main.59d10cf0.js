/*! For license information please see main.59d10cf0.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,s)&&!S.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:E.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),_(a,t,s,"",function(e){return e})):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(o=e[c],c);l+=_(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=_(o=o.value,t,s,u=i+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(N);else{var t=r(u);null!==t&&P(w,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,j=-1,C=5,T=-1;function _(){return!(t.unstable_now()-T<C)}function I(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,E=function(){D.postMessage(null)}}else E=function(){y(I,0)};function R(e){k=e,S||(S=!0,E())}function P(e,n){j=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(j),j=-1):g=!0,P(w,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(N))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(Be){var t=Be.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ue){var r=Ue}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ue){r=Ue}e.call(t.prototype)}else{try{throw Error()}catch(Ue){r=Ue}e()}}catch(Ue){if(Ue&&r&&"string"===typeof Ue.stack){for(var s=Ue.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case N:return"Portal";case k:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(Be){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Ee=null;function Se(e){if(e=_s(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=As(t),we(e.stateNode,e.type,t))}}function ke(e){Ne?Ee?Ee.push(e):Ee=[e]:Ne=e}function je(){if(Ne){var e=Ne,t=Ee;if(Ee=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var _e=!1;function Ie(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ce(e,t,n)}finally{_e=!1,(null!==Ne||null!==Ee)&&(Te(),je())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=As(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ze){De=!1}function Pe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Me=null,Ve=!1,qe=null,He={onError:function(e){Oe=!0,Me=e}};function We(e,t,n,r,s,i,a,o,l){Oe=!1,Me=null,Pe.apply(He,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ke(e)!==e)throw Error(i(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Xe(s),e;if(a===r)return Xe(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var et=s.unstable_scheduleCallback,tt=s.unstable_cancelCallback,nt=s.unstable_shouldYield,rt=s.unstable_requestPaint,st=s.unstable_now,it=s.unstable_getCurrentPriorityLevel,at=s.unstable_ImmediatePriority,ot=s.unstable_UserBlockingPriority,lt=s.unstable_NormalPriority,ct=s.unstable_LowPriority,ut=s.unstable_IdlePriority,dt=null,ht=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,vt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=bt(o):0!==(i&=a)&&(r=bt(i))}else 0!==(a=n&~s)?r=bt(a):0!==i&&(r=bt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ft(t)),r|=e[n],t&=~s;return r}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function St(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function jt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ct=0;function Tt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,At,Dt,Rt,Ot=!1,Mt=[],Lt=null,Ft=null,Ut=null,zt=new Map,Vt=new Map,qt=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Wt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=_s(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Kt(e){var t=Cs(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Rt(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_s(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function $t(){Ot=!1,null!==Lt&&Gt(Lt)&&(Lt=null),null!==Ft&&Gt(Ft)&&(Ft=null),null!==Ut&&Gt(Ut)&&(Ut=null),zt.forEach(Qt),Vt.forEach(Qt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$t)))}function Xt(e){function t(t){return Yt(t,e)}if(0<Mt.length){Yt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Yt(Lt,e),null!==Ft&&Yt(Ft,e),null!==Ut&&Yt(Ut,e),zt.forEach(t),Vt.forEach(t),n=0;n<qt.length;n++)(r=qt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&null===(n=qt[0]).blockedOn;)Kt(n),null===n.blockedOn&&qt.shift()}var Jt=x.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var s=Ct,i=Jt.transition;Jt.transition=null;try{Ct=1,nn(e,t,n,r)}finally{Ct=s,Jt.transition=i}}function tn(e,t,n,r){var s=Ct,i=Jt.transition;Jt.transition=null;try{Ct=4,nn(e,t,n,r)}finally{Ct=s,Jt.transition=i}}function nn(e,t,n,r){if(Zt){var s=sn(e,t,n,r);if(null===s)Zr(e,t,r,rn,n),Ht(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Lt=Wt(Lt,e,t,n,r,s),!0;case"dragenter":return Ft=Wt(Ft,e,t,n,r,s),!0;case"mouseover":return Ut=Wt(Ut,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return zt.set(i,Wt(zt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vt.set(i,Wt(Vt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ht(e,r),4&t&&-1<Bt.indexOf(e)){for(;null!==s;){var i=_s(s);if(null!==i&&_t(i),null===(i=sn(e,t,n,r))&&Zr(e,t,r,rn,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function sn(e,t,n,r){if(rn=null,null!==(e=Cs(e=xe(r))))if(null===(t=Ke(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case at:return 1;case ot:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,s="value"in on?on.value:on.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return cn=s.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?hn:fn,this.isPropagationStopped=fn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(vn),xn=L({},vn,{view:0,detail:0}),wn=pn(xn),Nn=L({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),En=pn(Nn),Sn=pn(L({},Nn,{dataTransfer:0})),kn=pn(L({},xn,{relatedTarget:0})),jn=pn(L({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=L({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tn=pn(Cn),_n=pn(L({},vn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Pn(){return Rn}var On=L({},xn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=pn(On),Ln=pn(L({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=pn(L({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Un=pn(L({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=L({},Nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=pn(zn),qn=[9,13,27,32],Bn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var Wn=u&&"TextEvent"in window&&!Hn,Kn=u&&(!Bn||Hn&&8<Hn&&11>=Hn),Gn=String.fromCharCode(32),Qn=!1;function $n(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Xn=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){ke(r),0<(t=ts(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function sr(e){if(G(Is(e)))return e}function ir(e,t){if("change"===e)return t}var ar=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&sr(nr)){var t=[];er(t,nr,e,xe(e)),Ie(rr,t)}}function hr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return sr(nr)}function pr(e,t){if("click"===e)return sr(t)}function mr(e,t){if("input"===e||"change"===e)return sr(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!gr(e[s],t[s]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Ge){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Er(e){var t=wr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xr(n.ownerDocument.documentElement,n)){if(null!==r&&Nr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=br(n,i);var a=br(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sr=u&&"documentMode"in document&&11>=document.documentMode,kr=null,jr=null,Cr=null,Tr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Tr||null==kr||kr!==Q(r)||("selectionStart"in(r=kr)&&Nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&yr(Cr,r)||(Cr=r,0<(r=ts(jr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},Dr={},Rr={};function Pr(e){if(Dr[e])return Dr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rr)return Dr[e]=n[t];return e}u&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Or=Pr("animationend"),Mr=Pr("animationiteration"),Lr=Pr("animationstart"),Fr=Pr("transitionend"),Ur=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Ur.set(e,t),l(t,[e])}for(var qr=0;qr<zr.length;qr++){var Br=zr[qr];Vr(Br.toLowerCase(),"on"+(Br[0].toUpperCase()+Br.slice(1)))}Vr(Or,"onAnimationEnd"),Vr(Mr,"onAnimationIteration"),Vr(Lr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(We.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Me;Oe=!1,Me=null,Ve||(Ve=!0,qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Kr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Kr(s,o,c),i=l}}}if(Ve)throw e=qe,Ve=!1,qe=null,e}function Qr(e,t){var n=t[Ss];void 0===n&&(n=t[Ss]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Yr]){e[Yr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Wr.has(t)||$r(t,!1,e),$r(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yr]||(t[Yr]=!0,$r("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(an(t)){case 1:var s=en;break;case 4:s=tn;break;default:s=nn}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=Cs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=i,s=xe(n),a=[];e:{var o=Ur.get(e);if(void 0!==o){var l=bn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=kn;break;case"focusout":c="blur",l=kn;break;case"beforeblur":case"afterblur":l=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Or:case Mr:case Lr:l=jn;break;case Fr:l=Un;break;case"scroll":l=wn;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(es(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Cs(c)&&!c[Es])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Cs(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=En,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Is(l),f=null==c?o:Is(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,Cs(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ns(f))p++;for(f=0,m=h;m;m=ns(m))f++;for(;0<p-f;)u=ns(u),p--;for(;0<f-p;)h=ns(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ns(u),h=ns(h)}u=null}else u=null;null!==l&&rs(a,o,l,u,!1),null!==c&&null!==d&&rs(a,d,c,u,!0)}if("select"===(l=(o=r?Is(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=ir;else if(Zn(o))if(ar)g=mr;else{g=fr;var y=hr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Is(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(kr=y,jr=r,Cr=null);break;case"focusout":Cr=jr=kr=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,_r(a,n,s);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":_r(a,n,s)}var v;if(Bn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Xn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Kn&&"ko"!==n.locale&&(Xn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Xn&&(v=un()):(ln="value"in(on=s)?on.value:on.textContent,Xn=!0)),0<(y=ts(r,b)).length&&(b=new _n(b,e,null,n,s),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Yn(n))&&(b.data=v))),(v=Wn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Xn)return"compositionend"===e||!Bn&&$n(e,t)?(e=un(),cn=ln=on=null,Xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ts(r,"onBeforeInput")).length&&(s=new _n("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=v))}Gr(a,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ts(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(es(e,i,s)),null!=(i=Ae(e,t))&&r.push(es(e,i,s))),e=e.return}return r}function ns(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function rs(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(es(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(es(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ss=/\r\n?/g,is=/\u0000|\uFFFD/g;function as(e){return("string"===typeof e?e:""+e).replace(ss,"\n").replace(is,"")}function os(e,t,n){if(t=as(t),as(e)!==t&&n)throw Error(i(425))}function ls(){}var cs=null,us=null;function ds(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hs="function"===typeof setTimeout?setTimeout:void 0,fs="function"===typeof clearTimeout?clearTimeout:void 0,ps="function"===typeof Promise?Promise:void 0,ms="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ps?function(e){return ps.resolve(null).then(e).catch(gs)}:hs;function gs(e){setTimeout(function(){throw e})}function ys(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Xt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Xt(t)}function vs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),ws="__reactFiber$"+xs,Ns="__reactProps$"+xs,Es="__reactContainer$"+xs,Ss="__reactEvents$"+xs,ks="__reactListeners$"+xs,js="__reactHandles$"+xs;function Cs(e){var t=e[ws];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Es]||n[ws]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bs(e);null!==e;){if(n=e[ws])return n;e=bs(e)}return t}n=(e=n).parentNode}return null}function _s(e){return!(e=e[ws]||e[Es])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Is(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function As(e){return e[Ns]||null}var Ds=[],Rs=-1;function Ps(e){return{current:e}}function Os(e){0>Rs||(e.current=Ds[Rs],Ds[Rs]=null,Rs--)}function Ms(e,t){Rs++,Ds[Rs]=e.current,e.current=t}var Ls={},Fs=Ps(Ls),Us=Ps(!1),zs=Ls;function Vs(e,t){var n=e.type.contextTypes;if(!n)return Ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bs(){Os(Us),Os(Fs)}function Hs(e,t,n){if(Fs.current!==Ls)throw Error(i(168));Ms(Fs,t),Ms(Us,n)}function Ws(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,B(e)||"Unknown",s));return L({},n,r)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ls,zs=Fs.current,Ms(Fs,e),Ms(Us,Us.current),!0}function Gs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ws(e,t,zs),r.__reactInternalMemoizedMergedChildContext=e,Os(Us),Os(Fs),Ms(Fs,e)):Os(Us),Ms(Us,n)}var Qs=null,$s=!1,Ys=!1;function Xs(e){null===Qs?Qs=[e]:Qs.push(e)}function Js(){if(!Ys&&null!==Qs){Ys=!0;var e=0,t=Ct;try{var n=Qs;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Qs=null,$s=!1}catch(Le){throw null!==Qs&&(Qs=Qs.slice(e+1)),et(at,Js),Le}finally{Ct=t,Ys=!1}}return null}var Zs=[],ei=0,ti=null,ni=0,ri=[],si=0,ii=null,ai=1,oi="";function li(e,t){Zs[ei++]=ni,Zs[ei++]=ti,ti=e,ni=t}function ci(e,t,n){ri[si++]=ai,ri[si++]=oi,ri[si++]=ii,ii=e;var r=ai;e=oi;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ai=1<<32-ft(t)+s|n<<s|r,oi=i+e}else ai=1<<i|n<<s|r,oi=e}function ui(e){null!==e.return&&(li(e,1),ci(e,1,0))}function di(e){for(;e===ti;)ti=Zs[--ei],Zs[ei]=null,ni=Zs[--ei],Zs[ei]=null;for(;e===ii;)ii=ri[--si],ri[si]=null,oi=ri[--si],ri[si]=null,ai=ri[--si],ri[si]=null}var hi=null,fi=null,pi=!1,mi=null;function gi(e,t){var n=Vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function yi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,hi=e,fi=vs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,hi=e,fi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ii?{id:ai,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,hi=e,fi=null,!0);default:return!1}}function vi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bi(e){if(pi){var t=fi;if(t){var n=t;if(!yi(e,t)){if(vi(e))throw Error(i(418));t=vs(n.nextSibling);var r=hi;t&&yi(e,t)?gi(r,n):(e.flags=-4097&e.flags|2,pi=!1,hi=e)}}else{if(vi(e))throw Error(i(418));e.flags=-4097&e.flags|2,pi=!1,hi=e}}}function xi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hi=e}function wi(e){if(e!==hi)return!1;if(!pi)return xi(e),pi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ds(e.type,e.memoizedProps)),t&&(t=fi)){if(vi(e))throw Ni(),Error(i(418));for(;t;)gi(e,t),t=vs(t.nextSibling)}if(xi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){fi=vs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}fi=null}}else fi=hi?vs(e.stateNode.nextSibling):null;return!0}function Ni(){for(var e=fi;e;)e=vs(e.nextSibling)}function Ei(){fi=hi=null,pi=!1}function Si(e){null===mi?mi=[e]:mi.push(e)}var ki=x.ReactCurrentBatchConfig;function ji(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ci(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ti(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&Ti(i)===t.type)?((r=s(t,n.props)).ref=ji(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=ji(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=ji(e,null,t),n.return=e,n;case N:return(t=Qc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Ci(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case D:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:d(e,t,n,r,null);Ci(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case D:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);Ci(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(s,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(s,d),pi&&li(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return pi&&li(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(g=p(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),pi&&li(s,m),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(s,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(s,m),pi&&li(s,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(s,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return pi&&li(s,g),u}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=p(m,s,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(s,e)}),pi&&li(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ti(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=ji(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((i=Wc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Hc(a.type,a.key,a.props,null,r.mode,l)).ref=ji(r,i,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Qc(a,r.mode,l)).return=r,r=i}return o(r);case D:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(O(a))return g(r,i,a,l);Ci(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Gc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var Ii=_i(!0),Ai=_i(!1),Di=Ps(null),Ri=null,Pi=null,Oi=null;function Mi(){Oi=Pi=Ri=null}function Li(e){var t=Di.current;Os(Di),e._currentValue=t}function Fi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ui(e,t){Ri=e,Oi=Pi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},null===Pi){if(null===Ri)throw Error(i(308));Pi=e,Ri.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Vi=null;function qi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,qi(t)):(n.next=s.next,s.next=n),t.interleaved=n,Hi(e,r)}function Hi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Wi=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Fl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Hi(e,n)}return null===(s=r.interleaved)?(t.next=t,qi(r)):(t.next=s.next,s.next=t),r.interleaved=t,Hi(e,n)}function Yi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,jt(e,n)}}function Xi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ji(e,t,n,r){var s=e.updateQueue;Wi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Wi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Kl|=a,e.lanes=a,e.memoizedState=d}}function Zi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var ea={},ta=Ps(ea),na=Ps(ea),ra=Ps(ea);function sa(e){if(e===ea)throw Error(i(174));return e}function ia(e,t){switch(Ms(ra,t),Ms(na,e),Ms(ta,ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Os(ta),Ms(ta,t)}function aa(){Os(ta),Os(na),Os(ra)}function oa(e){sa(ra.current);var t=sa(ta.current),n=le(t,e.type);t!==n&&(Ms(na,e),Ms(ta,n))}function la(e){na.current===e&&(Os(ta),Os(na))}var ca=Ps(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function ha(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var fa=x.ReactCurrentDispatcher,pa=x.ReactCurrentBatchConfig,ma=0,ga=null,ya=null,va=null,ba=!1,xa=!1,wa=0,Na=0;function Ea(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,s,a){if(ma=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?lo:co,e=n(r,s),xa){a=0;do{if(xa=!1,wa=0,25<=a)throw Error(i(301));a+=1,va=ya=null,t.updateQueue=null,fa.current=uo,e=n(r,s)}while(xa)}if(fa.current=oo,t=null!==ya&&null!==ya.next,ma=0,va=ya=ga=null,ba=!1,t)throw Error(i(300));return e}function ja(){var e=0!==wa;return wa=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function Ta(){if(null===ya){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ya=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function _a(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ya,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ma&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ga.lanes|=d,Kl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,ga.lanes|=a,Kl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);gr(a,t.memoizedState)||(_o=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Ra(e,t){var n=ga,r=Ta(),s=t(),a=!gr(r.memoizedState,s);if(a&&(r.memoizedState=s,_o=!0),r=r.queue,Wa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,za(9,Oa.bind(null,n,r,s,t),void 0,null),null===Ul)throw Error(i(349));0!==(30&ma)||Pa(n,t,s)}return s}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Ma(e,t,n){return n(function(){La(t)&&Fa(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(Ge){return!0}}function Fa(e){var t=Hi(e,1);null!==t&&hc(t,e,1,-1)}function Ua(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=ro.bind(null,ga,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ta().memoizedState}function qa(e,t,n,r){var s=Ca();ga.flags|=e,s.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var s=Ta();r=void 0===r?null:r;var i=void 0;if(null!==ya){var a=ya.memoizedState;if(i=a.destroy,null!==r&&Sa(r,a.deps))return void(s.memoizedState=za(t,n,i,r))}ga.flags|=e,s.memoizedState=za(1|t,n,i,r)}function Ha(e,t){return qa(8390656,8,e,t)}function Wa(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Qa.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&ma)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(gr(n,t)||(n=Et(),ga.lanes|=n,Kl|=n,e.baseState=!0),t)}function eo(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{Ct=n,pa.transition=r}}function to(){return Ta().memoizedState}function no(e,t,n){var r=dc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},so(e))io(t,n);else if(null!==(n=Bi(e,t,n,r))){hc(n,e,r,uc()),ao(n,t,r)}}function ro(e,t,n){var r=dc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(so(e))io(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,gr(o,a)){var l=t.interleaved;return null===l?(s.next=s,qi(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(Ue){}null!==(n=Bi(e,t,s,r))&&(hc(n,e,r,s=uc()),ao(n,t,r))}}function so(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function io(e,t){xa=ba=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ao(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,jt(e,n)}}var oo={readContext:zi,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},lo={readContext:zi,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:zi,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=no.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Ua,useDebugValue:Ya,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=eo.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,s=Ca();if(pi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ul)throw Error(i(349));0!==(30&ma)||Pa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ha(Ma.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Ul.identifierPrefix;if(pi){var n=oi;t=":"+t+"R"+(n=(ai&~(1<<32-ft(ai)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Na++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},co={readContext:zi,useCallback:Xa,useContext:zi,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:Ka,useLayoutEffect:Ga,useMemo:Ja,useReducer:Ia,useRef:Va,useState:function(){return Ia(_a)},useDebugValue:Ya,useDeferredValue:function(e){return Za(Ta(),ya.memoizedState,e)},useTransition:function(){return[Ia(_a)[0],Ta().memoizedState]},useMutableSource:Da,useSyncExternalStore:Ra,useId:to,unstable_isNewReconciler:!1},uo={readContext:zi,useCallback:Xa,useContext:zi,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:Ka,useLayoutEffect:Ga,useMemo:Ja,useReducer:Aa,useRef:Va,useState:function(){return Aa(_a)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ta();return null===ya?t.memoizedState=e:Za(t,ya.memoizedState,e)},useTransition:function(){return[Aa(_a)[0],Ta().memoizedState]},useMutableSource:Da,useSyncExternalStore:Ra,useId:to,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),s=dc(e),i=Qi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,s))&&(hc(t,e,s,r),Yi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),s=dc(e),i=Qi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,s))&&(hc(t,e,s,r),Yi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=dc(e),s=Qi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=$i(e,s,r))&&(hc(t,e,r,n),Yi(t,e,r))}};function mo(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(s,i))}function go(e,t,n){var r=!1,s=Ls,i=t.contextType;return"object"===typeof i&&null!==i?i=zi(i):(s=qs(t)?zs:Fs.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vs(e,s):Ls),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ki(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=zi(i):(i=qs(t)?zs:Fs.current,s.context=Vs(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(fo(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&po.enqueueReplaceState(s,s.state,null),Ji(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function bo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var s=n}catch(Qe){s="\nError generating stack: "+Qe.message+"\n"+Qe.stack}return{value:e,source:t,stack:s,digest:null}}function xo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wo(e,t){try{console.error(t.value)}catch(Be){setTimeout(function(){throw Be})}}var No="function"===typeof WeakMap?WeakMap:Map;function Eo(e,t,n){(n=Qi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,tc=r),wo(0,t)},n}function So(e,t,n){(n=Qi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){wo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){wo(0,t),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ko(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new No;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function jo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var To=x.ReactCurrentOwner,_o=!1;function Io(e,t,n,r){t.child=null===e?Ai(t,null,n,r):Ii(t,e.child,n,r)}function Ao(e,t,n,r,s){n=n.render;var i=t.ref;return Ui(t,s),r=ka(e,t,n,r,i,s),n=ja(),null===e||_o?(pi&&n&&ui(t),t.flags|=1,Io(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,el(e,t,s))}function Do(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||qc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ro(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return el(e,t,s)}return t.flags|=1,(e=Bc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(yr(i,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,el(e,t,s);0!==(131072&e.flags)&&(_o=!0)}}return Mo(e,t,n,r,s)}function Po(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ms(Bl,ql),ql|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ms(Bl,ql),ql|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ms(Bl,ql),ql|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ms(Bl,ql),ql|=r;return Io(e,t,s,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,n,r,s){var i=qs(n)?zs:Fs.current;return i=Vs(t,i),Ui(t,s),n=ka(e,t,n,r,i,s),r=ja(),null===e||_o?(pi&&r&&ui(t),t.flags|=1,Io(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,el(e,t,s))}function Lo(e,t,n,r,s){if(qs(n)){var i=!0;Ks(t)}else i=!1;if(Ui(t,s),null===t.stateNode)Zo(e,t),go(t,n,r),vo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=zi(c):c=Vs(t,c=qs(n)?zs:Fs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&yo(t,a,r,c),Wi=!1;var h=t.memoizedState;a.state=h,Ji(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Us.current||Wi?("function"===typeof u&&(fo(t,n,u,r),l=t.memoizedState),(o=Wi||mo(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Gi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ho(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=zi(l):l=Vs(t,l=qs(n)?zs:Fs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&yo(t,a,r,l),Wi=!1,h=t.memoizedState,a.state=h,Ji(t,r,a,s);var p=t.memoizedState;o!==d||h!==p||Us.current||Wi?("function"===typeof f&&(fo(t,n,f,r),p=t.memoizedState),(c=Wi||mo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,i,s)}function Fo(e,t,n,r,s,i){Oo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Gs(t,n,!1),el(e,t,i);r=t.stateNode,To.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ii(t,e.child,null,i),t.child=Ii(t,null,o,i)):Io(e,t,o,i),t.memoizedState=r.state,s&&Gs(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?Hs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hs(0,t.context,!1),ia(e,t.containerInfo)}function zo(e,t,n,r,s){return Ei(),Si(s),t.flags|=256,Io(e,t,n,r),t.child}var Vo,qo,Bo,Ho,Wo={dehydrated:null,treeContext:null,retryLane:0};function Ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function Go(e,t,n){var r,s=t.pendingProps,a=ca.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ms(ca,1&a),null===e)return bi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Kc(l,s,0,null),e=Wc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ko(n),t.memoizedState=Wo,e):Qo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=xo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Kc({mode:"visible",children:r.children},s,0,null),(a=Wc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ii(t,e.child,null,o),t.child.memoizedState=Ko(o),t.memoizedState=Wo,a);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=xo(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(r=Ul)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Hi(e,s),hc(r,e,s,-1))}return kc(),$o(e,t,o,r=xo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,fi=vs(s.nextSibling),hi=t,pi=!0,mi=null,null!==e&&(ri[si++]=ai,ri[si++]=oi,ri[si++]=ii,ai=e.id,oi=e.overflow,ii=t),t=Qo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Bc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Ko(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Wo,s}return e=(o=e.child).sibling,s=Bc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Qo(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&Si(r),Ii(t,e.child,null,n),(e=Qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Fi(e.return,t,n)}function Xo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ms(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ua(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xo(t,!0,n,null,i);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(di(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return qs(t.type)&&Bs(),nl(t),null;case 3:return r=t.stateNode,aa(),Os(Us),Os(Fs),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(wi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mi&&(gc(mi),mi=null))),qo(e,t),nl(t),null;case 5:la(t);var s=sa(ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Bo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=sa(ta.current),wi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ws]=t,r[Ns]=a,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(s=0;s<Hr.length;s++)Qr(Hr[s],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":Y(r,a),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",r);break;case"textarea":se(r,a),Qr("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&os(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&os(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ls)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ws]=t,e[Ns]=r,Vo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),s=r;break;case"iframe":case"object":case"embed":Qr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hr.length;s++)Qr(Hr[s],e);s=r;break;case"source":Qr("error",e),s=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),s=r;break;case"details":Qr("toggle",e),s=r;break;case"input":Y(e,r),s=$(e,r),Qr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Qr("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Qr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=ls)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=sa(ra.current),sa(ta.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ws]=t,(a=r.nodeValue!==n)&&null!==(e=hi))switch(e.tag){case 3:os(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&os(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ws]=t,t.stateNode=r}return nl(t),null;case 13:if(Os(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pi&&null!==fi&&0!==(1&t.mode)&&0===(128&t.flags))Ni(),Ei(),t.flags|=98560,a=!1;else if(a=wi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ws]=t}else Ei(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else null!==mi&&(gc(mi),mi=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Hl&&(Hl=3):kc())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return aa(),qo(e,t),null===e&&Xr(t.stateNode.containerInfo),nl(t),null;case 10:return Li(t.type._context),nl(t),null;case 19:if(Os(ca),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)tl(a,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,tl(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ms(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&st()>Jl&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!pi)return nl(t),null}else 2*st()-a.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=st(),t.sibling=null,n=ca.current,Ms(ca,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ql)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function sl(e,t){switch(di(t),t.tag){case 1:return qs(t.type)&&Bs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return aa(),Os(Us),Os(Fs),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return la(t),null;case 13:if(Os(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));Ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Os(ca),null;case 4:return aa(),null;case 10:return Li(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}Vo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Bo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,sa(ta.current);var i,a=null;switch(n){case"input":s=$(e,s),r=$(e,r),a=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=ls)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ho=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,al=!1,ol="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Ge){Pc(e,t,Ge)}else n.current=null}function ul(e,t,n){try{n()}catch(Ge){Pc(e,t,Ge)}}var dl=!1;function hl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&ul(t,n,i)}s=s.next}while(s!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ml(e){var t=e.alternate;null!==t&&(e.alternate=null,ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ws],delete t[Ns],delete t[Ss],delete t[ks],delete t[js])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ls));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}var xl=null,wl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,n)}catch(Ye){}switch(n.tag){case 5:al||cl(n,t);case 6:var r=xl,s=wl;xl=null,Nl(e,t,n),wl=s,null!==(xl=r)&&(wl?(e=xl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):xl.removeChild(n.stateNode));break;case 18:null!==xl&&(wl?(e=xl,n=n.stateNode,8===e.nodeType?ys(e.parentNode,n):1===e.nodeType&&ys(e,n),Xt(e)):ys(xl,n.stateNode));break;case 4:r=xl,s=wl,xl=n.stateNode.containerInfo,wl=!0,Nl(e,t,n),xl=r,wl=s;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ul(n,t,a),s=s.next}while(s!==r)}Nl(e,t,n);break;case 1:if(!al&&(cl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ye){Pc(n,t,Ye)}Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,Nl(e,t,n),al=r):Nl(e,t,n);break;default:Nl(e,t,n)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:xl=l.stateNode,wl=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===xl)throw Error(i(160));El(a,o,s),xl=null,wl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(Ue){Pc(s,t,Ue)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)jl(t,e),t=t.sibling}function jl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&r){try{hl(3,e,e.return),fl(3,e)}catch(Fe){Pc(e,e.return,Fe)}try{hl(5,e,e.return)}catch(Fe){Pc(e,e.return,Fe)}}break;case 1:kl(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return);break;case 5:if(kl(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(Fe){Pc(e,e.return,Fe)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(s,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(s,h):"dangerouslySetInnerHTML"===d?ue(s,h):"children"===d?de(s,h):b(s,d,h,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ns]=a}catch(Fe){Pc(e,e.return,Fe)}}break;case 6:if(kl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(Fe){Pc(e,e.return,Fe)}}break;case 3:if(kl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(Fe){Pc(e,e.return,Fe)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Xl=st())),4&r&&Sl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(al=(u=al)||d,kl(t,e),al=u):kl(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ll=e,d=e.child;null!==d;){for(h=ll=d;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:hl(4,f,f.return);break;case 1:cl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Fe){Pc(r,n,Fe)}}break;case 5:cl(f,f.return);break;case 22:if(null!==f.memoizedState){Al(h);continue}}null!==p?(p.return=f,ll=p):Al(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(Fe){Pc(e,e.return,Fe)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(Fe){Pc(e,e.return,Fe)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kl(t,e),Cl(e),4&r&&Sl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),bl(e,yl(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;vl(e,yl(e),a);break;default:throw Error(i(161))}}catch(yt){Pc(e,e.return,yt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){ll=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var s=ll,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||il;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||al;o=il;var c=al;if(il=a,(al=l)&&!c)for(ll=s;null!==ll;)l=(a=ll).child,22===a.tag&&null!==a.memoizedState?Dl(s):null!==l?(l.return=a,ll=l):Dl(s);for(;null!==i;)ll=i,_l(i,t,n),i=i.sibling;ll=s,il=o,al=c}Il(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,ll=i):Il(e)}}function Il(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Zi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Xt(h)}}}break;default:throw Error(i(163))}al||512&t.flags&&pl(t)}catch(f){Pc(t,t.return,f)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function Al(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Dl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(yt){Pc(t,n,yt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(yt){Pc(t,s,yt)}}var i=t.return;try{pl(t)}catch(yt){Pc(t,i,yt)}break;case 5:var a=t.return;try{pl(t)}catch(yt){Pc(t,a,yt)}}}catch(yt){Pc(t,t.return,yt)}if(t===e){ll=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ll=o;break}ll=t.return}}var Rl,Pl=Math.ceil,Ol=x.ReactCurrentDispatcher,Ml=x.ReactCurrentOwner,Ll=x.ReactCurrentBatchConfig,Fl=0,Ul=null,zl=null,Vl=0,ql=0,Bl=Ps(0),Hl=0,Wl=null,Kl=0,Gl=0,Ql=0,$l=null,Yl=null,Xl=0,Jl=1/0,Zl=null,ec=!1,tc=null,nc=null,rc=!1,sc=null,ic=0,ac=0,oc=null,lc=-1,cc=0;function uc(){return 0!==(6&Fl)?st():-1!==lc?lc:lc=st()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Fl)&&0!==Vl?Vl&-Vl:null!==ki.transition?(0===cc&&(cc=Et()),cc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:an(e.type)}function hc(e,t,n,r){if(50<ac)throw ac=0,oc=null,Error(i(185));kt(e,n,r),0!==(2&Fl)&&e===Ul||(e===Ul&&(0===(2&Fl)&&(Gl|=n),4===Hl&&yc(e,Vl)),fc(e,r),1===n&&0===Fl&&0===(1&t.mode)&&(Jl=st()+500,$s&&Js()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ft(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=wt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=xt(e,e===Ul?Vl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){$s=!0,Xs(e)}(vc.bind(null,e)):Xs(vc.bind(null,e)),ms(function(){0===(6&Fl)&&Js()}),n=null;else{switch(Tt(r)){case 1:n=at;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Uc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(lc=-1,cc=0,0!==(6&Fl))throw Error(i(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=xt(e,e===Ul?Vl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=jc(e,r);else{t=r;var s=Fl;Fl|=2;var a=Sc();for(Ul===e&&Vl===t||(Zl=null,Jl=st()+500,Nc(e,t));;)try{Tc();break}catch(Ye){Ec(e,Ye)}Mi(),Ol.current=a,Fl=s,null!==zl?t=0:(Ul=null,Vl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(s=Nt(e))&&(r=s,t=mc(e,s))),1===t)throw n=Wl,Nc(e,0),yc(e,r),fc(e,st()),n;if(6===t)yc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gr(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=jc(e,r))&&(0!==(a=Nt(e))&&(r=a,t=mc(e,a))),1===t))throw n=Wl,Nc(e,0),yc(e,r),fc(e,st()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ac(e,Yl,Zl);break;case 3:if(yc(e,r),(130023424&r)===r&&10<(t=Xl+500-st())){if(0!==xt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hs(Ac.bind(null,e,Yl,Zl),t);break}Ac(e,Yl,Zl);break;case 4:if(yc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ft(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=st()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=hs(Ac.bind(null,e,Yl,Zl),r);break}Ac(e,Yl,Zl);break;default:throw Error(i(329))}}}return fc(e,st()),e.callbackNode===n?pc.bind(null,e):null}function mc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(Nc(e,t).flags|=256),2!==(e=jc(e,t))&&(t=Yl,Yl=n,null!==t&&gc(t)),e}function gc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function yc(e,t){for(t&=~Ql,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&Fl))throw Error(i(327));Dc();var t=xt(e,0);if(0===(1&t))return fc(e,st()),null;var n=jc(e,t);if(0!==e.tag&&2===n){var r=Nt(e);0!==r&&(t=r,n=mc(e,r))}if(1===n)throw n=Wl,Nc(e,0),yc(e,t),fc(e,st()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Yl,Zl),fc(e,st()),null}function bc(e,t){var n=Fl;Fl|=1;try{return e(t)}finally{0===(Fl=n)&&(Jl=st()+500,$s&&Js())}}function xc(e){null!==sc&&0===sc.tag&&0===(6&Fl)&&Dc();var t=Fl;Fl|=1;var n=Ll.transition,r=Ct;try{if(Ll.transition=null,Ct=1,e)return e()}finally{Ct=r,Ll.transition=n,0===(6&(Fl=t))&&Js()}}function wc(){ql=Bl.current,Os(Bl)}function Nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fs(n)),null!==zl)for(n=zl.return;null!==n;){var r=n;switch(di(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bs();break;case 3:aa(),Os(Us),Os(Fs),ha();break;case 5:la(r);break;case 4:aa();break;case 13:case 19:Os(ca);break;case 10:Li(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Ul=e,zl=e=Bc(e.current,null),Vl=ql=t,Hl=0,Wl=null,Ql=Gl=Kl=0,Yl=$l=null,null!==Vi){for(t=0;t<Vi.length;t++)if(null!==(r=(n=Vi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Vi=null}return e}function Ec(e,t){for(;;){var n=zl;try{if(Mi(),fa.current=oo,ba){for(var r=ga.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ba=!1}if(ma=0,va=ya=ga=null,xa=!1,wa=0,Ml.current=null,null===n||null===n.return){Hl=1,Wl=t,zl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Vl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=jo(o);if(null!==p){p.flags&=-257,Co(p,o,l,0,t),1&p.mode&&ko(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ko(a,u,t),kc();break e}c=Error(i(426))}else if(pi&&1&l.mode){var y=jo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Co(y,o,l,0,t),Si(bo(c,l));break e}}a=c=bo(c,l),4!==Hl&&(Hl=2),null===$l?$l=[a]:$l.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Xi(a,Eo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===nc||!nc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Xi(a,So(a,l,t));break e}}a=a.return}while(null!==a)}Ic(n)}catch(Ts){t=Ts,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function Sc(){var e=Ol.current;return Ol.current=oo,null===e?oo:e}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Ul||0===(268435455&Kl)&&0===(268435455&Gl)||yc(Ul,Vl)}function jc(e,t){var n=Fl;Fl|=2;var r=Sc();for(Ul===e&&Vl===t||(Zl=null,Nc(e,t));;)try{Cc();break}catch(Le){Ec(e,Le)}if(Mi(),Fl=n,Ol.current=r,null!==zl)throw Error(i(261));return Ul=null,Vl=0,Hl}function Cc(){for(;null!==zl;)_c(zl)}function Tc(){for(;null!==zl&&!nt();)_c(zl)}function _c(e){var t=Rl(e.alternate,e,ql);e.memoizedProps=e.pendingProps,null===t?Ic(e):zl=t,Ml.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,ql)))return void(zl=n)}else{if(null!==(n=sl(n,t)))return n.flags&=32767,void(zl=n);if(null===e)return Hl=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zl=t);zl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Ac(e,t,n){var r=Ct,s=Ll.transition;try{Ll.transition=null,Ct=1,function(e,t,n,r){do{Dc()}while(null!==sc);if(0!==(6&Fl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Ul&&(zl=Ul=null,Vl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,Uc(lt,function(){return Dc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=Ct;Ct=1;var l=Fl;Fl|=4,Ml.current=null,function(e,t){if(cs=Zt,Nr(e=wr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Pt){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(us={focusedElem:e,selectionRange:n},Zt=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(Pt){Pc(t,t.return,Pt)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}m=dl,dl=!1}(e,n),jl(n,e),Er(us),Zt=!!cs,us=cs=null,e.current=n,Tl(n,e,s),rt(),Fl=l,Ct=o,Ll.transition=a}else e.current=n;if(rc&&(rc=!1,sc=e,ic=s),a=e.pendingLanes,0===a&&(nc=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,st()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ec)throw ec=!1,e=tc,tc=null,e;0!==(1&ic)&&0!==e.tag&&Dc(),a=e.pendingLanes,0!==(1&a)?e===oc?ac++:(ac=0,oc=e):ac=0,Js()}(e,t,n,r)}finally{Ll.transition=s,Ct=r}return null}function Dc(){if(null!==sc){var e=Tt(ic),t=Ll.transition,n=Ct;try{if(Ll.transition=null,Ct=16>e?16:e,null===sc)var r=!1;else{if(e=sc,sc=null,ic=0,0!==(6&Fl))throw Error(i(331));var s=Fl;for(Fl|=4,ll=e.current;null!==ll;){var a=ll,o=a.child;if(0!==(16&ll.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ll=u;null!==ll;){var d=ll;switch(d.tag){case 0:case 11:case 15:hl(8,d,a)}var h=d.child;if(null!==h)h.return=d,ll=h;else for(;null!==ll;){var f=(d=ll).sibling,p=d.return;if(ml(d),d===u){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ll=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ll=o;else e:for(;null!==ll;){if(0!==(2048&(a=ll).flags))switch(a.tag){case 0:case 11:case 15:hl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ll=v;break e}ll=a.return}}var b=e.current;for(ll=b;null!==ll;){var x=(o=ll).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,ll=x;else e:for(o=b;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(Ts){Pc(l,l.return,Ts)}if(l===o){ll=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ll=w;break e}ll=l.return}}if(Fl=s,Js(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(dt,e)}catch(Ts){}r=!0}return r}finally{Ct=n,Ll.transition=t}}return!1}function Rc(e,t,n){e=$i(e,t=Eo(0,t=bo(n,t),1),1),t=uc(),null!==e&&(kt(e,1,t),fc(e,t))}function Pc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){t=$i(t,e=So(t,e=bo(n,e),1),1),e=uc(),null!==t&&(kt(t,1,e),fc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(Vl&n)===n&&(4===Hl||3===Hl&&(130023424&Vl)===Vl&&500>st()-Xl?Nc(e,0):Ql|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=vt,0===(130023424&(vt<<=1))&&(vt=4194304)));var n=uc();null!==(e=Hi(e,t))&&(kt(e,t,n),fc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Fc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Mc(e,n)}function Uc(e,t){return et(e,t)}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,r){return new zc(e,t,n,r)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)qc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Wc(n.children,s,a,t);case S:o=8,s|=8;break;case k:return(e=Vc(12,n,t,2|s)).elementType=k,e.lanes=a,e;case _:return(e=Vc(13,n,t,s)).elementType=_,e.lanes=a,e;case I:return(e=Vc(19,n,t,s)).elementType=I,e.lanes=a,e;case R:return Kc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case C:o=9;break e;case T:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Vc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=Vc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=Vc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,s,i,a,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Vc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ki(i),e}function Xc(e){if(!e)return Ls;e:{if(Ke(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(qs(n))return Ws(e,n,t)}return t}function Jc(e,t,n,r,s,i,a,o,l){return(e=Yc(n,r,!0,e,0,i,0,o,l)).context=Xc(null),n=e.current,(i=Qi(r=uc(),s=dc(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,s),e.current.lanes=s,kt(e,s,r),fc(e,r),e}function Zc(e,t,n,r){var s=t.current,i=uc(),a=dc(s);return n=Xc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(s,t,a))&&(hc(e,s,a,i),Yi(e,s,a)),a}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Us.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),Ei();break;case 5:oa(t);break;case 1:qs(t.type)&&Ks(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ms(Di,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ms(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Go(e,t,n):(Ms(ca,1&ca.current),null!==(e=el(e,t,n))?e.sibling:null);Ms(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Jo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ms(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return el(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,pi&&0!==(1048576&t.flags)&&ci(t,ni,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zo(e,t),e=t.pendingProps;var s=Vs(t,Fs.current);Ui(t,n),s=ka(null,t,r,e,s,n);var a=ja();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qs(r)?(a=!0,Ks(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ki(t),s.updater=po,t.stateNode=s,s._reactInternals=t,vo(t,r,e,n),t=Fo(null,t,r,!0,a,n)):(t.tag=0,pi&&a&&ui(t),Io(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return qc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ho(r,e),s){case 0:t=Mo(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=Do(null,t,r,ho(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Mo(e,t,r,s=t.elementType===r?s:ho(r,s),n);case 1:return r=t.type,s=t.pendingProps,Lo(e,t,r,s=t.elementType===r?s:ho(r,s),n);case 3:e:{if(Uo(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Gi(e,t),Ji(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zo(e,t,r,n,s=bo(Error(i(423)),t));break e}if(r!==s){t=zo(e,t,r,n,s=bo(Error(i(424)),t));break e}for(fi=vs(t.stateNode.containerInfo.firstChild),hi=t,pi=!0,mi=null,n=Ai(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ei(),r===s){t=el(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return oa(t),null===e&&bi(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ds(r,s)?o=null:null!==a&&ds(r,a)&&(t.flags|=32),Oo(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&bi(t),null;case 13:return Go(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ii(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Ao(e,t,r,s=t.elementType===r?s:ho(r,s),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ms(Di,r._currentValue),r._currentValue=o,null!==a)if(gr(a.value,o)){if(a.children===s.children&&!Us.current){t=el(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Qi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Fi(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Fi(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ui(t,n),r=r(s=zi(s)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return s=ho(r=t.type,t.pendingProps),Do(e,t,r,s=ho(r.type,s),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ho(r,s),Zo(e,t),t.tag=1,qs(r)?(e=!0,Ks(t)):e=!1,Ui(t,n),go(t,r,s),vo(t,r,s,n),Fo(null,t,r,!0,e,n);case 19:return Jo(e,t,n);case 22:return Po(e,t,n)}throw Error(i(156,t.tag))};var ru="function"===typeof reportError?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lu(){}function cu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=eu(a);o.call(e)}}Zc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=eu(a);i.call(e)}}var a=Jc(t,r,e,0,null,!1,0,"",lu);return e._reactRootContainer=a,e[Es]=a.current,Xr(8===e.nodeType?e.parentNode:e),xc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=eu(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",lu);return e._reactRootContainer=l,e[Es]=l.current,Xr(8===e.nodeType?e.parentNode:e),xc(function(){Zc(t,l,n,r)}),l}(n,t,e,s,r);return eu(a)}iu.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Zc(e,t,null,null)},iu.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;xc(function(){Zc(null,e,null,null)}),t[Es]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&0!==t&&t<qt[n].priority;n++);qt.splice(n,0,e),0===n&&Kt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bt(t.pendingLanes);0!==n&&(jt(t,1|n),fc(t,st()),0===(6&Fl)&&(Jl=st()+500,Js()))}break;case 13:xc(function(){var t=Hi(e,1);if(null!==t){var n=uc();hc(t,e,1,n)}}),nu(e,1)}},It=function(e){if(13===e.tag){var t=Hi(e,134217728);if(null!==t)hc(t,e,134217728,uc());nu(e,134217728)}},At=function(e){if(13===e.tag){var t=dc(e),n=Hi(e,t);if(null!==n)hc(n,e,t,uc());nu(e,t)}},Dt=function(){return Ct},Rt=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=As(r);if(!s)throw Error(i(90));G(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=bc,Te=xc;var uu={usingClientEntryPoint:!1,Events:[_s,Is,As,ke,je,bc]},du={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hu={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{dt=fu.inject(hu),ht=fu}catch(ze){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(i(299));var n=!1,r="",s=ru;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,s),e[Es]=t.current,Xr(8===e.nodeType?e.parentNode:e),new su(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return xc(e)},t.hydrate=function(e,t,n){if(!ou(t))throw Error(i(200));return cu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Jc(t,null,e,1,null!=n?n:null,s,0,a,o),e[Es]=t.current,Xr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new iu(t)},t.render=function(e,t,n){if(!ou(t))throw Error(i(200));return cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(i(40));return!!e._reactRootContainer&&(xc(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Es]=null})}),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return cu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Le){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,s=n(43),i=n.t(s,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Le){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=r.Pop,h=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:x.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let x={get action(){return l},get location(){return e(i,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,v),h=e,()=>{i.removeEventListener(u,v),h=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(x.location,e,t);n&&n(s,e),g=y()+1;let c=f(s,g),u=x.createHref(s);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}a&&h&&h({action:l,location:x.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(x.location,e,t);n&&n(s,e),g=y();let i=f(s,g),c=x.createHref(s);o.replaceState(i,"",c),a&&h&&h({action:l,location:x.location,delta:0})},go:e=>o.go(e)};return x}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let s=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=R(s);a=A(i[o],e,r)}return a}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))s(e,t,r);else s(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=N(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const E=/^:[\w-]+$/,S=3,k=2,j=1,C=10,T=-2,_=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=T),t&&(r+=k),n.filter(e=>!_(e)).reduce((e,t)=>e+(E.test(t)?S:""===t?j:C),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:U([i,u.pathname]),pathnameBase:z(U([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),d(!s.pathname||!s.pathname.includes("?"),O("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),O("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),O("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:V(r),hash:q(s)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=s.createContext(null);const Q=s.createContext(null);const $=s.createContext(null);const Y=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function Z(){return null!=s.useContext(Y)}function ee(){return Z()||d(!1),s.useContext(Y).location}function te(e){s.useContext($).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=s.useRef(!1);te(()=>{n.current=!0});let r=s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))},[e,t]);return r}():function(){Z()||d(!1);let e=s.useContext(G),{basename:t,future:n,navigator:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=ee(),o=JSON.stringify(L(i,n.v7_relativeSplatPath)),l=s.useRef(!1);te(()=>{l.current=!0});let c=s.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=F(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:U([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)},[t,r,o,a,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=ee(),o=JSON.stringify(L(i,r.v7_relativeSplatPath));return s.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,i){Z()||d(!1);let{navigator:a}=s.useContext($),{matches:o}=s.useContext(X),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:y});let x=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&x?s.createElement(Y.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ie(){let e=function(){var e;let t=s.useContext(J),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ae=s.createElement(ie,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(G);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===i?(p="route-fallback",!1||me[p]||(me[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=s.useContext(G);return t||d(!1),t}function fe(e){let t=s.useContext(Q);return t||d(!1),t}function pe(e){let t=function(){let e=s.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ye(e){d(!1)}function ve(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=s.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=i,b=s.useMemo(()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:a}},[u,f,p,m,y,v,a]);return null==b?null:s.createElement($.Provider,{value:h},s.createElement(Y.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e;return se(xe(t),n)}new Promise(()=>{});s.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,xe(e.props.children,i));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,i)),n.push(a)}),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Le){}new Map;const Se=i.startTransition;l.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&Se?Se(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.useEffect(()=>ge(r),[r]),s.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Ne(e,Ee),{basename:g}=s.useContext($),y=!1;if("string"===typeof u&&Ce.test(u)&&(n=u,je))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Le){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:i}=s.useContext($),{hash:a,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=re(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});return s.createElement("a",we({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var _e,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Re(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function Pe(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){Pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Le={data:""},Fe=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Le},Ue=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ze=/\/\*[^]*?\*\/|  +/g,Ve=/\n+/g,qe=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+a+";":r+="f"==i[1]?qe(a,i):i+"{"+qe(a,"k"==i[1]?"":t)+"}":"object"==typeof a?r+=qe(a,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=a&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=qe.p?qe.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Be={},He=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+He(e[n]);return t}return e},We=(e,t,n,r,s)=>{let i=He(e),a=Be[i]||(Be[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!Be[a]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=Ue.exec(e.replace(ze,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ve," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ve," ").trim();return r[0]})(e);Be[a]=qe(s?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&Be.g?Be.g:null;return n&&(Be.g=Be[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Be[a],t,r,o),a};function Ke(e){let t=this||{},n=e.call?e(t.p):e;return We(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,s)=>{let i=t[s];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":qe(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Fe(t.target),t.g,t.o,t.k)}Ke.bind({g:1});let Ge,Qe,$e,Ye=Ke.bind({k:1});function Xe(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;n.p=Object.assign({theme:Qe&&Qe()},o),n.o=/ *go\d+/.test(l),o.className=Ke.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),$e&&c[0]&&$e(o),Ge(c,o)}return t?t(s):s}}var Je,Ze,et,tt,nt,rt,st,it,at,ot,lt,ct,ut,dt,ht,ft,pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,mt=(()=>{let e=0;return()=>(++e).toString()})(),gt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),yt="default",vt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Me(Me({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Me(Me({},e),t.toast):e)});case 2:let{toast:r}=t;return vt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?Me(Me({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Me(Me({},e),{},{toasts:[]}):Me(Me({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Me(Me({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return Me(Me({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Me(Me({},e),{},{pauseDuration:e.pauseDuration+i}))})}},bt=[],xt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},wt={},Nt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;wt[t]=vt(wt[t]||xt,e),bt.forEach(e=>{let[n,r]=e;n===t&&r(wt[t])})},Et=e=>Object.keys(wt).forEach(t=>Nt(e,t)),St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return t=>{Nt(t,e)}},kt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Me(Me({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||mt()})}(t,e,n);return St(r.toasterId||(e=>Object.keys(wt).find(t=>wt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Ct=(e,t)=>jt("blank")(e,t);Ct.error=jt("error"),Ct.success=jt("success"),Ct.loading=jt("loading"),Ct.custom=jt("custom"),Ct.dismiss=(e,t)=>{let n={type:3,toastId:e};t?St(t)(n):Et(n)},Ct.dismissAll=e=>Ct.dismiss(void 0,e),Ct.remove=(e,t)=>{let n={type:4,toastId:e};t?St(t)(n):Et(n)},Ct.removeAll=e=>Ct.remove(void 0,e),Ct.promise=(e,t,n)=>{let r=Ct.loading(t.loading,Me(Me({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?pt(t.success,e):void 0;return s?Ct.success(s,Me(Me({id:r},n),null==n?void 0:n.success)):Ct.dismiss(r),e}).catch(e=>{let s=t.error?pt(t.error,e):void 0;s?Ct.error(s,Me(Me({id:r},n),null==n?void 0:n.error)):Ct.dismiss(r)}),e};var Tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt,[n,r]=(0,s.useState)(wt[t]||xt),i=(0,s.useRef)(wt[t]);(0,s.useEffect)(()=>(i.current!==wt[t]&&r(wt[t]),bt.push([t,r]),()=>{let e=bt.findIndex(e=>{let[n]=e;return n===t});e>-1&&bt.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,s;return Me(Me(Me(Me({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||kt[t.type],style:Me(Me(Me({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return Me(Me({},n),{},{toasts:a})}(e,t),i=(0,s.useRef)(new Map).current,a=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),s=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Ct.dismiss(n.id,t),r);n.visible&&Ct.dismiss(n.id)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,s.useCallback)(St(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=(0,s.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:i}=t||{},a=n.filter(t=>(t.position||i)===(e.position||i)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},_t=Ye(Je||(Je=Ae(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),It=Ye(Ze||(Ze=Ae(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),At=Ye(et||(et=Ae(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Dt=Xe("div")(tt||(tt=Ae(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",_t,It,e=>e.secondary||"#fff",At),Rt=Ye(nt||(nt=Ae(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Pt=Xe("div")(rt||(rt=Ae(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Rt),Ot=Ye(st||(st=Ae(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Mt=Ye(it||(it=Ae(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Lt=Xe("div")(at||(at=Ae(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Ot,Mt,e=>e.secondary||"#fff"),Ft=Xe("div")(ot||(ot=Ae(["\n  position: absolute;\n"]))),Ut=Xe("div")(lt||(lt=Ae(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),zt=Ye(ct||(ct=Ae(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Vt=Xe("div")(ut||(ut=Ae(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),zt),qt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?s.createElement(Vt,null,n):n:"blank"===r?null:s.createElement(Ut,null,s.createElement(Pt,Me({},i)),"loading"!==r&&s.createElement(Ft,null,"error"===r?s.createElement(Dt,Me({},i)):s.createElement(Lt,Me({},i))))},Bt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ht=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Wt=Xe("div")(dt||(dt=Ae(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Kt=Xe("div")(ht||(ht=Ae(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Gt=s.memo(e=>{let{toast:t,position:n,style:r,children:i}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=gt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Bt(n),Ht(n)];return{animation:t?"".concat(Ye(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ye(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(qt,{toast:t}),l=s.createElement(Kt,Me({},t.ariaProps),pt(t.message,t));return s.createElement(Wt,{className:t.className,style:Me(Me(Me({},a),r),t.style)},"function"==typeof i?i({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,r){qe.p=t,Ge=e,Qe=n,$e=r}(s.createElement);var Qt=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:a}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return s.createElement("div",{ref:o,className:n,style:r},a)},$t=Ke(ft||(ft=Ae(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Yt=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:a,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Tt(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:Me({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Me(Me({left:0,right:0,display:"flex",position:"absolute",transition:gt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),s)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return s.createElement(Qt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?$t:"",style:o},"custom"===e.type?pt(e.message,e):a?a(e):s.createElement(Gt,{toast:e,position:r}))}))},Xt=Ct;var Jt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zt=["color","size","strokeWidth","absoluteStrokeWidth","children"];var en=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,u=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(n,Zt);return(0,s.createElement)("svg",Me(Me({ref:r},Jt),{},{width:a,height:a,stroke:i,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var d});return n.displayName="".concat(e),n};const tn=en("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),nn=en("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),rn=en("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),sn=en("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),an=en("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),on=en("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ln=en("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),cn=en("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),un=en("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),dn=en("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hn=en("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var fn=n(579);const pn=()=>{const e=ee(),t=[{to:"/",icon:tn,label:"Dashboard"},{to:"/sites",icon:nn,label:"Sites"},{to:"/expense-types",icon:rn,label:"Expense Types"},{to:"/expenses",icon:sn,label:"Expenses"},{to:"/machines-tools",icon:an,label:"Machines & Tools"},{to:"/materials",icon:on,label:"Materials"},{to:"/labour-staff",icon:ln,label:"Labour & Staff"},{to:"/attendance",icon:cn,label:"Attendance"},{to:"/tools-machines",icon:un,label:"Tools & Machines"},{to:"/settings",icon:dn,label:"Settings"}];return(0,fn.jsxs)("div",{className:"sidebar",children:[(0,fn.jsx)("div",{className:"sidebar-header",children:(0,fn.jsxs)("div",{className:"logo",children:[(0,fn.jsx)("div",{className:"logo-icon",children:(0,fn.jsx)(hn,{size:20})}),"B&G Infrastructures"]})}),(0,fn.jsx)("nav",{children:(0,fn.jsx)("ul",{className:"sidebar-nav",children:t.map(t=>{const n=t.icon,r=e.pathname===t.to;return(0,fn.jsx)("li",{className:"nav-item",children:(0,fn.jsxs)(Te,{to:t.to,className:"nav-link ".concat(r?"active":""),children:[(0,fn.jsx)(n,{}),t.label]})},t.to)})})})]})},mn=en("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gn=en("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},vn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new bn;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xn=function(e){return function(e){const t=yn(e);return vn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},wn=function(e){try{return vn.decodeString(e,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};const Nn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,En=()=>{try{return Nn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Le){return}const t=e&&wn(e[1]);return t&&JSON.parse(t)})()}catch(Le){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Le))}},Sn=e=>{var t,n;return null===(n=null===(t=En())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},kn=()=>{var e;return null===(e=En())||void 0===e?void 0:e.config},jn=e=>{var t;return null===(t=En())||void 0===t?void 0:t["_".concat(e)]};class Cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _n(){try{return"object"===typeof indexedDB}catch(Le){return!1}}class In extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Dn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new In(n,i,t)}}const Dn=/\{\$([^}]+)}/g;function Rn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Pn(n)&&Pn(i)){if(!Rn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Pn(e){return null!==e&&"object"===typeof e}function On(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ln(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Fn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Un),void 0===r.error&&(r.error=Un),void 0===r.complete&&(r.complete=Un);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Le){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Le){"undefined"!==typeof console&&console.error&&console.error(Le)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function zn(e){return e&&e._delegate?e._delegate:e}class Vn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qn="[DEFAULT]";class Bn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Cn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Le){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Le){if(r)return null;throw Le}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch(Le){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Le){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===qn?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Hn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wn=[];var Kn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Kn||(Kn={}));const Gn={debug:Kn.DEBUG,verbose:Kn.VERBOSE,info:Kn.INFO,warn:Kn.WARN,error:Kn.ERROR,silent:Kn.SILENT},Qn=Kn.INFO,$n={[Kn.DEBUG]:"log",[Kn.VERBOSE]:"log",[Kn.INFO]:"info",[Kn.WARN]:"warn",[Kn.ERROR]:"error"},Yn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=$n[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Xn{constructor(e){this.name=e,this._logLevel=Qn,this._logHandler=Yn,this._userLogHandler=null,Wn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Gn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kn.DEBUG,...t),this._logHandler(this,Kn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kn.VERBOSE,...t),this._logHandler(this,Kn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kn.INFO,...t),this._logHandler(this,Kn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kn.WARN,...t),this._logHandler(this,Kn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Kn.ERROR,...t),this._logHandler(this,Kn.ERROR,...t)}}let Jn,Zn;const er=new WeakMap,tr=new WeakMap,nr=new WeakMap,rr=new WeakMap,sr=new WeakMap;let ir={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ar(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zn||(Zn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cr(this),n),lr(er.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lr(e.apply(cr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(cr(this),t,...r);return nr.set(i,t.sort?t.sort():[t]),lr(i)}}function or(e){return"function"===typeof e?ar(e):(e instanceof IDBTransaction&&function(e){if(tr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});tr.set(e,t)}(e),t=e,(Jn||(Jn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ir):e);var t}function lr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(lr(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&er.set(t,e)}).catch(()=>{}),sr.set(t,e),t}(e);if(rr.has(e))return rr.get(e);const t=or(e);return t!==e&&(rr.set(e,t),sr.set(t,e)),t}const cr=e=>sr.get(e);const ur=["get","getKey","getAll","getAllKeys","count"],dr=["put","add","delete","clear"],hr=new Map;function fr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(hr.get(t))return hr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=dr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!ur.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return hr.set(t,i),i}ir=(e=>Me(Me({},e),{},{get:(t,n,r)=>fr(t,n)||e.get(t,n,r),has:(t,n)=>!!fr(t,n)||e.has(t,n)}))(ir);class pr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const mr="@firebase/app",gr="0.9.13",yr=new Xn("@firebase/app"),vr="@firebase/app-compat",br="@firebase/analytics-compat",xr="@firebase/analytics",wr="@firebase/app-check-compat",Nr="@firebase/app-check",Er="@firebase/auth",Sr="@firebase/auth-compat",kr="@firebase/database",jr="@firebase/database-compat",Cr="@firebase/functions",Tr="@firebase/functions-compat",_r="@firebase/installations",Ir="@firebase/installations-compat",Ar="@firebase/messaging",Dr="@firebase/messaging-compat",Rr="@firebase/performance",Pr="@firebase/performance-compat",Or="@firebase/remote-config",Mr="@firebase/remote-config-compat",Lr="@firebase/storage",Fr="@firebase/storage-compat",Ur="@firebase/firestore",zr="@firebase/firestore-compat",Vr="firebase",qr="[DEFAULT]",Br={[mr]:"fire-core",[vr]:"fire-core-compat",[xr]:"fire-analytics",[br]:"fire-analytics-compat",[Nr]:"fire-app-check",[wr]:"fire-app-check-compat",[Er]:"fire-auth",[Sr]:"fire-auth-compat",[kr]:"fire-rtdb",[jr]:"fire-rtdb-compat",[Cr]:"fire-fn",[Tr]:"fire-fn-compat",[_r]:"fire-iid",[Ir]:"fire-iid-compat",[Ar]:"fire-fcm",[Dr]:"fire-fcm-compat",[Rr]:"fire-perf",[Pr]:"fire-perf-compat",[Or]:"fire-rc",[Mr]:"fire-rc-compat",[Lr]:"fire-gcs",[Fr]:"fire-gcs-compat",[Ur]:"fire-fst",[zr]:"fire-fst-compat","fire-js":"fire-js",[Vr]:"fire-js-all"},Hr=new Map,Wr=new Map;function Kr(e,t){try{e.container.addComponent(t)}catch(Le){yr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Le)}}function Gr(e){const t=e.name;if(Wr.has(t))return yr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wr.set(t,e);for(const n of Hr.values())Kr(n,e);return!0}function Qr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const $r=new An("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Xr="9.23.0";function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:qr,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw $r.create("bad-app-name",{appName:String(s)});if(n||(n=kn()),!n)throw $r.create("no-options");const i=Hr.get(s);if(i){if(Rn(n,i.options)&&Rn(r,i.config))return i;throw $r.create("duplicate-app",{appName:s})}const a=new Hn(s);for(const l of Wr.values())a.addComponent(l);const o=new Yr(n,r,a);return Hr.set(s,o),o}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr;const t=Hr.get(e);if(!t&&e===qr&&kn())return Jr();if(!t)throw $r.create("no-app",{appName:e});return t}function es(e,t,n){var r;let s=null!==(r=Br[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yr.warn(e.join(" "))}Gr(new Vn("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ts="firebase-heartbeat-store";let ns=null;function rs(){return ns||(ns=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=lr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(lr(a.result),e.oldVersion,e.newVersion,lr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ts)}}).catch(e=>{throw $r.create("idb-open",{originalErrorMessage:e.message})})),ns}async function ss(e,t){try{const n=(await rs()).transaction(ts,"readwrite"),r=n.objectStore(ts);await r.put(t,is(e)),await n.done}catch(Le){if(Le instanceof In)yr.warn(Le.message);else{const t=$r.create("idb-set",{originalErrorMessage:null===Le||void 0===Le?void 0:Le.message});yr.warn(t.message)}}}function is(e){return"".concat(e.name,"!").concat(e.options.appId)}class as{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ls(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=os();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=os(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),cs(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=xn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function os(){return(new Date).toISOString().substring(0,10)}class ls{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_n()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await rs();return await t.transaction(ts).objectStore(ts).get(is(e))}catch(Le){if(Le instanceof In)yr.warn(Le.message);else{const t=$r.create("idb-get",{originalErrorMessage:null===Le||void 0===Le?void 0:Le.message});yr.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ss(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ss(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cs(e){return xn(JSON.stringify({version:2,heartbeats:e})).length}var us;us="",Gr(new Vn("platform-logger",e=>new pr(e),"PRIVATE")),Gr(new Vn("heartbeat",e=>new as(e),"PRIVATE")),es(mr,gr,us),es(mr,gr,"esm2017"),es("fire-js","");var ds,hs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fs={},ps=ps||{},ms=hs||self;function gs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ys(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vs="closure_uid_"+(1e9*Math.random()>>>0),bs=0;function xs(e,t,n){return e.call.apply(e.bind,arguments)}function ws(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ns(e,t,n){return(Ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xs:ws).apply(null,arguments)}function Es(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ss(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function ks(){this.s=this.s,this.o=this.o}ks.prototype.s=!1,ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,vs)&&e[vs]||(e[vs]=++bs)}(this)},ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const js=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ts(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(gs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function _s(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_s.prototype.h=function(){this.defaultPrevented=!0};var Is=function(){if(!ms.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ms.addEventListener("test",()=>{},t),ms.removeEventListener("test",()=>{},t)}catch(Be){}return e}();function As(e){return/^[\s\xa0]*$/.test(e)}function Ds(){var e=ms.navigator;return e&&(e=e.userAgent)?e:""}function Rs(e){return-1!=Ds().indexOf(e)}function Ps(e){return Ps[" "](e),e}Ps[" "]=function(){};var Os,Ms,Ls=Rs("Opera"),Fs=Rs("Trident")||Rs("MSIE"),Us=Rs("Edge"),zs=Us||Fs,Vs=Rs("Gecko")&&!(-1!=Ds().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),qs=-1!=Ds().toLowerCase().indexOf("webkit")&&!Rs("Edge");function Bs(){var e=ms.document;return e?e.documentMode:void 0}e:{var Hs="",Ws=function(){var e=Ds();return Vs?/rv:([^\);]+)(\)|;)/.exec(e):Us?/Edge\/([\d\.]+)/.exec(e):Fs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qs?/WebKit\/(\S+)/.exec(e):Ls?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ws&&(Hs=Ws?Ws[1]:""),Fs){var Ks=Bs();if(null!=Ks&&Ks>parseFloat(Hs)){Os=String(Ks);break e}}Os=Hs}if(ms.document&&Fs){var Gs=Bs();Ms=Gs||(parseInt(Os,10)||void 0)}else Ms=void 0;var Qs=Ms;function $s(e,t){if(_s.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vs){e:{try{Ps(t.nodeName);var s=!0;break e}catch(Qe){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ys[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$s.$.h.call(this)}}Ss($s,_s);var Ys={2:"touch",3:"pen",4:"mouse"};$s.prototype.h=function(){$s.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),Js=0;function Zs(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++Js,this.fa=this.ia=!1}function ei(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ti(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ni(e){const t={};for(const n in e)t[n]=e[n];return t}const ri="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function si(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<ri.length;t++)n=ri[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ii(e){this.src=e,this.g={},this.h=0}function ai(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=js(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(ei(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oi(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}ii.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=oi(e,t,r,s);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Zs(t,this.src,i,!!r,s)).ia=n,e.push(t)),t};var li="closure_lm_"+(1e6*Math.random()|0),ci={};function ui(e,t,n,r,s){if(r&&r.once)return hi(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)ui(e,t[i],n,r,s);return null}return n=bi(n),e&&e[Xs]?e.O(t,n,ys(r)?!!r.capture:!!r,s):di(e,t,n,!1,r,s)}function di(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=ys(s)?!!s.capture:!!s,o=yi(e);if(o||(e[li]=o=new ii(e)),(n=o.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=gi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Is||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(mi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function hi(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)hi(e,t[i],n,r,s);return null}return n=bi(n),e&&e[Xs]?e.P(t,n,ys(r)?!!r.capture:!!r,s):di(e,t,n,!0,r,s)}function fi(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)fi(e,t[i],n,r,s);else r=ys(r)?!!r.capture:!!r,n=bi(n),e&&e[Xs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=oi(i=e.g[t],n,r,s))&&(ei(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=yi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oi(t,n,r,s)),(n=-1<e?t[e]:null)&&pi(n))}function pi(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Xs])ai(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yi(t))?(ai(n,e),0==n.h&&(n.src=null,t[li]=null)):ei(e)}}}function mi(e){return e in ci?ci[e]:ci[e]="on"+e}function gi(e,t){if(e.fa)e=!0;else{t=new $s(t,this);var n=e.listener,r=e.la||e.src;e.ia&&pi(e),e=n.call(r,t)}return e}function yi(e){return(e=e[li])instanceof ii?e:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(e){return"function"===typeof e?e:(e[vi]||(e[vi]=function(t){return e.handleEvent(t)}),e[vi])}function xi(){ks.call(this),this.i=new ii(this),this.S=this,this.J=null}function wi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _s(t,e);else if(t instanceof _s)t.target=t.target||e;else{var s=t;si(t=new _s(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=Ni(a,r,!0,t)&&s}if(s=Ni(a=t.g=e,r,!0,t)&&s,s=Ni(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=Ni(a=t.g=n[i],r,!1,t)&&s}function Ni(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&ai(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}Ss(xi,ks),xi.prototype[Xs]=!0,xi.prototype.removeEventListener=function(e,t,n,r){fi(this,e,t,n,r)},xi.prototype.N=function(){if(xi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ei(n[r]);delete t.g[e],t.h--}}this.J=null},xi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ei=ms.JSON.stringify;function Si(){var e=Ai;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ki=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ji,e=>e.reset());class ji{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ci(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ti(e){ms.setTimeout(()=>{throw e},0)}let _i,Ii=!1,Ai=new class{constructor(){this.h=this.g=null}add(e,t){const n=ki.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Di=()=>{const e=ms.Promise.resolve(void 0);_i=()=>{e.then(Ri)}};var Ri=()=>{for(var e;e=Si();){try{e.h.call(e.g)}catch(Be){Ti(Be)}var t=ki;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ii=!1};function Pi(e,t){xi.call(this),this.h=e||1,this.g=t||ms,this.j=Ns(this.qb,this),this.l=Date.now()}function Oi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Mi(e,t,n){if("function"===typeof e)n&&(e=Ns(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ns(e.handleEvent,e)}return 2147483647<Number(t)?-1:ms.setTimeout(e,t||0)}function Li(e){e.g=Mi(()=>{e.g=null,e.i&&(e.i=!1,Li(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ss(Pi,xi),(ds=Pi.prototype).ga=!1,ds.T=null,ds.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wi(this,"tick"),this.ga&&(Oi(this),this.start()))}},ds.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ds.N=function(){Pi.$.N.call(this),Oi(this),delete this.g};class Fi extends ks{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Li(this)}N(){super.N(),this.g&&(ms.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(e){ks.call(this),this.h=e,this.g={}}Ss(Ui,ks);var zi=[];function Vi(e,t,n,r){Array.isArray(n)||(n&&(zi[0]=n.toString()),n=zi);for(var s=0;s<n.length;s++){var i=ui(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function qi(e){ti(e.g,function(e,t){this.g.hasOwnProperty(t)&&pi(e)},e),e.g={}}function Bi(){this.g=!0}function Hi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return Ei(n)}catch(Ve){return t}}(e,n)+(r?" "+r:"")})}Ui.prototype.N=function(){Ui.$.N.call(this),qi(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bi.prototype.Ea=function(){this.g=!1},Bi.prototype.info=function(){};var Wi={},Ki=null;function Gi(){return Ki=Ki||new xi}function Qi(e){_s.call(this,Wi.Ta,e)}function $i(e){const t=Gi();wi(t,new Qi(t))}function Yi(e,t){_s.call(this,Wi.STAT_EVENT,e),this.stat=t}function Xi(e){const t=Gi();wi(t,new Yi(t,e))}function Ji(e,t){_s.call(this,Wi.Ua,e),this.size=t}function Zi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ms.setTimeout(function(){e()},t)}Wi.Ta="serverreachability",Ss(Qi,_s),Wi.STAT_EVENT="statevent",Ss(Yi,_s),Wi.Ua="timingevent",Ss(Ji,_s);var ea={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ta={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function na(){}function ra(e){return e.h||(e.h=e.i())}function sa(){}na.prototype.h=null;var ia,aa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oa(){_s.call(this,"d")}function la(){_s.call(this,"c")}function ca(){}function ua(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ui(this),this.P=ha,e=zs?125:void 0,this.V=new Pi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}Ss(oa,_s),Ss(la,_s),Ss(ca,na),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},ia=new ca;var ha=45e3,fa={},pa={};function ma(e,t,n){e.L=1,e.v=Pa(_a(t)),e.s=n,e.S=!0,ga(e,null)}function ga(e,t){e.G=Date.now(),xa(e),e.A=_a(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ga(n.i,"t",r),e.C=0,n=e.l.J,e.h=new da,e.g=Qo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fi(Ns(e.Pa,e,e.g),e.O)),Vi(e.U,e.g,"readystatechange",e.nb),t=e.I?ni(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$i(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function ya(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function va(e,t,n){let r,s=!0;for(;!e.J&&e.C<n.length;){if(r=ba(e,n),r==pa){4==t&&(e.o=4,Xi(14),s=!1),Hi(e.j,e.m,null,"[Incomplete Response]");break}if(r==fa){e.o=4,Xi(15),Hi(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}Hi(e.j,e.m,r,null),ka(e,r)}ya(e)&&r!=pa&&r!=fa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xi(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zo(t),t.M=!0,Xi(11))):(Hi(e.j,e.m,n,"[Invalid Chunked Response]"),Sa(e),Ea(e))}function ba(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pa:(n=Number(t.substring(n,r)),isNaN(n)?fa:(r+=1)+n>t.length?pa:(t=t.slice(r,r+n),e.C=r+n,t))}function xa(e){e.Y=Date.now()+e.P,wa(e,e.P)}function wa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zi(Ns(e.lb,e),t)}function Na(e){e.B&&(ms.clearTimeout(e.B),e.B=null)}function Ea(e){0==e.l.H||e.J||Bo(e.l,e)}function Sa(e){Na(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Oi(e.V),qi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ka(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||eo(n.i,e)))if(!e.K&&eo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;qo(n),Do(n)}Uo(n),Xi(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Zi(Ns(n.ib,n),6e3));if(1>=Za(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Wo(n,11)}else if((e.K||n.g==e)&&qo(n),!As(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(to(i,i.h),i.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ra(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Go(r,r.J?r.pa:null,r.Y),a.K){no(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Na(o),xa(o)),r.g=a}else Fo(r);0<n.j.length&&Po(n)}else"stop"!=c[0]&&"close"!=c[0]||Wo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wo(n,7):Ao(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}$i()}catch(c){}}function ja(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(gs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(gs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}(ds=ua.prototype).setTimeout=function(e){this.P=e},ds.nb=function(e){e=e.target;const t=this.M;t&&3==ko(e)?t.l():this.Pa(e)},ds.Pa=function(e){try{if(e==this.g)e:{const u=ko(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||zs||this.g&&(this.h.h||this.g.ja()||jo(this.g)))){this.J||4!=u||7==t||$i(),Na(this);var n=this.g.da();this.ca=n;t:if(ya(this)){var r=jo(this.g);e="";var s=r.length,i=4==ko(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sa(this),Ea(this);var a="";break t}this.h.i=new ms.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!As(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xi(12),Sa(this),Ea(this);break e}Hi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,n)}this.S?(va(this,u,a),zs&&this.i&&3==u&&(Vi(this.U,this.V,"tick",this.mb),this.V.start())):(Hi(this.j,this.m,a,null),ka(this,a)),4==u&&Sa(this),this.i&&!this.J&&(4==u?Bo(this.l,this):(this.i=!1,xa(this)))}else(function(e){const t={};e=(e.g&&2<=ko(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(As(e[r]))continue;var n=Ci(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),Sa(this),Ea(this)}}}catch(Ke){}},ds.mb=function(){if(this.g){var e=ko(this.g),t=this.g.ja();this.C<t.length&&(Na(this),va(this,e,t),this.i&&4!=e&&xa(this))}},ds.cancel=function(){this.J=!0,Sa(this)},ds.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&($i(),Xi(17)),Sa(this),this.o=2,Ea(this)):wa(this,this.Y-e)};var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ta){this.h=e.h,Ia(this,e.j),this.s=e.s,this.g=e.g,Aa(this,e.m),this.l=e.l;var t=e.i,n=new Ba;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Da(this,n),this.o=e.o}else e&&(t=String(e).match(Ca))?(this.h=!1,Ia(this,t[1]||"",!0),this.s=Oa(t[2]||""),this.g=Oa(t[3]||"",!0),Aa(this,t[4]),this.l=Oa(t[5]||"",!0),Da(this,t[6]||"",!0),this.o=Oa(t[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}function _a(e){return new Ta(e)}function Ia(e,t,n){e.j=n?Oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Aa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Da(e,t,n){t instanceof Ba?(e.i=t,function(e,t){t&&!e.j&&(Ha(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Wa(this,t),Ga(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ma(t,Va)),e.i=new Ba(t,e.h))}function Ra(e,t,n){e.i.set(t,n)}function Pa(e){return Ra(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ma(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,La),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function La(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ta.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ma(t,Fa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ma(t,Fa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ma(n,"/"==n.charAt(0)?za:Ua,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ma(n,qa)),e.join("")};var Fa=/[#\/\?@]/g,Ua=/[#\?:]/g,za=/[#\?]/g,Va=/[#\?@]/g,qa=/#/g;function Ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ha(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Wa(e,t){Ha(e),t=Qa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ka(e,t){return Ha(e),t=Qa(e,t),e.g.has(t)}function Ga(e,t,n){Wa(e,t),0<n.length&&(e.i=null,e.g.set(Qa(e,t),Cs(n)),e.h+=n.length)}function Qa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ds=Ba.prototype).add=function(e,t){Ha(this),this.i=null,e=Qa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ds.forEach=function(e,t){Ha(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},ds.ta=function(){Ha(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},ds.Z=function(e){Ha(this);let t=[];if("string"===typeof e)Ka(this,e)&&(t=t.concat(this.g.get(Qa(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ds.set=function(e,t){return Ha(this),this.i=null,Ka(this,e=Qa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ds.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ds.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")};var $a=class{constructor(e,t){this.g=e,this.map=t}};function Ya(e){this.l=e||Xa,ms.PerformanceNavigationTiming?e=0<(e=ms.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ms.g&&ms.g.Ka&&ms.g.Ka()&&ms.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xa=10;function Ja(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Za(e){return e.h?1:e.g?e.g.size:0}function eo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function to(e,t){e.g?e.g.add(t):e.h=t}function no(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ro(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Cs(e.i)}Ya.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var so=class{stringify(e){return ms.JSON.stringify(e,void 0)}parse(e){return ms.JSON.parse(e,void 0)}};function io(){this.g=new so}function ao(e,t,n){const r=n||"";try{ja(e,function(e,n){let s=e;ys(e)&&(s=Ei(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(Le){throw t.push(r+"type="+encodeURIComponent("_badmap")),Le}}function oo(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(Qe){}}function lo(e){this.l=e.fc||null,this.j=e.ob||!1}function co(e,t){xi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=uo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ss(lo,na),lo.prototype.g=function(){return new co(this.l,this.j)},lo.prototype.i=function(e){return function(){return e}}({}),Ss(co,xi);var uo=0;function ho(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function fo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,po(e)}function po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ds=co.prototype).open=function(e,t){if(this.readyState!=uo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,po(this)},ds.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ms).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ds.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fo(this)),this.readyState=uo},ds.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ms.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ho(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ds.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fo(this):po(this),3==this.readyState&&ho(this)}},ds.Za=function(e){this.g&&(this.response=this.responseText=e,fo(this))},ds.Ya=function(e){this.g&&(this.response=e,fo(this))},ds.ka=function(){this.g&&fo(this)},ds.setRequestHeader=function(e,t){this.v.append(e,t)},ds.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ds.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mo=ms.JSON.parse;function go(e){xi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yo,this.L=this.M=!1}Ss(go,xi);var yo="",vo=/^https?$/i,bo=["POST","PUT"];function xo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wo(e),Eo(e)}function wo(e){e.F||(e.F=!0,wi(e,"complete"),wi(e,"error"))}function No(e){if(e.h&&"undefined"!=typeof ps&&(!e.C[1]||4!=ko(e)||2!=e.da()))if(e.v&&4==ko(e))Mi(e.La,0,e);else if(wi(e,"readystatechange"),4==ko(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var s=String(e.I).match(Ca)[1]||null;!s&&ms.self&&ms.self.location&&(s=ms.self.location.protocol.slice(0,-1)),r=!vo.test(s?s.toLowerCase():"")}n=r}if(n)wi(e,"complete"),wi(e,"success");else{e.m=6;try{var i=2<ko(e)?e.g.statusText:""}catch(Ve){i=""}e.j=i+" ["+e.da()+"]",wo(e)}}finally{Eo(e)}}}function Eo(e,t){if(e.g){So(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||wi(e,"ready");try{n.onreadystatechange=r}catch(Le){}}}function So(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ms.clearTimeout(e.A),e.A=null)}function ko(e){return e.g?e.g.readyState:0}function jo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case yo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Co(e){let t="";return ti(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function To(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Co(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ra(e,t,n))}function _o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Io(e){this.Ga=0,this.j=[],this.l=new Bi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_o("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_o("baseRetryDelayMs",5e3,e),this.hb=_o("retryDelaySeedMs",1e4,e),this.eb=_o("forwardChannelMaxRetries",2,e),this.xa=_o("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ya(e&&e.concurrentRequestLimit),this.Ja=new io,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ao(e){if(Ro(e),3==e.H){var t=e.W++,n=_a(e.I);if(Ra(n,"SID",e.K),Ra(n,"RID",t),Ra(n,"TYPE","terminate"),Mo(e,n),(t=new ua(e,e.l,t)).L=2,t.v=Pa(_a(n)),n=!1,ms.navigator&&ms.navigator.sendBeacon)try{n=ms.navigator.sendBeacon(t.v.toString(),"")}catch(Ge){}!n&&ms.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),xa(t)}Ko(e)}function Do(e){e.g&&(zo(e),e.g.cancel(),e.g=null)}function Ro(e){Do(e),e.u&&(ms.clearTimeout(e.u),e.u=null),qo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ms.clearTimeout(e.m),e.m=null)}function Po(e){if(!Ja(e.i)&&!e.m){e.m=!0;var t=e.Na;_i||Di(),Ii||(_i(),Ii=!0),Ai.add(t,e),e.C=0}}function Oo(e,t){var n;n=t?t.m:e.W++;const r=_a(e.I);Ra(r,"SID",e.K),Ra(r,"RID",n),Ra(r,"AID",e.V),Mo(e,r),e.o&&e.s&&To(r,e.o,e.s),n=new ua(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Lo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),to(e.i,n),ma(n,r,t)}function Mo(e,t){e.na&&ti(e.na,function(e,n){Ra(t,n,e)}),e.h&&ja({},function(e,n){Ra(t,n,e)})}function Lo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ns(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{ao(o,e,"req"+n+"_")}catch(Lt){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Fo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_i||Di(),Ii||(_i(),Ii=!0),Ai.add(t,e),e.A=0}}function Uo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Zi(Ns(e.Ma,e),Ho(e,e.A)),e.A++,!0)}function zo(e){null!=e.B&&(ms.clearTimeout(e.B),e.B=null)}function Vo(e){e.g=new ua(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=_a(e.wa);Ra(t,"RID","rpc"),Ra(t,"SID",e.K),Ra(t,"AID",e.V),Ra(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ra(t,"TO",e.qa),Ra(t,"TYPE","xmlhttp"),Mo(e,t),e.o&&e.s&&To(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Pa(_a(t)),n.s=null,n.S=!0,ga(n,e)}function qo(e){null!=e.v&&(ms.clearTimeout(e.v),e.v=null)}function Bo(e,t){var n=null;if(e.g==t){qo(e),zo(e),e.g=null;var r=2}else{if(!eo(e.i,t))return;n=t.F,no(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;wi(r=Gi(),new Ji(r,n)),Po(e)}else Fo(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function(e,t){return!(Za(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Zi(Ns(e.Na,e,t),Ho(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Wo(e,5);break;case 4:Wo(e,10);break;case 3:Wo(e,6);break;default:Wo(e,2)}}function Ho(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Wo(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ns(e.pb,e);n||(n=new Ta("//www.google.com/images/cleardot.gif"),ms.location&&"http"==ms.location.protocol||Ia(n,"https"),Pa(n)),function(e,t){const n=new Bi;if(ms.Image){const r=new Image;r.onload=Es(oo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Es(oo,n,r,"TestLoadImage: error",!1,t),r.onabort=Es(oo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Es(oo,n,r,"TestLoadImage: timeout",!1,t),ms.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xi(2);e.H=0,e.h&&e.h.za(t),Ko(e),Ro(e)}function Ko(e){if(e.H=0,e.ma=[],e.h){const t=ro(e.i);0==t.length&&0==e.j.length||(Ts(e.ma,t),Ts(e.ma,e.j),e.i.i.length=0,Cs(e.j),e.j.length=0),e.h.ya()}}function Go(e,t,n){var r=n instanceof Ta?_a(n):new Ta(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Aa(r,r.m);else{var s=ms.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Ta(null);r&&Ia(i,r),t&&(i.g=t),s&&Aa(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&Ra(r,n,t),Ra(r,"VER",e.ra),Mo(e,r),r}function Qo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new go(new lo({ob:!0})):new go(e.va)).Oa(e.J),t}function $o(){}function Yo(){if(Fs&&!(10<=Number(Qs)))throw Error("Environmental error: no available transport.")}function Xo(e,t){xi.call(this),this.g=new Io(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!As(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!As(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new el(this)}function Jo(e){oa.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zo(){la.call(this),this.status=1}function el(e){this.g=e}function tl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function rl(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}(ds=go.prototype).Oa=function(e){this.M=e},ds.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ia.g(),this.C=this.u?ra(this.u):ra(ia),this.g.onreadystatechange=Ns(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Qe){return void xo(this,Qe)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=ms.FormData&&e instanceof ms.FormData,!(0<=js(bo,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{So(this),0<this.B&&((this.L=function(e){return Fs&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ns(this.ua,this)):this.A=Mi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Qe){xo(this,Qe)}},ds.ua=function(){"undefined"!=typeof ps&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wi(this,"timeout"),this.abort(8))},ds.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wi(this,"complete"),wi(this,"abort"),Eo(this))},ds.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eo(this,!0)),go.$.N.call(this)},ds.La=function(){this.s||(this.G||this.v||this.l?No(this):this.kb())},ds.kb=function(){No(this)},ds.isActive=function(){return!!this.g},ds.da=function(){try{return 2<ko(this)?this.g.status:-1}catch(ze){return-1}},ds.ja=function(){try{return this.g?this.g.responseText:""}catch(ze){return""}},ds.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mo(t)}},ds.Ia=function(){return this.m},ds.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ds=Io.prototype).ra=8,ds.H=1,ds.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new ua(this,this.l,e);let i=this.s;if(this.U&&(i?(i=ni(i),si(i,this.U)):i=this.U),null!==this.o||this.O||(s.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Lo(this,s,t),Ra(n=_a(this.I),"RID",e),Ra(n,"CVER",22),this.F&&Ra(n,"X-HTTP-Session-Id",this.F),Mo(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Co(i)))+"&"+t:this.o&&To(n,this.o,i)),to(this.i,s),this.bb&&Ra(n,"TYPE","init"),this.P?(Ra(n,"$req",t),Ra(n,"SID","null"),s.aa=!0,ma(s,n,null)):ma(s,n,t),this.H=2}}else 3==this.H&&(e?Oo(this,e):0==this.j.length||Ja(this.i)||Oo(this))},ds.Ma=function(){if(this.u=null,Vo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zi(Ns(this.jb,this),e)}},ds.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),Do(this),Vo(this))},ds.ib=function(){null!=this.v&&(this.v=null,Do(this),Uo(this),Xi(19))},ds.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))},ds.isActive=function(){return!!this.h&&this.h.isActive(this)},(ds=$o.prototype).Ba=function(){},ds.Aa=function(){},ds.za=function(){},ds.ya=function(){},ds.isActive=function(){return!0},ds.Va=function(){},Yo.prototype.g=function(e,t){return new Xo(e,t)},Ss(Xo,xi),Xo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Go(e,null,e.Y),Po(e)},Xo.prototype.close=function(){Ao(this.g)},Xo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ei(e),e=n);t.j.push(new $a(t.fb++,e)),3==t.H&&Po(t)},Xo.prototype.N=function(){this.g.h=null,delete this.j,Ao(this.g),delete this.g,Xo.$.N.call(this)},Ss(Jo,oa),Ss(Zo,la),Ss(el,$o),el.prototype.Ba=function(){wi(this.g,"a")},el.prototype.Aa=function(e){wi(this.g,new Jo(e))},el.prototype.za=function(e){wi(this.g,new Zo)},el.prototype.ya=function(){wi(this.g,"b")},Ss(tl,function(){this.blockSize=-1}),tl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},tl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(0==s)for(;i<=n;)nl(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){nl(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){nl(this,r),s=0;break}}this.h=s,this.i+=t},tl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var sl={};function il(e){return-128<=e&&128>e?function(e,t){var n=sl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new rl([0|e],0>e?-1:0)}):new rl([0|e],0>e?-1:0)}function al(e){if(isNaN(e)||!isFinite(e))return ll;if(0>e)return fl(al(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ol;return new rl(t,0)}var ol=4294967296,ll=il(0),cl=il(1),ul=il(16777216);function dl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function hl(e){return-1==e.h}function fl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new rl(n,~e.h).add(cl)}function pl(e,t){return e.add(fl(t))}function ml(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gl(e,t){this.g=e,this.h=t}function yl(e,t){if(dl(t))throw Error("division by zero");if(dl(e))return new gl(ll,ll);if(hl(e))return t=yl(fl(e),t),new gl(fl(t.g),fl(t.h));if(hl(t))return t=yl(e,fl(t)),new gl(fl(t.g),t.h);if(30<e.g.length){if(hl(e)||hl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cl,r=t;0>=r.X(e);)n=vl(n),r=vl(r);var s=bl(n,1),i=bl(r,1);for(r=bl(r,2),n=bl(n,2);!dl(r);){var a=i.add(r);0>=a.X(e)&&(s=s.add(n),i=a),r=bl(r,1),n=bl(n,1)}return t=pl(e,s.R(t)),new gl(s,t)}for(s=ll;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(i=al(n)).R(t);hl(a)||0<a.X(e);)a=(i=al(n-=r)).R(t);dl(i)&&(i=cl),s=s.add(i),e=pl(e,a)}return new gl(s,e)}function vl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new rl(n,e.h)}function bl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new rl(s,e.h)}(ds=rl.prototype).ea=function(){if(hl(this))return-fl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ol+r)*t,t*=ol}return e},ds.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(dl(this))return"0";if(hl(this))return"-"+fl(this).toString(e);for(var t=al(Math.pow(e,6)),n=this,r="";;){var s=yl(n,t).g,i=((0<(n=pl(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(dl(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},ds.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ds.X=function(e){return hl(e=pl(this,e))?-1:dl(e)?0:1},ds.abs=function(){return hl(this)?fl(this):this},ds.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(65535&this.D(s))+(65535&e.D(s)),a=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new rl(n,-2147483648&n[n.length-1]?-1:0)},ds.R=function(e){if(dl(this)||dl(e))return ll;if(hl(this))return hl(e)?fl(this).R(fl(e)):fl(fl(this).R(e));if(hl(e))return fl(this.R(fl(e)));if(0>this.X(ul)&&0>e.X(ul))return al(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,a=65535&this.D(r),o=e.D(s)>>>16,l=65535&e.D(s);n[2*r+2*s]+=a*l,ml(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ml(n,2*r+2*s+1),n[2*r+2*s+1]+=a*o,ml(n,2*r+2*s+1),n[2*r+2*s+2]+=i*o,ml(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new rl(n,0)},ds.gb=function(e){return yl(this,e).h},ds.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new rl(n,this.h&e.h)},ds.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new rl(n,this.h|e.h)},ds.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new rl(n,this.h^e.h)},Yo.prototype.createWebChannel=Yo.prototype.g,Xo.prototype.send=Xo.prototype.u,Xo.prototype.open=Xo.prototype.m,Xo.prototype.close=Xo.prototype.close,ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,ta.COMPLETE="complete",sa.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",xi.prototype.listen=xi.prototype.O,go.prototype.listenOnce=go.prototype.P,go.prototype.getLastError=go.prototype.Sa,go.prototype.getLastErrorCode=go.prototype.Ia,go.prototype.getStatus=go.prototype.da,go.prototype.getResponseJson=go.prototype.Wa,go.prototype.getResponseText=go.prototype.ja,go.prototype.send=go.prototype.ha,go.prototype.setWithCredentials=go.prototype.Oa,tl.prototype.digest=tl.prototype.l,tl.prototype.reset=tl.prototype.reset,tl.prototype.update=tl.prototype.j,rl.prototype.add=rl.prototype.add,rl.prototype.multiply=rl.prototype.R,rl.prototype.modulo=rl.prototype.gb,rl.prototype.compare=rl.prototype.X,rl.prototype.toNumber=rl.prototype.ea,rl.prototype.toString=rl.prototype.toString,rl.prototype.getBits=rl.prototype.D,rl.fromNumber=al,rl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return fl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=al(Math.pow(n,8)),s=ll,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+a),n);8>a?(a=al(Math.pow(n,a)),s=s.R(a).add(al(o))):s=(s=s.R(r)).add(al(o))}return s};var xl=fs.createWebChannelTransport=function(){return new Yo},wl=fs.getStatEventTarget=function(){return Gi()},Nl=fs.ErrorCode=ea,El=fs.EventType=ta,Sl=fs.Event=Wi,kl=fs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jl=fs.FetchXmlHttpFactory=lo,Cl=fs.WebChannel=sa,Tl=fs.XhrIo=go,_l=fs.Md5=tl,Il=fs.Integer=rl;const Al="@firebase/firestore";class Dl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dl.UNAUTHENTICATED=new Dl(null),Dl.GOOGLE_CREDENTIALS=new Dl("google-credentials-uid"),Dl.FIRST_PARTY=new Dl("first-party-uid"),Dl.MOCK_USER=new Dl("mock-user");let Rl="9.23.0";const Pl=new Xn("@firebase/firestore");function Ol(){return Pl.logLevel}function Ml(e){if(Pl.logLevel<=Kn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ul);Pl.debug("Firestore (".concat(Rl,"): ").concat(e),...s)}}function Ll(e){if(Pl.logLevel<=Kn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ul);Pl.error("Firestore (".concat(Rl,"): ").concat(e),...s)}}function Fl(e){if(Pl.logLevel<=Kn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ul);Pl.warn("Firestore (".concat(Rl,"): ").concat(e),...s)}}function Ul(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function zl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Rl,") INTERNAL ASSERTION FAILED: ")+e;throw Ll(t),new Error(t)}function Vl(e,t){e||zl()}function ql(e,t){return e}const Bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hl extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Wl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Kl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Gl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dl.UNAUTHENTICATED))}shutdown(){}}class Ql{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $l{constructor(e){this.t=e,this.currentUser=Dl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wl,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Ml("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ml("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wl)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ml("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Vl("string"==typeof t.accessToken),new Kl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vl(null===e||"string"==typeof e),new Dl(e)}}class Yl{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Dl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xl{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Yl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ml("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ml("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ml("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ml("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Vl("string"==typeof e.token),this.T=e.token,new Jl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ec(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class tc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ec(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function nc(e,t){return e<t?-1:e>t?1:0}function rc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class sc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hl(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sc.fromMillis(Date.now())}static fromDate(e){return sc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new sc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nc(this.nanoseconds,e.nanoseconds):nc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ic{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ic(e)}static min(){return new ic(new sc(0,0))}static max(){return new ic(new sc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ac{constructor(e,t,n){void 0===t?t=0:t>e.length&&zl(),void 0===n?n=e.length-t:n>e.length-t&&zl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ac.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oc extends ac{construct(e,t,n){return new oc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new oc(e)}static emptyPath(){return new oc([])}}const lc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cc extends ac{construct(e,t,n){return new cc(e,t,n)}static isValidIdentifier(e){return lc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hl(Bl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hl(Bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Hl(Bl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cc(t)}static emptyPath(){return new cc([])}}class uc{constructor(e){this.path=e}static fromPath(e){return new uc(oc.fromString(e))}static fromName(e){return new uc(oc.fromString(e).popFirst(5))}static empty(){return new uc(oc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new uc(new oc(e.slice()))}}class dc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}dc.UNKNOWN_ID=-1;function hc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ic.fromTimestamp(1e9===r?new sc(n+1,0):new sc(n,r));return new pc(s,uc.empty(),t)}function fc(e){return new pc(e.readTime,e.key,-1)}class pc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pc(ic.min(),uc.empty(),-1)}static max(){return new pc(ic.max(),uc.empty(),-1)}}function mc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=uc.comparator(e.documentKey,t.documentKey),0!==n?n:nc(e.largestBatchId,t.largestBatchId))}const gc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function vc(e){if(e.code!==Bl.FAILED_PRECONDITION||e.message!==gc)throw e;Ml("LocalStore","Unexpectedly lost primary lease")}class bc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bc?t:bc.resolve(t)}catch(e){return bc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bc.reject(t)}static resolve(e){return new bc((t,n)=>{t(e)})}static reject(e){return new bc((t,n)=>{n(e)})}static waitFor(e){return new bc((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=bc.resolve(!1);for(const n of e)t=t.next(e=>e?bc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new bc((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new bc((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function xc(e){return"IndexedDbTransactionError"===e.name}class wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Nc(e){return null==e}function Ec(e){return 0===e&&1/e==-1/0}function Sc(e){return"number"==typeof e&&Number.isInteger(e)&&!Ec(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}wc.ct=-1;const kc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cc=jc;function Tc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _c(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ic(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ac{constructor(e,t){this.comparator=e,this.root=t||Rc.EMPTY}insert(e,t){return new Ac(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rc.BLACK,null,null))}remove(e){return new Ac(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rc{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Rc.RED,this.left=null!=r?r:Rc.EMPTY,this.right=null!=s?s:Rc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Rc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Rc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Rc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zl();if(this.right.isRed())throw zl();const e=this.left.check();if(e!==this.right.check())throw zl();return e+(this.isRed()?0:1)}}Rc.EMPTY=null,Rc.RED=!0,Rc.BLACK=!1,Rc.EMPTY=new class{constructor(){this.size=0}get key(){throw zl()}get value(){throw zl()}get color(){throw zl()}get left(){throw zl()}get right(){throw zl()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Rc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pc{constructor(e){this.comparator=e,this.data=new Ac(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oc(this.data.getIterator())}getIteratorFrom(e){return new Oc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Pc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pc(this.comparator);return t.data=e,t}}class Oc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mc{constructor(e){this.fields=e,e.sort(cc.comparator)}static empty(){return new Mc([])}unionWith(e){let t=new Pc(cc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Lc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Lc("Invalid base64 string: "+e):e}}(e);return new Fc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fc.EMPTY_BYTE_STRING=new Fc("");const Uc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(e){if(Vl(!!e),"string"==typeof e){let t=0;const n=Uc.exec(e);if(Vl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vc(e.seconds),nanos:Vc(e.nanos)}}function Vc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qc(e){return"string"==typeof e?Fc.fromBase64String(e):Fc.fromUint8Array(e)}function Bc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hc(e){const t=e.mapValue.fields.__previous_value__;return Bc(t)?Hc(t):t}function Wc(e){const t=zc(e.mapValue.fields.__local_write_time__.timestampValue);return new sc(t.seconds,t.nanos)}class Kc{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $c(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bc(e)?4:cu(e)?9007199254740991:10:zl()}function Yc(e,t){if(e===t)return!0;const n=$c(e);if(n!==$c(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wc(e).isEqual(Wc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=zc(e.timestampValue),r=zc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qc(e.bytesValue).isEqual(qc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vc(e.geoPointValue.latitude)===Vc(t.geoPointValue.latitude)&&Vc(e.geoPointValue.longitude)===Vc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vc(e.integerValue)===Vc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Vc(e.doubleValue),r=Vc(t.doubleValue);return n===r?Ec(n)===Ec(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rc(e.arrayValue.values||[],t.arrayValue.values||[],Yc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tc(n)!==Tc(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Yc(n[s],r[s])))return!1;return!0}(e,t);default:return zl()}}function Xc(e,t){return void 0!==(e.values||[]).find(e=>Yc(e,t))}function Jc(e,t){if(e===t)return 0;const n=$c(e),r=$c(t);if(n!==r)return nc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Vc(e.integerValue||e.doubleValue),r=Vc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zc(e.timestampValue,t.timestampValue);case 4:return Zc(Wc(e),Wc(t));case 5:return nc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=qc(e),r=qc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=nc(n[s],r[s]);if(0!==e)return e}return nc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=nc(Vc(e.latitude),Vc(t.latitude));return 0!==n?n:nc(Vc(e.longitude),Vc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Jc(n[s],r[s]);if(e)return e}return nc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Qc.mapValue&&t===Qc.mapValue)return 0;if(e===Qc.mapValue)return 1;if(t===Qc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=nc(r[a],i[a]);if(0!==e)return e;const t=Jc(n[r[a]],s[i[a]]);if(0!==t)return t}return nc(r.length,i.length)}(e.mapValue,t.mapValue);default:throw zl()}}function Zc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nc(e,t);const n=zc(e),r=zc(t),s=nc(n.seconds,r.seconds);return 0!==s?s:nc(n.nanos,r.nanos)}function eu(e){return tu(e)}function tu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=zc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,uc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=tu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(tu(e.fields[s]));return n+"}"}(e.mapValue):zl();var t,n}function nu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ru(e){return!!e&&"integerValue"in e}function su(e){return!!e&&"arrayValue"in e}function iu(e){return!!e&&"nullValue"in e}function au(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ou(e){return!!e&&"mapValue"in e}function lu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _c(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=lu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class uu{constructor(e){this.value=e}static empty(){return new uu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=cc.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=lu(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_c(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new uu(lu(this.value))}}function du(e){const t=[];return _c(e.fields,(e,n)=>{const r=new cc([e]);if(ou(n)){const e=du(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Mc(t)}class hu{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new hu(e,0,ic.min(),ic.min(),ic.min(),uu.empty(),0)}static newFoundDocument(e,t,n,r){return new hu(e,1,t,ic.min(),n,r,0)}static newNoDocument(e,t){return new hu(e,2,t,ic.min(),ic.min(),uu.empty(),0)}static newUnknownDocument(e,t){return new hu(e,3,t,ic.min(),ic.min(),uu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ic.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ic.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class fu{constructor(e,t){this.position=e,this.inclusive=t}}function pu(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?uc.comparator(uc.fromName(a.referenceValue),n.key):Jc(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function mu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yc(e.position[n],t.position[n]))return!1;return!0}class gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class vu{}class bu extends vu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cu(e,t,n):"array-contains"===t?new Au(e,n):"in"===t?new Du(e,n):"not-in"===t?new Ru(e,n):"array-contains-any"===t?new Pu(e,n):new bu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tu(e,n):new _u(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jc(t,this.value)):null!==t&&$c(this.value)===$c(t)&&this.matchesComparison(Jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xu extends vu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new xu(e,t)}matches(e){return wu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wu(e){return"and"===e.op}function Nu(e){return Eu(e)&&wu(e)}function Eu(e){for(const t of e.filters)if(t instanceof xu)return!1;return!0}function Su(e){if(e instanceof bu)return e.field.canonicalString()+e.op.toString()+eu(e.value);if(Nu(e))return e.filters.map(e=>Su(e)).join(",");{const t=e.filters.map(e=>Su(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ku(e,t){return e instanceof bu?function(e,t){return t instanceof bu&&e.op===t.op&&e.field.isEqual(t.field)&&Yc(e.value,t.value)}(e,t):e instanceof xu?function(e,t){return t instanceof xu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ku(n,t.filters[r]),!0)}(e,t):void zl()}function ju(e){return e instanceof bu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(eu(e.value))}(e):e instanceof xu?function(e){return e.op.toString()+" {"+e.getFilters().map(ju).join(" ,")+"}"}(e):"Filter"}class Cu extends bu{constructor(e,t,n){super(e,t,n),this.key=uc.fromName(n.referenceValue)}matches(e){const t=uc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tu extends bu{constructor(e,t){super(e,"in",t),this.keys=Iu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _u extends bu{constructor(e,t){super(e,"not-in",t),this.keys=Iu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>uc.fromName(e.referenceValue))}class Au extends bu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return su(t)&&Xc(t.arrayValue,this.value)}}class Du extends bu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xc(this.value.arrayValue,t)}}class Ru extends bu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xc(this.value.arrayValue,t)}}class Pu extends bu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!su(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Xc(this.value.arrayValue,e))}}class Ou{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.dt=null}}function Mu(e){return new Ou(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lu(e){const t=ql(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Su(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Nc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>eu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>eu(e)).join(",")),t.dt=e}return t.dt}function Fu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ku(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mu(e.startAt,t.startAt)&&mu(e.endAt,t.endAt)}function Uu(e){return uc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Vu(e,t,n,r,s,i,a,o){return new zu(e,t,n,r,s,i,a,o)}function qu(e){return new zu(e)}function Bu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wu(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ku(e){return null!==e.collectionGroup}function Gu(e){const t=ql(e);if(null===t.wt){t.wt=[];const e=Wu(t),n=Hu(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new gu(e)),t.wt.push(new gu(cc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new gu(cc.keyField(),e))}}}return t.wt}function Qu(e){const t=ql(e);if(!t._t)if("F"===t.limitType)t._t=Mu(t.path,t.collectionGroup,Gu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Gu(t)){const t="desc"===s.dir?"asc":"desc";e.push(new gu(s.field,t))}const n=t.endAt?new fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fu(t.startAt.position,t.startAt.inclusive):null;t._t=Mu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function $u(e,t){t.getFirstInequalityField(),Wu(e);const n=e.filters.concat([t]);return new zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yu(e,t,n){return new zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xu(e,t){return Fu(Qu(e),Qu(t))&&e.limitType===t.limitType}function Ju(e){return"".concat(Lu(Qu(e)),"|lt:").concat(e.limitType)}function Zu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ju(e)).join(", "),"]")),Nc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>eu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>eu(e)).join(",")),"Target(".concat(t,")")}(Qu(e)),"; limitType=").concat(e.limitType,")")}function ed(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):uc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Gu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gu(e),t))&&!(e.endAt&&!function(e,t,n){const r=pu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gu(e),t))}(e,t)}function td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nd(e){return(t,n)=>{let r=!1;for(const s of Gu(e)){const e=rd(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function rd(e,t,n){const r=e.field.isKeyField()?uc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Jc(r,s):zl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zl()}}class sd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_c(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Ic(this.inner)}size(){return this.innerSize}}const id=new Ac(uc.comparator);function ad(){return id}const od=new Ac(uc.comparator);function ld(){let e=od;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function cd(e){let t=od;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ud(){return hd()}function dd(){return hd()}function hd(){return new sd(e=>e.toString(),(e,t)=>e.isEqual(t))}const fd=new Ac(uc.comparator),pd=new Pc(uc.comparator);function md(){let e=pd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const gd=new Pc(nc);function yd(){return gd}function vd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(t)?"-0":t}}function bd(e){return{integerValue:""+e}}function xd(e,t){return Sc(t)?bd(t):vd(e,t)}class wd{constructor(){this._=void 0}}function Nd(e,t,n){return e instanceof kd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bc(t)&&(t=Hc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof jd?Cd(e,t):e instanceof Td?_d(e,t):function(e,t){const n=Sd(e,t),r=Ad(n)+Ad(e.gt);return ru(n)&&ru(e.gt)?bd(r):vd(e.serializer,r)}(e,t)}function Ed(e,t,n){return e instanceof jd?Cd(e,t):e instanceof Td?_d(e,t):n}function Sd(e,t){return e instanceof Id?ru(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class kd extends wd{}class jd extends wd{constructor(e){super(),this.elements=e}}function Cd(e,t){const n=Dd(t);for(const r of e.elements)n.some(e=>Yc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Td extends wd{constructor(e){super(),this.elements=e}}function _d(e,t){let n=Dd(t);for(const r of e.elements)n=n.filter(e=>!Yc(e,r));return{arrayValue:{values:n}}}class Id extends wd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ad(e){return Vc(e.integerValue||e.doubleValue)}function Dd(e){return su(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Rd{constructor(e,t){this.version=e,this.transformResults=t}}class Pd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pd}static exists(e){return new Pd(void 0,e)}static updateTime(e){return new Pd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Md{}function Ld(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gd(e.key,Pd.none()):new qd(e.key,e.data,Pd.none());{const n=e.data,r=uu.empty();let s=new Pc(cc.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Bd(e.key,r,new Mc(s.toArray()),Pd.none())}}function Fd(e,t,n){e instanceof qd?function(e,t,n){const r=e.value.clone(),s=Wd(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bd?function(e,t,n){if(!Od(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wd(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Hd(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ud(e,t,n,r){return e instanceof qd?function(e,t,n,r){if(!Od(e.precondition,t))return n;const s=e.value.clone(),i=Kd(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bd?function(e,t,n,r){if(!Od(e.precondition,t))return n;const s=Kd(e.fieldTransforms,r,t),i=t.data;return i.setAll(Hd(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Od(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Sd(r.transform,e||null);null!=s&&(null===n&&(n=uu.empty()),n.set(r.field,s))}return n||null}function Vd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jd&&t instanceof jd||e instanceof Td&&t instanceof Td?rc(e.elements,t.elements,Yc):e instanceof Id&&t instanceof Id?Yc(e.gt,t.gt):e instanceof kd&&t instanceof kd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qd extends Md{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bd extends Md{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wd(e,t,n){const r=new Map;Vl(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Ed(a,o,n[s]))}return r}function Kd(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Nd(e,i,t))}return r}class Gd extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $d{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ud(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ud(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dd();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Ld(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(ic.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),md())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(e,t)=>Vd(e,t))&&rc(this.baseMutations,e.baseMutations,(e,t)=>Vd(e,t))}}class Yd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Vl(e.mutations.length===n.length);let r=fd;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Yd(e,t,n,r)}}class Xd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zd,eh;function th(e){switch(e){default:return zl();case Bl.CANCELLED:case Bl.UNKNOWN:case Bl.DEADLINE_EXCEEDED:case Bl.RESOURCE_EXHAUSTED:case Bl.INTERNAL:case Bl.UNAVAILABLE:case Bl.UNAUTHENTICATED:return!1;case Bl.INVALID_ARGUMENT:case Bl.NOT_FOUND:case Bl.ALREADY_EXISTS:case Bl.PERMISSION_DENIED:case Bl.FAILED_PRECONDITION:case Bl.ABORTED:case Bl.OUT_OF_RANGE:case Bl.UNIMPLEMENTED:case Bl.DATA_LOSS:return!0}}function nh(e){if(void 0===e)return Ll("GRPC error has no .code"),Bl.UNKNOWN;switch(e){case Zd.OK:return Bl.OK;case Zd.CANCELLED:return Bl.CANCELLED;case Zd.UNKNOWN:return Bl.UNKNOWN;case Zd.DEADLINE_EXCEEDED:return Bl.DEADLINE_EXCEEDED;case Zd.RESOURCE_EXHAUSTED:return Bl.RESOURCE_EXHAUSTED;case Zd.INTERNAL:return Bl.INTERNAL;case Zd.UNAVAILABLE:return Bl.UNAVAILABLE;case Zd.UNAUTHENTICATED:return Bl.UNAUTHENTICATED;case Zd.INVALID_ARGUMENT:return Bl.INVALID_ARGUMENT;case Zd.NOT_FOUND:return Bl.NOT_FOUND;case Zd.ALREADY_EXISTS:return Bl.ALREADY_EXISTS;case Zd.PERMISSION_DENIED:return Bl.PERMISSION_DENIED;case Zd.FAILED_PRECONDITION:return Bl.FAILED_PRECONDITION;case Zd.ABORTED:return Bl.ABORTED;case Zd.OUT_OF_RANGE:return Bl.OUT_OF_RANGE;case Zd.UNIMPLEMENTED:return Bl.UNIMPLEMENTED;case Zd.DATA_LOSS:return Bl.DATA_LOSS;default:return zl()}}(eh=Zd||(Zd={}))[eh.OK=0]="OK",eh[eh.CANCELLED=1]="CANCELLED",eh[eh.UNKNOWN=2]="UNKNOWN",eh[eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eh[eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eh[eh.NOT_FOUND=5]="NOT_FOUND",eh[eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",eh[eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",eh[eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",eh[eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eh[eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eh[eh.ABORTED=10]="ABORTED",eh[eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",eh[eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",eh[eh.INTERNAL=13]="INTERNAL",eh[eh.UNAVAILABLE=14]="UNAVAILABLE",eh[eh.DATA_LOSS=15]="DATA_LOSS";class rh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sh}static getOrCreateInstance(){return null===sh&&(sh=new rh),sh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sh=null;function ih(){return new TextEncoder}const ah=new Il([4294967295,4294967295],0);function oh(e){const t=ih().encode(e),n=new _l;return n.update(t),new Uint8Array(n.digest())}function lh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Il([n,r],0),new Il([s,i],0)]}class ch{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uh("Invalid padding: ".concat(t));if(n<0)throw new uh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new uh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new uh("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Il.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Il.fromNumber(n)));return 1===r.compare(ah)&&(r=new Il([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=oh(e),[n,r]=lh(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ch(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.It)return;const t=oh(e),[n,r]=lh(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dh(ic.min(),r,new Ac(nc),ad(),md())}}class hh{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hh(n,t,md(),md(),md())}}class fh{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class ph{constructor(e,t){this.targetId=e,this.Vt=t}}class mh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gh{constructor(){this.St=0,this.Dt=bh(),this.Ct=Fc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=md(),t=md(),n=md();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zl()}}),new hh(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=bh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yh{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ad(),this.zt=vh(),this.Wt=new Ac(nc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:zl()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const i=s.target;if(Uu(i))if(0===r){const e=new uc(i.path);this.Yt(n,e,hu.newNoDocument(e,ic.min()))}else Vl(1===r);else{const s=this.ie(n);if(s!==r){const r=this.re(e,s);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=rh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,s,i,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(i=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.bitmap)||void 0===i?void 0:i.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,s,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=qc(s).toUint8Array()}catch(e){if(e instanceof Lc)return Fl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new ch(o,i,a)}catch(e){return Fl(e instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const s=this.Gt.ue(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());t.vt(i)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const s=this.se(r);if(s){if(n.current&&Uu(s.target)){const t=new uc(s.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,hu.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=md();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new dh(e,t,this.Wt,this.jt,n);return this.jt=ad(),this.zt=vh(),this.Wt=new Ac(nc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new gh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Pc(nc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ml("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gh),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function vh(){return new Ac(uc.comparator)}function bh(){return new Ac(uc.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nh={and:"AND",or:"OR"};class Eh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sh(e,t){return e.useProto3Json||Nc(t)?t:{value:t}}function kh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ch(e,t){return kh(e,t.toTimestamp())}function Th(e){return Vl(!!e),ic.fromTimestamp(function(e){const t=zc(e);return new sc(t.seconds,t.nanos)}(e))}function _h(e,t){return function(e){return new oc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ih(e){const t=oc.fromString(e);return Vl(Yh(t)),t}function Ah(e,t){return _h(e.databaseId,t.path)}function Dh(e,t){const n=Ih(t);if(n.get(1)!==e.databaseId.projectId)throw new Hl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hl(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new uc(Mh(n))}function Rh(e,t){return _h(e.databaseId,t)}function Ph(e){const t=Ih(e);return 4===t.length?oc.emptyPath():Mh(t)}function Oh(e){return new oc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mh(e){return Vl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lh(e,t,n){return{name:Ah(e,t),fields:n.value.mapValue.fields}}function Fh(e,t){let n;if(t instanceof qd)n={update:Lh(e,t.key,t.value)};else if(t instanceof Gd)n={delete:Ah(e,t.key)};else if(t instanceof Bd)n={update:Lh(e,t.key,t.data),updateMask:$h(t.fieldMask)};else{if(!(t instanceof Qd))return zl();n={verify:Ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof kd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Td)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw zl()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ch(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zl()}(e,t.precondition)),n}function Uh(e,t){return{documents:[Rh(e,t.path)]}}function zh(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Rh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0!==e.length)return Qh(xu.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Kh(e.field),direction:Bh(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Sh(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vh(e){let t=Ph(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vl(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=qh(e);return t instanceof xu&&Nu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new gu(Gh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Nc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new fu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new fu(n,t)}(n.endAt)),Vu(t,s,a,i,o,"F",l,c)}function qh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gh(e.unaryFilter.field);return bu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gh(e.unaryFilter.field);return bu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gh(e.unaryFilter.field);return bu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gh(e.unaryFilter.field);return bu.create(s,"!=",{nullValue:"NULL_VALUE"});default:return zl()}}(e):void 0!==e.fieldFilter?function(e){return bu.create(Gh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xu.create(e.compositeFilter.filters.map(e=>qh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zl()}}(e.compositeFilter.op))}(e):zl()}function Bh(e){return xh[e]}function Hh(e){return wh[e]}function Wh(e){return Nh[e]}function Kh(e){return{fieldPath:e.canonicalString()}}function Gh(e){return cc.fromServerFormat(e.fieldPath)}function Qh(e){return e instanceof bu?function(e){if("=="===e.op){if(au(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NAN"}};if(iu(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(au(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NOT_NAN"}};if(iu(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kh(e.field),op:Hh(e.op),value:e.value}}}(e):e instanceof xu?function(e){const t=e.getFilters().map(e=>Qh(e));return 1===t.length?t[0]:{compositeFilter:{op:Wh(e.op),filters:t}}}(e):zl()}function $h(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xh{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ic.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ic.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jh{constructor(e){this.fe=e}}function Zh(e){const t=Vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yu(t,t.limit,"L"):t}class ef{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vc(e.integerValue));else if("doubleValue"in e){const n=Vc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ec(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(qc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?cu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):zl()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),uc.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ef.Ve=new ef;class tf{constructor(){this.rn=new nf}addToCollectionParentIndex(e,t){return this.rn.add(t),bc.resolve()}getCollectionParents(e,t){return bc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return bc.resolve()}deleteFieldIndex(e,t){return bc.resolve()}getDocumentsMatchingTarget(e,t){return bc.resolve(null)}getIndexType(e,t){return bc.resolve(0)}getFieldIndexes(e,t){return bc.resolve([])}getNextCollectionGroupToUpdate(e){return bc.resolve(null)}getMinOffset(e,t){return bc.resolve(pc.min())}getMinOffsetFromCollectionGroup(e,t){return bc.resolve(pc.min())}updateCollectionGroup(e,t,n){return bc.resolve()}updateIndexEntries(e,t){return bc.resolve()}}class nf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pc(oc.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pc(oc.comparator)).toArray()}}new Uint8Array(0);class rf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new rf(e,rf.DEFAULT_COLLECTION_PERCENTILE,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rf.DEFAULT_COLLECTION_PERCENTILE=10,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rf.DEFAULT=new rf(41943040,rf.DEFAULT_COLLECTION_PERCENTILE,rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rf.DISABLED=new rf(-1,0,0);class sf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sf(0)}static Mn(){return new sf(-1)}}class af{constructor(){this.changes=new sd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?bc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class of{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ud(n.mutation,e,Mc.empty(),sc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,md()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:md();const r=ud();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ld();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ud();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,md()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=ad();const i=hd(),a=hd();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Bd)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ud(a.mutation,t,a.mutation.getFieldMask(),sc.now())):i.set(t.key,Mc.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new of(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=hd();let r=new Ac((e,t)=>e-t),s=md();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||Mc.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||md()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=dd();l.forEach(e=>{if(!s.has(e)){const r=Ld(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return bc.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return uc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):bc.resolve(ud());let a=-1,o=s;return i.next(t=>bc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?bc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,md())).next(e=>({batchId:a,changes:cd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new uc(t)).next(e=>{let t=ld();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=ld();return this.indexManager.getCollectionParents(e,r).next(i=>bc.forEach(i,i=>{const a=function(e,t){return new zu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hu.newInvalidDocument(r)))});let n=ld();return e.forEach((e,s)=>{const i=r.get(e);void 0!==i&&Ud(i.mutation,s,Mc.empty(),sc.now()),ed(t,s)&&(n=n.insert(e,s))}),n})}}class cf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return bc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Th(n.createTime)}),bc.resolve()}getNamedQuery(e,t){return bc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Zh(e.bundledQuery),readTime:Th(e.readTime)}}(t)),bc.resolve()}}class uf{constructor(){this.overlays=new Ac(uc.comparator),this.ls=new Map}getOverlay(e,t){return bc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ud();return bc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),bc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),bc.resolve()}getOverlaysForCollection(e,t,n){const r=ud(),s=t.length+1,i=new uc(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return bc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Ac((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=ud(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ud(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return bc.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xd(t,n));let s=this.ls.get(t);void 0===s&&(s=md(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}}class df{constructor(){this.fs=new Pc(hf.ds),this.ws=new Pc(hf._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new hf(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new hf(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new uc(new oc([])),n=new hf(t,e),r=new hf(t,e+1),s=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),s.push(e.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new uc(new oc([])),n=new hf(t,e),r=new hf(t,e+1);let s=md();return this.ws.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new hf(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hf{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return uc.comparator(e.key,t.key)||nc(e.As,t.As)}static _s(e,t){return nc(e.As,t.As)||uc.comparator(e.key,t.key)}}class ff{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Pc(hf.ds)}checkEmpty(e){return bc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new $d(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Rs=this.Rs.add(new hf(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return bc.resolve(i)}lookupMutationBatch(e,t){return bc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return bc.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return bc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return bc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hf(t,0),r=new hf(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);s.push(t)}),bc.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pc(nc);return t.forEach(e=>{const t=new hf(e,0),r=new hf(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),bc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;uc.isDocumentKey(s)||(s=s.child(""));const i=new hf(new uc(s),0);let a=new Pc(nc);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},i),bc.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Vl(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return bc.forEach(t.mutations,r=>{const s=new hf(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new hf(t,0),r=this.Rs.firstAfterOrEqual(n);return bc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,bc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pf{constructor(e){this.Ds=e,this.docs=new Ac(uc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return bc.resolve(n?n.document.mutableCopy():hu.newInvalidDocument(t))}getEntries(e,t){let n=ad();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hu.newInvalidDocument(e))}),bc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ad();const i=t.path,a=new uc(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||mc(fc(a),n)<=0||(r.has(a.key)||ed(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return bc.resolve(s)}getAllFromCollectionGroup(e,t,n,r){zl()}Cs(e,t){return bc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new mf(this)}getSize(e){return bc.resolve(this.size)}}class mf extends af{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),bc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gf{constructor(e){this.persistence=e,this.xs=new sd(e=>Lu(e),Fu),this.lastRemoteSnapshotVersion=ic.min(),this.highestTargetId=0,this.Ns=0,this.ks=new df,this.targetCount=0,this.Ms=sf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),bc.resolve()}getLastRemoteSnapshotVersion(e){return bc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),bc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),bc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,bc.resolve()}updateTargetData(e,t){return this.Fn(t),bc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,bc.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),bc.waitFor(s).next(()=>r)}getTargetCount(e){return bc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return bc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),bc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),bc.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),bc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return bc.resolve(n)}containsKey(e,t){return bc.resolve(this.ks.containsKey(t))}}class yf{constructor(e,t){this.$s={},this.overlays={},this.Os=new wc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gf(this),this.indexManager=new tf,this.remoteDocumentCache=function(e){return new pf(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Jh(t),this.qs=new cf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new ff(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ml("MemoryPersistence","Starting transaction:",e);const r=new vf(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return bc.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class vf extends yc{constructor(e){super(),this.currentSequenceNumber=e}}class bf{constructor(e){this.persistence=e,this.Qs=new df,this.js=null}static zs(e){return new bf(e)}get Ws(){if(this.js)return this.js;throw zl()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),bc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),bc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),bc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bc.forEach(this.Ws,n=>{const r=uc.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,ic.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return bc.or([()=>bc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class xf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=md(),r=md();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new xf(e,t.fromCache,n,r)}}class wf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Bu(t))return bc.resolve(null);let n=Qu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yu(t,null,"F"),n=Qu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=md(...r);return this.Ui.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.ji(t,r);return this.zi(t,i,s,n.readTime)?this.Ki(e,Yu(t,null,"F")):this.Wi(e,i,t,n)}))})))}Gi(e,t,n,r){return Bu(t)||r.isEqual(ic.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(s=>{const i=this.ji(t,s);return this.zi(t,i,n,r)?this.Qi(e,t):(Ol()<=Kn.DEBUG&&Ml("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zu(t)),this.Wi(e,i,t,hc(r,-1)))})}ji(e,t){let n=new Pc(nd(e));return t.forEach((t,r)=>{ed(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Ol()<=Kn.DEBUG&&Ml("QueryEngine","Using full collection scan to execute query:",Zu(t)),this.Ui.getDocumentsMatchingQuery(e,t,pc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Nf{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ac(nc),this.Yi=new sd(e=>Lu(e),Fu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ef(e,t,n,r){return new Nf(e,t,n,r)}async function Sf(e,t){const n=ql(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=md();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:s,addedBatchIds:i}))})})}function kf(e){const t=ql(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function jf(e,t,n){let r=md(),s=md();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ad();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(ic.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ml("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{nr:r,sr:s}})}function Cf(e,t){const n=ql(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Tf(e,t){const n=ql(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(s=>s?(r=s,bc.resolve(r)):n.Bs.allocateTargetId(e).next(s=>(r=new Xh(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function _f(e,t,n){const r=ql(e),s=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!xc(e))throw e;Ml("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function If(e,t,n){const r=ql(e);let s=ic.min(),i=md();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=ql(e),s=r.Yi.get(n);return void 0!==s?bc.resolve(r.Ji.get(s)):r.Bs.getTargetData(t,n)}(r,e,Qu(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?s:ic.min(),n?i:md())).next(e=>(Af(r,td(t),e),{documents:e,ir:i})))}function Af(e,t,n){let r=e.Xi.get(t)||ic.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Df{constructor(){this.activeTargetIds=yd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rf{constructor(){this.Hr=new Df,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Df,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pf{Yr(e){}shutdown(){}}class Of{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ml("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ml("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mf=null;function Lf(){return null===Mf?Mf=268435456+Math.round(2147483648*Math.random()):Mf++,"0x"+Mf.toString(16)}const Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zf="WebChannelConnection";class Vf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const i=Lf(),a=this.To(e,t);Ml("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={};return this.Eo(o,r,s),this.Ao(e,a,o,n).then(t=>(Ml("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Fl("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,s,i){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Ff[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=Lf();return new Promise((i,a)=>{const o=new Tl;o.setWithCredentials(!0),o.listenOnce(El.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Nl.NO_ERROR:const t=o.getResponseJson();Ml(zf,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Nl.TIMEOUT:Ml(zf,"RPC '".concat(e,"' ").concat(s," timed out")),a(new Hl(Bl.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const n=o.getStatus();if(Ml(zf,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bl).indexOf(t)>=0?t:Bl.UNKNOWN}(t.status);a(new Hl(e,t.message))}else a(new Hl(Bl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hl(Bl.UNAVAILABLE,"Connection failed."));break;default:zl()}}finally{Ml(zf,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Ml(zf,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Lf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xl(),a=wl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new jl({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Ml(zf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);let d=!1,h=!1;const f=new Uf({ro:t=>{h?Ml(zf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ml(zf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ml(zf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Cl.EventType.OPEN,()=>{h||Ml(zf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Cl.EventType.CLOSE,()=>{h||(h=!0,Ml(zf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Cl.EventType.ERROR,t=>{h||(h=!0,Fl(zf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Hl(Bl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Cl.EventType.MESSAGE,t=>{var n;if(!h){const s=t.data[0];Vl(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Ml(zf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Zd[e];if(void 0!==t)return nh(t)}(t),s=a.message;void 0===n&&(n=Bl.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new Hl(n,s)),u.close()}else Ml(zf,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f._o(s)}}),p(a,Sl.STAT_EVENT,t=>{t.stat===kl.PROXY?Ml(zf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===kl.NOPROXY&&Ml(zf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function qf(){return"undefined"!=typeof document?document:null}function Bf(e){return new Eh(e,!0)}class Hf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ml("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wf{constructor(e,t,n,r,s,i,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Hf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Bl.RESOURCE_EXHAUSTED?(Ll(t.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Bl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Hl(Bl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ml("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ml("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kf extends Wf{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zl()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Vl(void 0===t||"string"==typeof t),Fc.fromBase64String(t||"")):(Vl(void 0===t||t instanceof Uint8Array),Fc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Bl.UNKNOWN:nh(e.code);return new Hl(t,e.message||"")}(a);n=new mh(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dh(e,r.document.name),i=Th(r.document.updateTime),a=r.document.createTime?Th(r.document.createTime):ic.min(),o=new uu({mapValue:{fields:r.document.fields}}),l=hu.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Dh(e,r.document),i=r.readTime?Th(r.readTime):ic.min(),a=hu.newNoDocument(s,i),o=r.removedTargetIds||[];n=new fh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Dh(e,r.document),i=r.removedTargetIds||[];n=new fh([],i,s,null)}else{if(!("filter"in t))return zl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Jd(r,s),a=e.targetId;n=new ph(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ic.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ic.min():t.readTime?Th(t.readTime):ic.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Oh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Uu(r)?{documents:Uh(e,r)}:{query:zh(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jh(e,t.resumeToken);const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ic.min())>0){n.readTime=kh(e,t.snapshotVersion.toTimestamp());const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Oh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Gf extends Wf{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Vl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Vl(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Th(e.updateTime):Th(t);return n.isEqual(ic.min())&&(n=Th(t)),new Rd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Th(e.commitTime);return this.listener.cu(n,t)}return Vl(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Oh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fh(this.serializer,e))};this.Wo(t)}}class Qf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Hl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,i]=r;return this.connection.Io(e,t,n,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hl(Bl.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.vo(e,t,n,i,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hl(Bl.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class $f{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ll(t),this.mu=!1):Ml("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Yf{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{ip(this)&&(Ml("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ql(e);t.vu.add(4),await Jf(t),t.bu.set("Unknown"),t.vu.delete(4),await Xf(t)}(this))})}),this.bu=new $f(n,r)}}async function Xf(e){if(ip(e))for(const t of e.Ru)await t(!0)}async function Jf(e){for(const t of e.Ru)await t(!1)}function Zf(e,t){const n=ql(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),sp(n)?rp(n):Ep(n).Ko()&&tp(n,t))}function ep(e,t){const n=ql(e),r=Ep(n);n.Au.delete(t),r.Ko()&&np(n,t),0===n.Au.size&&(r.Ko()?r.jo():ip(n)&&n.bu.set("Unknown"))}function tp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ic.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ep(e).su(t)}function np(e,t){e.Vu.qt(t),Ep(e).iu(t)}function rp(e){e.Vu=new yh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Ep(e).start(),e.bu.gu()}function sp(e){return ip(e)&&!Ep(e).Uo()&&e.Au.size>0}function ip(e){return 0===ql(e).vu.size}function ap(e){e.Vu=void 0}async function op(e){e.Au.forEach((t,n)=>{tp(e,t)})}async function lp(e,t){ap(e),sp(e)?(e.bu.Iu(t),rp(e)):e.bu.set("Unknown")}async function cp(e,t,n){if(e.bu.set("Online"),t instanceof mh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ml("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await up(e,n)}else if(t instanceof fh?e.Vu.Ht(t):t instanceof ph?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(ic.min()))try{const t=await kf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Au.get(r);s&&e.Au.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Fc.EMPTY_BYTE_STRING,r.snapshotVersion)),np(e,t);const s=new Xh(r.target,t,n,r.sequenceNumber);tp(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ml("RemoteStore","Failed to raise snapshot:",t),await up(e,t)}}async function up(e,t,n){if(!xc(t))throw t;e.vu.add(1),await Jf(e),e.bu.set("Offline"),n||(n=()=>kf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ml("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Xf(e)})}function dp(e,t){return t().catch(n=>up(e,n,t))}async function hp(e){const t=ql(e),n=Sp(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;fp(t);)try{const e=await Cf(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,pp(t,e)}catch(e){await up(t,e)}mp(t)&&gp(t)}function fp(e){return ip(e)&&e.Eu.length<10}function pp(e,t){e.Eu.push(t);const n=Sp(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function mp(e){return ip(e)&&!Sp(e).Uo()&&e.Eu.length>0}function gp(e){Sp(e).start()}async function yp(e){Sp(e).hu()}async function vp(e){const t=Sp(e);for(const n of e.Eu)t.uu(n.mutations)}async function bp(e,t,n){const r=e.Eu.shift(),s=Yd.from(r,t,n);await dp(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await hp(e)}async function xp(e,t){t&&Sp(e).ou&&await async function(e,t){if(th(n=t.code)&&n!==Bl.ABORTED){const n=e.Eu.shift();Sp(e).Qo(),await dp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await hp(e)}var n}(e,t),mp(e)&&gp(e)}async function wp(e,t){const n=ql(e);n.asyncQueue.verifyOperationInProgress(),Ml("RemoteStore","RemoteStore received new credentials");const r=ip(n);n.vu.add(3),await Jf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Xf(n)}async function Np(e,t){const n=ql(e);t?(n.vu.delete(2),await Xf(n)):t||(n.vu.add(2),await Jf(n),n.bu.set("Unknown"))}function Ep(e){return e.Su||(e.Su=function(e,t,n){const r=ql(e);return r.fu(),new Kf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:op.bind(null,e),ao:lp.bind(null,e),nu:cp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),sp(e)?rp(e):e.bu.set("Unknown")):(await e.Su.stop(),ap(e))})),e.Su}function Sp(e){return e.Du||(e.Du=function(e,t,n){const r=ql(e);return r.fu(),new Gf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:yp.bind(null,e),ao:xp.bind(null,e),au:vp.bind(null,e),cu:bp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await hp(e)):(await e.Du.stop(),e.Eu.length>0&&(Ml("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class kp{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new kp(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hl(Bl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jp(e,t){if(Ll("AsyncQueue","".concat(t,": ").concat(e)),xc(e))return new Hl(Bl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||uc.comparator(t.key,n.key):(e,t)=>uc.comparator(e.key,t.key),this.keyedMap=ld(),this.sortedSet=new Ac(this.comparator)}static emptySet(e){return new Cp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tp{constructor(){this.Cu=new Ac(uc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):zl():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class _p{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new _p(e,t,Cp.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ip{constructor(){this.Nu=void 0,this.listeners=[]}}class Ap{constructor(){this.queries=new sd(e=>Ju(e),Xu),this.onlineState="Unknown",this.ku=new Set}}async function Dp(e,t){const n=ql(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Ip),s)try{i.Nu=await n.onListen(r)}catch(e){const n=jp(e,"Initialization of query '".concat(Zu(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.Mu(n.onlineState),i.Nu&&t.$u(i.Nu)&&Mp(n)}async function Rp(e,t){const n=ql(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Pp(e,t){const n=ql(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(s)&&(r=!0);t.Nu=s}}r&&Mp(n)}function Op(e,t,n){const r=ql(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Mp(e){e.ku.forEach(e=>{e.next()})}class Lp{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _p(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=_p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class zp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=md(),this.mutatedKeys=md(),this.tc=nd(e),this.ec=new Cp(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Tp,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=ed(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ec:i,ic:n,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zl()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const i=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==s.length||o?{snapshot:new _p(this.query,e.ec,r,s,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=md(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Up(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Fp(n))}),t}hc(e){this.Yu=e.ir,this.Zu=md();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return _p.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qp{constructor(e){this.key=e,this.fc=!1}}class Bp{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new sd(e=>Ju(e),Xu),this._c=new Map,this.mc=new Set,this.gc=new Ac(uc.comparator),this.yc=new Map,this.Ic=new df,this.Tc={},this.Ec=new Map,this.Ac=sf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Hp(e,t){const n=lm(e);let r,s;const i=n.wc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const e=await Tf(n.localStore,Qu(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await Wp(n,t,r,"current"===i,e.resumeToken),n.isPrimaryClient&&Zf(n.remoteStore,e)}return s}async function Wp(e,t,n,r,s){e.Rc=(t,n,r)=>async function(e,t,n,r){let s=t.view.sc(n);s.zi&&(s=await If(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i);return nm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const i=await If(e.localStore,t,!0),a=new zp(t,i.ir),o=a.sc(i.documents),l=hh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);nm(e,n,c.cc);const u=new Vp(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Kp(e,t){const n=ql(e),r=n.wc.get(t),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(e=>!Xu(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _f(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ep(n.remoteStore,r.targetId),em(n,r.targetId)}).catch(vc)):(em(n,r.targetId),await _f(n.localStore,r.targetId,!0))}async function Gp(e,t){const n=ql(e);try{const e=await function(e,t){const n=ql(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Fc.EMPTY_BYTE_STRING,ic.min()).withLastLimboFreeSnapshotVersion(ic.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Bs.updateTargetData(e,c))});let o=ad(),l=md();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(jf(e,i,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(ic.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return bc.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Vl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Vl(r.fc):e.removedDocuments.size>0&&(Vl(r.fc),r.fc=!1))}),await im(n,e,t)}catch(e){await vc(e)}}function Qp(e,t,n){const r=ql(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const s=r.view.Mu(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=ql(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.Mu(t)&&(r=!0)}),r&&Mp(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $p(e,t,n){const r=ql(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.yc.get(t),i=s&&s.key;if(i){let e=new Ac(uc.comparator);e=e.insert(i,hu.newNoDocument(i,ic.min()));const n=md().add(i),s=new dh(ic.min(),new Map,new Ac(nc),e,n);await Gp(r,s),r.gc=r.gc.remove(i),r.yc.delete(t),sm(r)}else await _f(r.localStore,t,!1).then(()=>em(r,t,n)).catch(vc)}async function Yp(e,t){const n=ql(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ql(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=bc.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Vl(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=md();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zp(n,r,null),Jp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await im(n,e)}catch(e){await vc(e)}}async function Xp(e,t,n){const r=ql(e);try{const e=await function(e,t){const n=ql(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Vl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zp(r,t,n),Jp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await im(r,e)}catch(n){await vc(n)}}function Jp(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Zp(e,t,n){const r=ql(e);let s=r.Tc[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function em(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||tm(e,t)})}function tm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(ep(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),sm(e))}function nm(e,t,n){for(const r of n)r instanceof Fp?(e.Ic.addReference(r.key,t),rm(e,r)):r instanceof Up?(Ml("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||tm(e,r.key)):zl()}function rm(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ml("SyncEngine","New document in limbo: "+n),e.mc.add(r),sm(e))}function sm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new uc(oc.fromString(t)),r=e.Ac.next();e.yc.set(r,new qp(n)),e.gc=e.gc.insert(n,r),Zf(e.remoteStore,new Xh(Qu(qu(n.path)),r,"TargetPurposeLimboResolution",wc.ct))}}async function im(e,t,n){const r=ql(e),s=[],i=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=xf.Li(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.dc.nu(s),await async function(e,t){const n=ql(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>bc.forEach(t,t=>bc.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>bc.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!xc(e))throw e;Ml("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,s)}}}(r.localStore,i))}async function am(e,t){const n=ql(e);if(!n.currentUser.isEqual(t)){Ml("SyncEngine","User change. New user:",t.toKey());const e=await Sf(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Hl(Bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await im(n,e.er)}}function om(e,t){const n=ql(e),r=n.yc.get(t);if(r&&r.fc)return md().add(r.key);{let e=md();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function lm(e){const t=ql(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=om.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$p.bind(null,t),t.dc.nu=Pp.bind(null,t.eventManager),t.dc.Pc=Op.bind(null,t.eventManager),t}function cm(e){const t=ql(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xp.bind(null,t),t}class um{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ef(this.persistence,new wf,e.initialUser,this.serializer)}createPersistence(e){return new yf(bf.zs,this.serializer)}createSharedClientState(e){return new Rf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=am.bind(null,this.syncEngine),await Np(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ap}createDatastore(e){const t=Bf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Vf(r));var r;return function(e,t,n,r){return new Qf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>Qp(this.syncEngine,e,0),i=Of.D()?new Of:new Pf,new Yf(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Bp(e,t,n,r,s,i);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ql(e);Ml("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Jf(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ll("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dl.UNAUTHENTICATED,this.clientId=tc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ml("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ml("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hl(Bl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Le){const n=jp(Le,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pm(e,t){e.asyncQueue.verifyOperationInProgress(),Ml("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Sf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ym(e);Ml("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>wp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>wp(t.remoteStore,n)),e._onlineComponents=t}function gm(e){return"FirebaseError"===e.name?e.code===Bl.FAILED_PRECONDITION||e.code===Bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ym(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ml("FirestoreClient","Using user provided OfflineComponentProvider");try{await pm(e,e._uninitializedComponentsProvider._offline)}catch(Le){const n=Le;if(!gm(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await pm(e,new um)}}else Ml("FirestoreClient","Using default OfflineComponentProvider"),await pm(e,new um);return e._offlineComponents}async function vm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ml("FirestoreClient","Using user provided OnlineComponentProvider"),await mm(e,e._uninitializedComponentsProvider._online)):(Ml("FirestoreClient","Using default OnlineComponentProvider"),await mm(e,new dm))),e._onlineComponents}function bm(e){return vm(e).then(e=>e.syncEngine)}async function xm(e){const t=await vm(e),n=t.eventManager;return n.onListen=Hp.bind(null,t.syncEngine),n.onUnlisten=Kp.bind(null,t.syncEngine),n}function wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Wl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new hm({next:i=>{t.enqueueAndForget(()=>Rp(e,a));const o=i.docs.has(n);!o&&i.fromCache?s.reject(new Hl(Bl.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?s.reject(new Hl(Bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),a=new Lp(qu(n.path),i,{includeMetadataChanges:!0,Ku:!0});return Dp(e,a)}(await xm(e),e.asyncQueue,t,n,r)),r.promise}function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Wl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new hm({next:n=>{t.enqueueAndForget(()=>Rp(e,a)),n.fromCache&&"server"===r.source?s.reject(new Hl(Bl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Lp(n,i,{includeMetadataChanges:!0,Ku:!0});return Dp(e,a)}(await xm(e),e.asyncQueue,t,n,r)),r.promise}function Em(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Sm=new Map;function km(e,t,n){if(!n)throw new Hl(Bl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jm(e){if(!uc.isDocumentKey(e))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cm(e){if(uc.isDocumentKey(e))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":zl()}function _m(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hl(Bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(e);throw new Hl(Bl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Im{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Hl(Bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hl(Bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Hl(Bl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Em(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Hl(Bl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Am{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Hl(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hl(Bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gl;switch(e.type){case"firstParty":return new Xl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hl(Bl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sm.get(e);t&&(Ml("ComponentProvider","Removing Datastore"),Sm.delete(e),t.terminate())}(this),Promise.resolve()}}function Dm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=_m(e,Am))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==a&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dl.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xn(JSON.stringify({alg:"none",type:"JWT"})),xn(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Hl(Bl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dl(i)}e._authCredentials=new Ql(new Kl(t,n))}}class Rm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rm(this.firestore,e,this._key)}}class Pm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pm(this.firestore,e,this._query)}}class Om extends Pm{constructor(e,t,n){super(e,t,qu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rm(this.firestore,null,new uc(e))}withConverter(e){return new Om(this.firestore,e,this._path)}}function Mm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=zn(e),km("collection","path",t),e instanceof Am){const n=oc.fromString(t,...r);return Cm(n),new Om(e,null,n)}{if(!(e instanceof Rm||e instanceof Om))throw new Hl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oc.fromString(t,...r));return Cm(n),new Om(e.firestore,null,n)}}function Lm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=zn(e),1===arguments.length&&(t=tc.A()),km("doc","path",t),e instanceof Am){const n=oc.fromString(t,...r);return jm(n),new Rm(e,null,new uc(n))}{if(!(e instanceof Rm||e instanceof Om))throw new Hl(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oc.fromString(t,...r));return jm(n),new Rm(e.firestore,e instanceof Om?e.converter:null,new uc(n))}}class Fm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Hf(this,"async_queue_retry"),this.Xc=()=>{const e=qf();e&&Ml("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=qf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Wl;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(Fe){if(!xc(Fe))throw Fe;Ml("AsyncQueue","Operation failed with retryable error: "+Fe)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ll("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=kp.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&zl()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Um extends Am{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Fm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vm(this),this._firestoreClient.terminate()}}function zm(e){return e._firestoreClient||Vm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vm(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Kc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Em(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new fm(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=s.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class qm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qm(Fc.fromBase64String(e))}catch(e){throw new Hl(Bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qm(Fc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hm{constructor(e){this._methodName=e}}class Wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hl(Bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hl(Bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nc(this._lat,e._lat)||nc(this._long,e._long)}}const Km=/^__.*__$/;class Gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms):new qd(e,this.data,t,this.fieldTransforms)}}class Qm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $m(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zl()}}class Ym{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($m(this.ca)&&Km.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Xm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bf(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ym({ca:e,methodName:t,ga:n,path:cc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(e){const t=e._freezeSettings(),n=Bf(e._databaseId);return new Xm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zm(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(i.merge||i.mergeFields?2:0,t,n,s);og("Data must be an object, but it was:",a,r);const o=ig(r,a);let l,c;if(i.merge)l=new Mc(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=lg(t,r,n);if(!a.contains(s))throw new Hl(Bl.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));hg(e,s)||e.push(s)}l=new Mc(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Gm(new uu(o),l,c)}class eg extends Hm{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eg}}function tg(e,t,n,r){const s=e.ya(1,t,n);og("Data must be an object, but it was:",s,r);const i=[],a=uu.empty();_c(r,(e,r)=>{const o=ug(t,e,n);r=zn(r);const l=s.da(o);if(r instanceof eg)i.push(o);else{const e=sg(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new Mc(i);return new Qm(a,o,s.fieldTransforms)}function ng(e,t,n,r,s,i){const a=e.ya(1,t,n),o=[lg(t,r,n)],l=[s];if(i.length%2!=0)throw new Hl(Bl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(lg(t,i[h])),l.push(i[h+1]);const c=[],u=uu.empty();for(let h=o.length-1;h>=0;--h)if(!hg(c,o[h])){const e=o[h];let t=l[h];t=zn(t);const n=a.da(e);if(t instanceof eg)c.push(e);else{const r=sg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Mc(c);return new Qm(u,d,a.fieldTransforms)}function rg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sg(n,e.ya(r?4:3,t))}function sg(e,t){if(ag(e=zn(e)))return og("Unsupported field value:",t,e),ig(e,t);if(e instanceof Hm)return function(e,t){if(!$m(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=sg(s,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=zn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=sc.fromDate(e);return{timestampValue:kh(t.serializer,n)}}if(e instanceof sc){const n=new sc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kh(t.serializer,n)}}if(e instanceof Wm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qm)return{bytesValue:jh(t.serializer,e._byteString)};if(e instanceof Rm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:_h(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Tm(e)))}(e,t)}function ig(e,t){const n={};return Ic(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_c(e,(e,r)=>{const s=sg(r,t.ha(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function ag(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sc||e instanceof Wm||e instanceof qm||e instanceof Rm||e instanceof Hm)}function og(e,t,n){if(!ag(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Tm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function lg(e,t,n){if((t=zn(t))instanceof Bm)return t._internalPath;if("string"==typeof t)return ug(e,t);throw dg("Field path arguments must be of type string or ",e,!1,void 0,n)}const cg=new RegExp("[~\\*/\\[\\]]");function ug(e,t,n){if(t.search(cg)>=0)throw dg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Bm(...t.split("."))._internalPath}catch(He){throw dg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dg(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new Hl(Bl.INVALID_ARGUMENT,o+e+l)}function hg(e,t){return e.some(e=>e.isEqual(t))}class fg{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pg extends fg{data(){return super.data()}}function mg(e,t){return"string"==typeof t?ug(e,t):t instanceof Bm?t._internalPath:t._delegate._internalPath}function gg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hl(Bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class vg extends yg{}function bg(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof yg&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof wg).length,n=e.filter(e=>e instanceof xg).length;if(t>1||t>0&&n>0)throw new Hl(Bl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class xg extends vg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xg(e,t,n)}_apply(e){const t=this._parse(e);return jg(e._query,t),new Pm(e.firestore,e.converter,$u(e._query,t))}_parse(e){const t=Jm(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){kg(a,i);const t=[];for(const n of a)t.push(Sg(r,e,n));o={arrayValue:{values:t}}}else o=Sg(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||kg(a,i),o=rg(n,"where",a,"in"===i||"not-in"===i);return bu.create(s,i,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class wg extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:xu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)jg(n,s),n=$u(n,s)}(e._query,t),new Pm(e.firestore,e.converter,$u(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ng extends vg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ng(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new gu(t,n);return function(e,t){if(null===Hu(e)){const n=Wu(e);null!==n&&Cg(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Pm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new zu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Eg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=mg("orderBy",e);return Ng._create(n,t)}function Sg(e,t,n){if("string"==typeof(n=zn(n))){if(""===n)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(t)&&-1!==n.indexOf("/"))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(oc.fromString(n));if(!uc.isDocumentKey(r))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return nu(e,new uc(r))}if(n instanceof Rm)return nu(e,n._key);throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Tm(n),"."))}function kg(e,t){if(!Array.isArray(e)||0===e.length)throw new Hl(Bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jg(e,t){if(t.isInequality()){const n=Wu(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const s=Hu(e);null!==s&&Cg(e,r,s)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Cg(e,t,n){if(!n.isEqual(t))throw new Hl(Bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Tg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _c(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Wm(Vc(e.latitude),Vc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Hc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const t=zc(e);return new sc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oc.fromString(e);Vl(Yh(n));const r=new Gc(n.get(1),n.get(3)),s=new uc(n.popFirst(5));return r.isEqual(t)||Ll("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function _g(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ag extends fg{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Dg extends Ag{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Rg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ig(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Dg(this._firestore,this._userDataWriter,n.key,n,new Ig(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hl(Bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Dg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ig(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ig(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Pg(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Pg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zl()}}class Og extends Tg{constructor(e){super(),this.firestore=e}convertBytes(e){return new qm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rm(this.firestore,null,t)}}function Mg(e){e=_m(e,Pm);const t=_m(e.firestore,Um),n=zm(t),r=new Og(t);return gg(e._query),Nm(n,e._query).then(n=>new Rg(t,r,e,n))}function Lg(e,t,n){e=_m(e,Rm);const r=_m(e.firestore,Um),s=Jm(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=zn(t))||t instanceof Bm?ng(s,"updateDoc",e._key,t,n,o):tg(s,"updateDoc",e._key,t),zg(r,[i.toMutation(e._key,Pd.exists(!0))])}function Fg(e){return zg(_m(e.firestore,Um),[new Gd(e._key,Pd.none())])}function Ug(e,t){const n=_m(e.firestore,Um),r=Lm(e),s=_g(e.converter,t);return zg(n,[Zm(Jm(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Pd.exists(!1))]).then(()=>r)}function zg(e,t){return function(e,t){const n=new Wl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=cm(e);try{const e=await function(e,t){const n=ql(e),r=sc.now(),s=t.reduce((e,t)=>e.add(t.key),md());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=ad(),l=md();return n.Zi.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=zd(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Bd(e.key,t,du(t.value.mapValue),Pd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:cd(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Ac(nc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await im(r,e.changes),await hp(r.remoteStore)}catch(e){const t=jp(e,"Failed to persist write");n.reject(t)}}(await bm(e),t,n)),n.promise}(zm(e),t)}function Vg(e,t,n){const r=n.docs.get(t._key),s=new Og(e);return new Ag(e,s,t._key,r,new Ig(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rl=e}(Xr),Gr(new Vn("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Um(new $l(e.getProvider("auth-internal")),new Zl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hl(Bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),es(Al,"3.13.0",e),es(Al,"3.13.0","esm2017")}();es("firebase","9.23.0","app");function qg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Bg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hg=Bg,Wg=new An("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kg=new Xn("@firebase/auth");function Gg(e){if(Kg.logLevel<=Kn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kg.error("Auth (".concat(Xr,"): ").concat(e),...n)}}function Qg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xg(e,...n)}function $g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xg(e,...n)}function Yg(e,t,n){const r=Object.assign(Object.assign({},Hg()),{[t]:n});return new An("auth","Firebase",r).create(t,{appName:e.name})}function Xg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Wg.create(e,...n)}function Jg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Xg(t,...r)}}function Zg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gg(t),new Error(t)}function ey(e,t){e||Zg(t)}function ty(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ny(){return"http:"===ry()||"https:"===ry()}function ry(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function sy(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ny()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class iy{constructor(e,t){this.shortDelay=e,this.longDelay=t,ey(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return sy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ay(e,t){ey(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class oy{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Zg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Zg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Zg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ly={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cy=new iy(3e4,6e4);function uy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dy(e,t,n,r){return hy(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=On(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),oy.fetch()(py(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},s))})}async function hy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ly),t);try{const t=new my(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw gy(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw gy(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw gy(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw gy(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Yg(e,o,a);Qg(e,o)}}catch(Le){if(Le instanceof In)throw Le;Qg(e,"network-request-failed",{message:String(Le)})}}async function fy(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await dy(e,t,n,r,s);return"mfaPendingCredential"in i&&Qg(e,"multi-factor-auth-required",{_serverResponse:i}),i}function py(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ay(e.config,s):"".concat(e.config.apiScheme,"://").concat(s)}class my{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($g(this.auth,"network-request-failed")),cy.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$g(e,t,r);return s.customData._tokenResponse=n,s}function yy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Le){}}function vy(e){return 1e3*Number(e)}function by(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Gg("JWT malformed, contained fewer than 3 sections"),null;try{const e=wn(n);return e?JSON.parse(e):(Gg("Failed to decode base64 JWT payload"),null)}catch(Le){return Gg("Caught error parsing JWT payload as JSON",null===Le||void 0===Le?void 0:Le.toString()),null}}async function xy(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Le){throw Le instanceof In&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Le)&&e.auth.currentUser===e&&await e.auth.signOut(),Le}}class wy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Le){return void((null===Le||void 0===Le?void 0:Le.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yy(this.lastLoginAt),this.creationTime=yy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ey(e){var t;const n=e.auth,r=await e.getIdToken(),s=await xy(e,async function(e,t){return dy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Jg(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=qg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ny(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Sy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jg(e.idToken,"internal-error"),Jg("undefined"!==typeof e.idToken,"internal-error"),Jg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=by(e);return Jg(t,"internal-error"),Jg("undefined"!==typeof t.exp,"internal-error"),Jg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Jg(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await hy(e,{},async()=>{const n=On({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=py(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oy.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Sy;return n&&(Jg("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Jg("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Jg("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sy,this.toJSON())}_performRefresh(){return Zg("not implemented")}}function ky(e,t){Jg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await xy(this,this.stsTokenManager.getToken(this.auth,e));return Jg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=zn(e),r=await n.getIdToken(t),s=by(r);Jg(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yy(vy(s.auth_time)),issuedAtTime:yy(vy(s.iat)),expirationTime:yy(vy(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=zn(e);await Ey(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Jg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Jg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ey(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xy(this,async function(e,t){return dy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:N}=t;Jg(v&&N,e,"internal-error");const E=Sy.fromJSON(this.name,N);Jg("string"===typeof v,e,"internal-error"),ky(u,e.name),ky(d,e.name),Jg("boolean"===typeof b,e,"internal-error"),Jg("boolean"===typeof x,e,"internal-error"),ky(h,e.name),ky(f,e.name),ky(p,e.name),ky(m,e.name),ky(g,e.name),ky(y,e.name);const S=new jy({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Sy;r.updateFromServerResponse(t);const s=new jy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ey(s),s}}const Cy=new Map;function Ty(e){ey(e instanceof Function,"Expected a class definition");let t=Cy.get(e);return t?(ey(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cy.set(e,t),t)}class _y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_y.type="NONE";const Iy=_y;function Ay(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Dy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Ay(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ay("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Dy(Ty(Iy),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Ty(Iy);const i=Ay(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=jy._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new Dy(s,e,n)):new Dy(s,e,n)}}function Ry(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ly(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Py(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uy(t))return"Blackberry";if(zy(t))return"Webos";if(Oy(t))return"Safari";if((t.includes("chrome/")||My(t))&&!t.includes("edge/"))return"Chrome";if(Fy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Py(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/firefox\//i.test(e)}function Oy(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function My(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/crios\//i.test(e)}function Ly(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iemobile/i.test(e)}function Fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/android/i.test(e)}function Uy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/blackberry/i.test(e)}function zy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/webos/i.test(e)}function Vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qy(){return function(){const e=Tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function By(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return Vy(e)||Fy(e)||zy(e)||Uy(e)||/windows phone/i.test(e)||Ly(e)}function Hy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ry(Tn());break;case"Worker":t="".concat(Ry(Tn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xr,"/").concat(r)}async function Wy(e,t){return dy(e,"GET","/v2/recaptchaConfig",uy(e,t))}function Ky(e){return void 0!==e&&void 0!==e.enterprise}class Gy{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Qy(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function $y(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Yy{constructor(e){this.type="recaptcha-enterprise",this.auth=ev(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Ky(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Wy(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Gy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Ky(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Qy("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Xy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new Yy(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Jy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Le){r(Le)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Le){t.reverse();for(const n of t)try{n()}catch(Et){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Le||void 0===Le?void 0:Le.message})}}}class Zy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new Jy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ty(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Dy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Le){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(Le){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Le))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Jg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Le){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ey(e)}catch(Le){if((null===Le||void 0===Le?void 0:Le.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?zn(e):null;return t&&Jg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Jg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ty(e))})}async initializeRecaptchaConfig(){const e=await Wy(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Gy(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Yy(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ty(e)||this._popupRedirectResolver;Jg(t,this,"argument-error"),this.redirectPersistenceManager=await Dy.create(this,[Ty(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return Jg(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Kg.logLevel<=Kn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kg.warn("Auth (".concat(Xr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ev(e){return zn(e)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Fn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Jg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nv(e,t,n){const r=ev(e);Jg(r._canInitEmulator,r,"emulator-config-failed"),Jg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=rv(t),{host:a,port:o}=function(e){const t=rv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:sv(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:sv(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(i,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class iv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zg("not implemented")}_getIdTokenResponse(e){return Zg("not implemented")}_linkToIdToken(e,t){return Zg("not implemented")}_getReauthenticationResolver(e){return Zg("not implemented")}}async function av(e,t){return dy(e,"POST","/v1/accounts:update",t)}async function ov(e,t){return fy(e,"POST","/v1/accounts:signInWithPassword",uy(e,t))}class lv extends iv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lv(e,t,"password")}static _fromEmailAndCode(e,t){return new lv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Xy(e,n,"signInWithPassword");return ov(e,t)}return ov(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Xy(e,n,"signInWithPassword");return ov(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return fy(e,"POST","/v1/accounts:signInWithEmailLink",uy(e,t))}(e,{email:this._email,oobCode:this._password});default:Qg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return av(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return fy(e,"POST","/v1/accounts:signInWithEmailLink",uy(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cv(e,t){return fy(e,"POST","/v1/accounts:signInWithIdp",uy(e,t))}class uv extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=qg(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new uv(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return cv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=On(t)}return e}}const dv={USER_NOT_FOUND:"user-not-found"};class hv extends iv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return fy(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await fy(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,t));if(n.temporaryProof)throw gy(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return fy(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),dv)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new hv({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class fv{constructor(e){var t,n,r,s,i,a;const o=Mn(Ln(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Jg(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Mn(Ln(e)).link,n=t?Mn(Ln(t)).deep_link_id:null,r=Mn(Ln(e)).deep_link_id;return(r?Mn(Ln(r)).link:null)||r||n||t||e}(e);try{return new fv(t)}catch(n){return null}}}class pv{constructor(){this.providerId=pv.PROVIDER_ID}static credential(e,t){return lv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=fv.parseLink(t);return Jg(n,"argument-error"),lv._fromEmailAndCode(e,n.code,n.tenantId)}}pv.PROVIDER_ID="password",pv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gv extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yv extends gv{constructor(){super("facebook.com")}static credential(e){return uv._fromParams({providerId:yv.PROVIDER_ID,signInMethod:yv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yv.credentialFromTaggedObject(e)}static credentialFromError(e){return yv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yv.credential(t.oauthAccessToken)}catch(n){return null}}}yv.FACEBOOK_SIGN_IN_METHOD="facebook.com",yv.PROVIDER_ID="facebook.com";class vv extends gv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uv._fromParams({providerId:vv.PROVIDER_ID,signInMethod:vv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vv.credentialFromTaggedObject(e)}static credentialFromError(e){return vv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return vv.credential(n,r)}catch(s){return null}}}vv.GOOGLE_SIGN_IN_METHOD="google.com",vv.PROVIDER_ID="google.com";class bv extends gv{constructor(){super("github.com")}static credential(e){return uv._fromParams({providerId:bv.PROVIDER_ID,signInMethod:bv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bv.credentialFromTaggedObject(e)}static credentialFromError(e){return bv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bv.credential(t.oauthAccessToken)}catch(n){return null}}}bv.GITHUB_SIGN_IN_METHOD="github.com",bv.PROVIDER_ID="github.com";class xv extends gv{constructor(){super("twitter.com")}static credential(e,t){return uv._fromParams({providerId:xv.PROVIDER_ID,signInMethod:xv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xv.credentialFromTaggedObject(e)}static credentialFromError(e){return xv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xv.credential(n,r)}catch(s){return null}}}xv.TWITTER_SIGN_IN_METHOD="twitter.com",xv.PROVIDER_ID="twitter.com";class wv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await jy._fromIdTokenResponse(e,n,r),i=Nv(n);return new wv({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Nv(n);return new wv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Nv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ev extends In{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ev.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ev(e,t,n,r)}}function Sv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ev._fromErrorAndOperation(e,n,t,r);throw n})}async function kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wv._forOperation(e,"link",r)}async function jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,s="reauthenticate";try{const i=await xy(e,Sv(r,s,t,e),n);Jg(i.idToken,r,"internal-error");const a=by(i.idToken);Jg(a,r,"internal-error");const{sub:o}=a;return Jg(e.uid===o,r,"user-mismatch"),wv._forOperation(e,s,i)}catch(Le){throw(null===Le||void 0===Le?void 0:Le.code)==="auth/".concat("user-not-found")&&Qg(r,"user-mismatch"),Le}}async function Cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",s=await Sv(e,r,t),i=await wv._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}new WeakMap;const Tv="__sak";class _v{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tv,"1"),this.storage.removeItem(Tv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Iv extends _v{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Tn();return Oy(e)||Vy(e)}()&&function(){try{return!(!window||window===window.top)}catch(Le){return!1}}(),this.fallbackToPolling=By(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);qy()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iv.type="LOCAL";const Av=Iv;class Dv extends _v{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dv.type="SESSION";const Rv=Dv;class Pv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Pv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pv.receivers=[];class Mv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=Ov("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Lv(){return window}function Fv(){return"undefined"!==typeof Lv().WorkerGlobalScope&&"function"===typeof Lv().importScripts}const Uv="firebaseLocalStorageDb",zv="firebaseLocalStorage",Vv="fbase_key";class qv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bv(e,t){return e.transaction([zv],t?"readwrite":"readonly").objectStore(zv)}function Hv(){const e=indexedDB.open(Uv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zv,{keyPath:Vv})}catch(Le){n(Le)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Uv);return new qv(e).toPromise()}(),t(await Hv()))})})}async function Wv(e,t,n){const r=Bv(e,!0).put({[Vv]:t,value:n});return new qv(r).toPromise()}function Kv(e,t){const n=Bv(e,!0).delete(t);return new qv(n).toPromise()}class Gv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Hv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Le){if(t++>3)throw Le;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pv._getInstance(Fv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Mv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hv();return await Wv(e,Tv,"1"),await Kv(e,Tv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bv(e,!1).get(t),r=await new qv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bv(e,!1).getAll();return new qv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gv.type="LOCAL";const Qv=Gv;$y("rcb"),new iy(3e4,6e4);const $v="recaptcha";async function Yv(e,t,n){var r;const s=await n.verify();try{let i;if(Jg("string"===typeof s,e,"argument-error"),Jg(n.type===$v,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Jg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dy(e,"POST","/v2/accounts/mfaEnrollment:start",uy(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{Jg("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Jg(n,e,"missing-multi-factor-info");const a=await function(e,t){return dy(e,"POST","/v2/accounts/mfaSignIn:start",uy(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dy(e,"POST","/v1/accounts:sendVerificationCode",uy(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class Xv{constructor(e){this.providerId=Xv.PROVIDER_ID,this.auth=ev(e)}verifyPhoneNumber(e,t){return Yv(this.auth,e,zn(t))}static credential(e,t){return hv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xv.credentialFromTaggedObject(t)}static credentialFromError(e){return Xv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?hv._fromTokenResponse(n,r):null}}function Jv(e,t){return t?Ty(t):(Jg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xv.PROVIDER_ID="phone",Xv.PHONE_SIGN_IN_METHOD="phone";class Zv extends iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eb(e){return Cv(e.auth,new Zv(e),e.bypassAuthState)}function tb(e){const{auth:t,user:n}=e;return Jg(n,t,"internal-error"),jv(n,new Zv(e),e.bypassAuthState)}async function nb(e){const{auth:t,user:n}=e;return Jg(n,t,"internal-error"),kv(n,new Zv(e),e.bypassAuthState)}class rb{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Le){this.reject(Le)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Le){this.reject(Le)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eb;case"linkViaPopup":case"linkViaRedirect":return nb;case"reauthViaPopup":case"reauthViaRedirect":return tb;default:Qg(this.auth,"internal-error")}}resolve(e){ey(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ey(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sb=new iy(2e3,1e4);class ib extends rb{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,ib.currentPopupAction&&ib.currentPopupAction.cancel(),ib.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jg(e,this.auth,"internal-error"),e}async onExecution(){ey(1===this.filter.length,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($g(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ib.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($g(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,sb.get())};e()}}ib.currentPopupAction=null;const ab=new Map;class ob extends rb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ab.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ub(t),r=cb(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Le){e=()=>Promise.reject(Le)}ab.set(this.auth._key(),e)}return this.bypassAuthState||ab.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lb(e,t){ab.set(e._key(),t)}function cb(e){return Ty(e._redirectPersistence)}function ub(e){return Ay("pendingRedirect",e.config.apiKey,e.name)}async function db(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ev(e),s=Jv(r,t),i=new ob(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class hb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(e))}saveEventToCache(e){this.cachedEventUids.add(fb(e)),this.lastProcessedEventTime=Date.now()}}function fb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function pb(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gb=/^https?/;async function yb(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return dy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(vb(r))return}catch(n){}Qg(e,"unauthorized-domain")}function vb(e){const t=ty(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!gb.test(n))return!1;if(mb.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const bb=new iy(3e4,6e4);function xb(){const e=Lv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let wb=null;function Nb(e){return wb=wb||function(e){return new Promise((t,n)=>{var r,s,i;function a(){xb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xb(),n($g(e,"network-request-failed"))},timeout:bb.get()})}if(null===(s=null===(r=Lv().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Lv().gapi)||void 0===i?void 0:i.load)){const t=$y("iframefcb");return Lv()[t]=()=>{gapi.load?a():n($g(e,"network-request-failed"))},Qy("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw wb=null,e})}(e),wb}const Eb=new iy(5e3,15e3),Sb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jb(e){const t=e.config;Jg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ay(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Xr},s=kb.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(On(r).slice(1))}const Cb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Le){}}}function _b(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Cb),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Tn().toLowerCase();n&&(o=My(c)?"_blank":n),Py(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Vy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Tb(null);const d=window.open(t||"",o,u);Jg(d,e,"popup-blocked");try{d.focus()}catch(Le){}return new Tb(d)}const Ib="__/auth/handler",Ab="emulator/auth/handler",Db=encodeURIComponent("fac");async function Rb(e,t,n,r,s,i){Jg(e.config.authDomain,e,"auth-domain-config-required"),Jg(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xr,eventId:s};if(t instanceof mv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof gv){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Db,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ib);return ay(t,Ab)}(e),"?").concat(On(o).slice(1)).concat(c)}const Pb="webStorageSupport";const Ob=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rv,this._completeRedirectFn=db,this._overrideRedirectResult=lb}async _openPopup(e,t,n,r){var s;ey(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return _b(e,await Rb(e,t,n,ty(),r),Ov())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Lv().location.href=e}(await Rb(e,t,n,ty(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ey(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Nb(e),n=Lv().gapi;return Jg(n,e,"internal-error"),t.open({where:document.body,url:jb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=$g(e,"network-request-failed"),i=Lv().setTimeout(()=>{r(s)},Eb.get());function a(){Lv().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}(e),n=new hb(e);return t.register("authEvent",t=>{Jg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pb,{type:Pb},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Pb];void 0!==s&&t(!!s),Qg(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return By()||Oy()||Vy()}};var Mb="@firebase/auth",Lb="0.23.2";class Fb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ub=jn("authIdTokenMaxAge")||300;let zb=null;var Vb;Vb="Browser",Gr(new Vn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Jg(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Vb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hy(Vb)},c=new Zy(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ty);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Gr(new Vn("auth-internal",e=>(e=>new Fb(e))(ev(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),es(Mb,Lb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vb)),es(Mb,Lb,"esm2017");const qb=Jr({apiKey:"AIzaSyAHlHMo-_cLJCtOyzN2knRoHUnDCC3y8lM",authDomain:"infra-web-810bb.firebaseapp.com",projectId:"infra-web-810bb",storageBucket:"infra-web-810bb.firebasestorage.app",messagingSenderId:"151794858175",appId:"1:151794858175:web:52343516f7aedb2c9e6e0a"}),Bb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Qr("object"==typeof e?e:Zr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Sn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Dm(r,...e)}return r}(qb),Hb=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr();const t=Qr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Qr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Rn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Qg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ob,persistence:[Qv,Av,Rv]}),r=jn("authTokenSyncURL");if(r){const e=(s=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ub)return;const r=null===t||void 0===t?void 0:t.token;zb!==r&&(zb=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){zn(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){zn(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var s;const i=Sn("auth");i&&nv(n,"http://".concat(i))}(qb),()=>{const[e,t]=(0,s.useState)({totalSites:0,totalExpenses:0,totalAmount:0,totalStaff:0,totalMaterials:0,totalMachines:0}),[n,r]=(0,s.useState)(!0);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=(await Mg(Mm(Bb,"sites"))).size,n=await Mg(Mm(Bb,"expenses")),r=n.size,s=n.docs.reduce((e,t)=>e+(t.data().amount||0),0),i=(await Mg(Mm(Bb,"labourStaff"))).size,a=(await Mg(Mm(Bb,"materials"))).size,o=(await Mg(Mm(Bb,"machinesTools"))).size;t({totalSites:e,totalExpenses:r,totalAmount:s,totalStaff:i,totalMaterials:a,totalMachines:o})}catch(e){console.error("Error fetching stats:",e)}finally{r(!1)}};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(mn,{}),"Dashboard"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading dashboard..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsx)("div",{className:"header",children:(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(hn,{}),"B&G Infrastructures - Dashboard"]})}),(0,fn.jsxs)("div",{className:"stats-grid",children:[(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:e.totalSites}),(0,fn.jsx)("div",{className:"stat-label",children:"Total Sites"}),(0,fn.jsx)(nn,{size:24,style:{marginTop:"10px",opacity:.7}})]}),(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:e.totalExpenses}),(0,fn.jsx)("div",{className:"stat-label",children:"Total Expenses"}),(0,fn.jsx)(rn,{size:24,style:{marginTop:"10px",opacity:.7}})]}),(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:(a=e.totalAmount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a))}),(0,fn.jsx)("div",{className:"stat-label",children:"Total Amount"}),(0,fn.jsx)(gn,{size:24,style:{marginTop:"10px",opacity:.7}})]}),(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:e.totalStaff}),(0,fn.jsx)("div",{className:"stat-label",children:"Staff Members"}),(0,fn.jsx)(ln,{size:24,style:{marginTop:"10px",opacity:.7}})]}),(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:e.totalMaterials}),(0,fn.jsx)("div",{className:"stat-label",children:"Materials"}),(0,fn.jsx)(on,{size:24,style:{marginTop:"10px",opacity:.7}})]}),(0,fn.jsxs)("div",{className:"stat-card",children:[(0,fn.jsx)("div",{className:"stat-value",children:e.totalMachines}),(0,fn.jsx)("div",{className:"stat-label",children:"Machines & Tools"}),(0,fn.jsx)(an,{size:24,style:{marginTop:"10px",opacity:.7}})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsx)("h3",{className:"card-title",children:"Quick Actions"})}),(0,fn.jsxs)("div",{className:"grid grid-4",children:[(0,fn.jsxs)("a",{href:"/sites",className:"btn",style:{textAlign:"center",padding:"20px",flexDirection:"column",gap:"12px"},children:[(0,fn.jsx)(nn,{size:24}),(0,fn.jsx)("div",{children:"Manage Sites"})]}),(0,fn.jsxs)("a",{href:"/expenses",className:"btn btn-success",style:{textAlign:"center",padding:"20px",flexDirection:"column",gap:"12px"},children:[(0,fn.jsx)(rn,{size:24}),(0,fn.jsx)("div",{children:"Add Expense"})]}),(0,fn.jsxs)("a",{href:"/attendance",className:"btn btn-warning",style:{textAlign:"center",padding:"20px",flexDirection:"column",gap:"12px"},children:[(0,fn.jsx)(cn,{size:24}),(0,fn.jsx)("div",{children:"Attendance"})]}),(0,fn.jsxs)("a",{href:"/tools-machines",className:"btn btn-secondary",style:{textAlign:"center",padding:"20px",flexDirection:"column",gap:"12px"},children:[(0,fn.jsx)(dn,{size:24}),(0,fn.jsx)("div",{children:"Tools & Machines"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsx)("h3",{className:"card-title",children:"Recent Activity"})}),(0,fn.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#7f8c8d"},children:[(0,fn.jsx)(mn,{size:40,style:{marginBottom:"15px",opacity:.5}}),(0,fn.jsx)("p",{children:"No recent activity to display"}),(0,fn.jsx)("p",{style:{fontSize:"0.9rem"},children:"Start adding sites, expenses, and managing your infrastructure projects"})]})]})]});var a}),Wb=en("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Kb=en("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Gb=en("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Qb=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({name:"",location:"",description:"",startDate:"",endDate:"",status:"active"});(0,s.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=(await Mg(Mm(Bb,"sites"))).docs.map(e=>Me({id:e.id},e.data()));t(e)}catch(e){console.error("Error fetching sites:",e),Xt.error("Failed to fetch sites")}finally{r(!1)}},h=e=>{const{name:t,value:n}=e.target;u(e=>Me(Me({},e),{},{[t]:n}))},f=()=>{l(null),u({name:"",location:"",description:"",startDate:"",endDate:"",status:"active"}),a(!1)};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(nn,{}),"Sites"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading sites..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(nn,{}),"Sites Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>a(!0),children:[(0,fn.jsx)(sn,{}),"Add New Site"]})]}),i&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),o?"Edit Site":"Add New Site"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:f,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name.trim())try{o?(await Lg(Lm(Bb,"sites",o.id),Me(Me({},c),{},{updatedAt:new Date})),Xt.success("Site updated successfully!")):(await Ug(Mm(Bb,"sites"),Me(Me({},c),{},{createdAt:new Date,totalExpenses:0})),Xt.success("Site added successfully!")),u({name:"",location:"",description:"",startDate:"",endDate:"",status:"active"}),l(null),a(!1),d()}catch(t){console.error("Error saving site:",t),Xt.error("Failed to ".concat(o?"update":"add"," site"))}else Xt.error("Site name is required")},children:[(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Site Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:c.name,onChange:h,className:"form-input",placeholder:"Enter site name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Location"}),(0,fn.jsx)("input",{type:"text",name:"location",value:c.location,onChange:h,className:"form-input",placeholder:"Enter site location"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Status"}),(0,fn.jsxs)("select",{name:"status",value:c.status,onChange:h,className:"form-select",children:[(0,fn.jsx)("option",{value:"active",children:"Active"}),(0,fn.jsx)("option",{value:"completed",children:"Completed"}),(0,fn.jsx)("option",{value:"on-hold",children:"On Hold"}),(0,fn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Start Date (Optional)"}),(0,fn.jsx)("input",{type:"date",name:"startDate",value:c.startDate,onChange:h,className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"End Date (Optional)"}),(0,fn.jsx)("input",{type:"date",name:"endDate",value:c.endDate,onChange:h,className:"form-input"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description"}),(0,fn.jsx)("textarea",{name:"description",value:c.description,onChange:h,className:"form-textarea",placeholder:"Enter site description",rows:"3"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),o?"Update Site":"Add Site"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(nn,{}),"All Sites"]})}),0===e.length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(nn,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No sites found"}),(0,fn.jsx)("p",{children:"Add your first site to get started"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Site Name"}),(0,fn.jsx)("th",{children:"Location"}),(0,fn.jsx)("th",{children:"Status"}),(0,fn.jsx)("th",{children:"Start Date"}),(0,fn.jsx)("th",{children:"End Date"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:e.map(e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{children:[(0,fn.jsx)("strong",{children:e.name}),e.description&&(0,fn.jsx)("div",{style:{fontSize:"0.9rem",color:"#7f8c8d"},children:e.description})]})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,fn.jsx)(Wb,{size:14}),e.location||"Not specified"]})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",background:"active"===e.status?"#d4edda":"#f8d7da",color:"active"===e.status?"#155724":"#721c24"},children:e.status})}),(0,fn.jsx)("td",{children:e.startDate||"Not set"}),(0,fn.jsx)("td",{children:e.endDate||"Not set"}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{l(e),u({name:e.name||"",location:e.location||"",description:e.description||"",startDate:e.startDate||"",endDate:e.endDate||"",status:e.status||"active"}),a(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this site?"))try{await Fg(Lm(Bb,"sites",e)),Xt.success("Site deleted successfully"),d()}catch(t){console.error("Error deleting site:",t),Xt.error("Failed to delete site")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id))})]})})]})]})},$b=en("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),Yb=en("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Xb=en("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Jb=en("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]),Zb=en("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),ex=en("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)({name:"",description:"",icon:"DollarSign",isActive:!0}),f={Package:on,Hammer:$b,Wrench:an,Users:ln,UserCheck:Yb,Truck:Xb,Settings:dn,Home:tn,Fuel:Jb,Percent:Zb,AlertTriangle:ex,DollarSign:rn},p=[{name:"Material Purchase",description:"Purchase of construction materials",icon:"Package"},{name:"Tools Purchase",description:"Purchase of tools and equipment",icon:"Hammer"},{name:"Wear & Tear Purchase",description:"Items that degrade over time",icon:"Wrench"},{name:"Labour Account",description:"Labor costs and wages",icon:"Users"},{name:"Staff Account",description:"Staff-related expenses",icon:"UserCheck"},{name:"Machines Rental",description:"Equipment and machinery rental",icon:"Truck"},{name:"Repairs",description:"Repair and maintenance costs",icon:"Settings"},{name:"Accommodation & Food",description:"Lodging and meal expenses",icon:"Home"},{name:"Petrol & Diesel",description:"Fuel costs for vehicles and equipment",icon:"Fuel"},{name:"Percentages",description:"Commissions and calculated overheads",icon:"Percent"},{name:"Losses & Discarded Tools",description:"Financial losses and unusable tools",icon:"AlertTriangle"},{name:"Miscellaneous Expenses",description:"Miscellaneous expenses",icon:"DollarSign"}];(0,s.useEffect)(()=>{m()},[]),(0,s.useEffect)(()=>{const e=e=>{o&&!e.target.closest(".custom-dropdown")&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]);const m=async()=>{try{const e=(await Mg(Mm(Bb,"expenseTypes"))).docs.map(e=>Me({id:e.id},e.data()));if(0===e.length){await y();const e=(await Mg(Mm(Bb,"expenseTypes"))).docs.map(e=>Me({id:e.id},e.data()));t(e)}else t(e)}catch(e){console.error("Error fetching expense types:",e),Xt.error("Failed to fetch expense types")}finally{r(!1)}},g=e=>{const{name:t,value:n}=e.target;h(e=>Me(Me({},e),{},{[t]:n}))},y=async()=>{try{for(const e of p)await Ug(Mm(Bb,"expenseTypes"),Me(Me({},e),{},{createdAt:new Date,isActive:!0}))}catch(e){console.error("Error adding predefined types:",e),Xt.error("Failed to add predefined types")}};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(rn,{}),"Expense Types"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading expense types..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(rn,{}),"Expense Types Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>a(!0),children:[(0,fn.jsx)(sn,{}),"Add New Type"]})]}),i&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),c?"Edit Expense Type":"Add New Expense Type"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:()=>{a(!1),u(null),h({name:"",description:"",icon:"DollarSign",isActive:!0})},children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.name.trim())try{c?(await Lg(Lm(Bb,"expenseTypes",c),Me(Me({},d),{},{updatedAt:new Date})),Xt.success("Expense type updated successfully!")):(await Ug(Mm(Bb,"expenseTypes"),Me(Me({},d),{},{createdAt:new Date})),Xt.success("Expense type added successfully!")),h({name:"",description:"",icon:"DollarSign",isActive:!0}),u(null),a(!1),m()}catch(t){console.error("Error saving expense type:",t),Xt.error("Failed to ".concat(c?"update":"add"," expense type"))}else Xt.error("Expense type name is required")},children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Type Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:d.name,onChange:g,className:"form-input",placeholder:"Enter expense type name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Icon"}),(0,fn.jsxs)("div",{className:"custom-dropdown",children:[(0,fn.jsxs)("div",{className:"dropdown-trigger ".concat(o?"open":""),onClick:()=>l(!o),children:[(0,fn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.createElement(f[d.icon]||rn,{size:16}),d.icon]}),(0,fn.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),o&&(0,fn.jsx)("div",{className:"dropdown-menu",children:Object.keys(f).map(e=>{const t=f[e];return(0,fn.jsxs)("div",{className:"dropdown-item",onClick:()=>{h(t=>Me(Me({},t),{},{icon:e})),l(!1)},children:[(0,fn.jsx)(t,{size:16}),e]},e)})})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description"}),(0,fn.jsx)("textarea",{name:"description",value:d.description,onChange:g,className:"form-textarea",placeholder:"Enter expense type description",rows:"3"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),c?"Update Type":"Add Type"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(!1),children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(rn,{}),"All Expense Types"]})}),0===e.length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(rn,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No expense types found"}),(0,fn.jsx)("p",{children:"Add predefined types or create your own"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Icon"}),(0,fn.jsx)("th",{children:"Name"}),(0,fn.jsx)("th",{children:"Description"}),(0,fn.jsx)("th",{children:"Status"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:e.map(e=>{const t=f[e.icon]||rn;return(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)(t,{size:20})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("strong",{children:e.name})}),(0,fn.jsx)("td",{children:e.description||"No description"}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",background:e.isActive?"#d4edda":"#f8d7da",color:e.isActive?"#155724":"#721c24"},children:e.isActive?"Active":"Inactive"})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{u(e.id),h({name:e.name||"",description:e.description||"",icon:e.icon||"DollarSign",isActive:void 0===e.isActive||e.isActive}),a(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this expense type?"))try{await Fg(Lm(Bb,"expenseTypes",e)),Xt.success("Expense type deleted successfully"),m()}catch(t){console.error("Error deleting expense type:",t),Xt.error("Failed to delete expense type")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id)})})]})})]})]})},nx=en("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),rx=en("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),sx=en("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ix=en("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ax=en("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ox=()=>{var e,t;const n=ne(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)(!0),[h,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),[x,w]=(0,s.useState)(null),[N,E]=(0,s.useState)(!1),S={Package:on,Hammer:$b,Wrench:an,Users:ln,UserCheck:Yb,Truck:Xb,Settings:dn,Home:tn,Fuel:Jb,Percent:Zb,AlertTriangle:ex,DollarSign:rn};(0,s.useEffect)(()=>{k()},[]);const k=async()=>{try{const e=bg(Mm(Bb,"expenses"),Eg("createdAt","desc")),t=(await Mg(e)).docs.map(e=>Me({id:e.id},e.data()));i(t);const n=(await Mg(Mm(Bb,"sites"))).docs.map(e=>Me({id:e.id},e.data()));o(n);const r=(await Mg(Mm(Bb,"expenseTypes"))).docs.map(e=>Me({id:e.id},e.data()));c(r)}catch(e){console.error("Error fetching data:",e),Xt.error("Failed to fetch data")}finally{d(!1)}},j=()=>{E(!1),w(null)},C=e=>{const t=a.find(t=>t.id===e.siteId),n=l.find(t=>t.id===e.expenseTypeId),r="\nINVOICE\n====================\n\nInvoice Date: ".concat(T(e.date),"\nSite: ").concat((null===t||void 0===t?void 0:t.name)||"Unknown Site","\nExpense Type: ").concat((null===n||void 0===n?void 0:n.name)||"Unknown Type","\n\nEXPENSE DETAILS:\n====================\nDescription: ").concat(e.description||"-","\nVendor: ").concat(e.vendor||"-","\nPayment Method: ").concat(e.paymentMethod||"-","\n\nAMOUNT BREAKDOWN:\n====================\n").concat(e.category?"Category: ".concat(e.category):"","\n").concat(e.quantity?"Quantity: ".concat(e.quantity):"","\n").concat(e.amount?"Amount: \u20b9".concat(e.amount):"","\n").concat(e.totalAmount?"Total Amount: \u20b9".concat(e.totalAmount):"","\n").concat(e.transportCharges?"Transport Charges: \u20b9".concat(e.transportCharges):"","\n").concat(e.maintenanceCharges?"Maintenance Charges: \u20b9".concat(e.maintenanceCharges):"","\n\nTOTAL: \u20b9").concat(e.totalAmount||e.amount||0,"\n\nNotes: ").concat(e.notes||"-","\n\nGenerated on: ").concat((new Date).toLocaleDateString("en-IN"),"\n    "),s=new Blob([r],{type:"text/plain"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download="expense-invoice-".concat(e.id,".txt"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i),Xt.success("Invoice downloaded successfully!")},T=e=>e&&e.seconds?new Date(1e3*e.seconds).toLocaleDateString("en-IN"):new Date(e).toLocaleDateString("en-IN"),_=()=>{let e=r;return h&&(e=e.filter(e=>{var t,n;const r=a.find(t=>t.id===e.siteId),s=l.find(t=>t.id===e.expenseTypeId);return(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.vendor)||void 0===n?void 0:n.toLowerCase().includes(h.toLowerCase()))||(null===r||void 0===r?void 0:r.name.toLowerCase().includes(h.toLowerCase()))||(null===s||void 0===s?void 0:s.name.toLowerCase().includes(h.toLowerCase()))})),p&&(e=e.filter(e=>e.siteId===p)),g&&(e=e.filter(e=>e.expenseTypeId===g)),e};return u?(0,fn.jsx)("div",{className:"container",children:(0,fn.jsx)("div",{className:"card",children:(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading expenses..."})]})})}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(sn,{}),"Expenses Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>n("/add-expense"),children:[(0,fn.jsx)(sn,{}),"Add New Expense"]})]}),(0,fn.jsx)("div",{className:"card",children:(0,fn.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"20px"},children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Search"}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)(nx,{className:"input-icon"}),(0,fn.jsx)("input",{type:"text",placeholder:"Search expenses...",value:h,onChange:e=>f(e.target.value),className:"form-input"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Filter by Site"}),(0,fn.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Sites"}),a.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Filter by Type"}),(0,fn.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Types"}),l.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,fn.jsxs)("div",{className:"expenses-container",children:[_().map(e=>{const t=a.find(t=>t.id===e.siteId),r=l.find(t=>t.id===e.expenseTypeId),s=S[null===r||void 0===r?void 0:r.icon]||rn;return(0,fn.jsxs)("div",{className:"expense-card",children:[(0,fn.jsxs)("div",{className:"expense-card-header",children:[(0,fn.jsxs)("div",{className:"expense-type",children:[(0,fn.jsx)(s,{size:20}),(0,fn.jsx)("span",{children:(o=e.expenseType,{"accommodation-food":"Accommodation & Food","machines-tools-rental":"Machines and Tools Rental","material-purchase":"Material Purchase",repairs:"Repairs",percentages:"Percentages","tool-purchase":"Tools Purchase","wear-tear":"Wear & Tear Purchase","losses-discarded":"Losses & Discarded Tools","petrol-diesel":"Petrol & Diesel","misc-expenses":"Miscellaneous Expenses","labour-account":"Labour Account","staff-account":"Staff Account"}[o]||o||"Unknown Type")})]}),(0,fn.jsx)("div",{className:"expense-amount",children:(i=e.totalAmount||e.amount||0,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(i))})]}),(0,fn.jsx)("div",{className:"expense-card-body",children:(0,fn.jsxs)("div",{className:"expense-info",children:[(0,fn.jsxs)("div",{className:"info-item",children:[(0,fn.jsx)(cn,{size:16}),(0,fn.jsx)("span",{children:T(e.date)})]}),(0,fn.jsxs)("div",{className:"info-item",children:[(0,fn.jsx)(Wb,{size:16}),(0,fn.jsx)("span",{children:(null===t||void 0===t?void 0:t.name)||"Unknown Site"})]}),(0,fn.jsxs)("div",{className:"info-item",children:[(0,fn.jsx)(rx,{size:16}),(0,fn.jsx)("span",{children:e.description||"No description"})]}),e.vendor&&(0,fn.jsxs)("div",{className:"info-item",children:[(0,fn.jsx)(nn,{size:16}),(0,fn.jsx)("span",{children:e.vendor})]}),e.paymentMethod&&(0,fn.jsxs)("div",{className:"info-item",children:[(0,fn.jsx)(sx,{size:16}),(0,fn.jsx)("span",{children:e.paymentMethod})]})]})}),(0,fn.jsxs)("div",{className:"expense-card-footer",children:[(0,fn.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{w(e),E(!0)})(e),title:"View Details",children:(0,fn.jsx)(ix,{size:16})}),(0,fn.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>(e=>{n("/edit-expense/".concat(e.id))})(e),title:"Edit",children:(0,fn.jsx)(Kb,{size:16})}),(0,fn.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>C(e),title:"Download Invoice",children:(0,fn.jsx)(ax,{size:16})}),(0,fn.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Fg(Lm(Bb,"expenses",e)),Xt.success("Expense deleted successfully"),k()}catch(t){console.error("Error deleting expense:",t),Xt.error("Failed to delete expense")}})(e.id),title:"Delete",children:(0,fn.jsx)(Gb,{size:16})})]})]},e.id);var i,o}),0===_().length&&(0,fn.jsxs)("div",{className:"empty-state",children:[(0,fn.jsx)(rn,{size:64,style:{opacity:.3,marginBottom:"16px"}}),(0,fn.jsx)("h3",{children:"No expenses found"}),(0,fn.jsx)("p",{children:"Start by adding your first expense"}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>n("/add-expense"),style:{marginTop:"16px"},children:[(0,fn.jsx)(sn,{}),"Add First Expense"]})]})]}),N&&x&&(0,fn.jsx)("div",{className:"modal-overlay",onClick:j,children:(0,fn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,fn.jsxs)("div",{className:"modal-header",children:[(0,fn.jsx)("h2",{children:"Expense Details"}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:j,children:"Close"})]}),(0,fn.jsx)("div",{className:"modal-body",children:(0,fn.jsxs)("div",{className:"invoice-container",children:[(0,fn.jsxs)("div",{className:"invoice-header",children:[(0,fn.jsx)("h3",{children:"INVOICE"}),(0,fn.jsxs)("div",{className:"invoice-date",children:["Date: ",T(x.date)]})]}),(0,fn.jsxs)("div",{className:"invoice-details",children:[(0,fn.jsxs)("div",{className:"detail-section",children:[(0,fn.jsx)("h4",{children:"Site Information"}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Site:"})," ",(null===(e=a.find(e=>e.id===x.siteId))||void 0===e?void 0:e.name)||"Unknown Site"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Expense Type:"})," ",(null===(t=l.find(e=>e.id===x.expenseTypeId))||void 0===t?void 0:t.name)||"Unknown Type"]})]}),(0,fn.jsxs)("div",{className:"detail-section",children:[(0,fn.jsx)("h4",{children:"Expense Information"}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Description:"})," ",x.description||"-"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Vendor:"})," ",x.vendor||"-"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Payment Method:"})," ",x.paymentMethod||"-"]})]}),(0,fn.jsxs)("div",{className:"detail-section",children:[(0,fn.jsx)("h4",{children:"Amount Breakdown"}),x.category&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Category:"})," ",x.category]}),x.quantity&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Quantity:"})," ",x.quantity]}),x.amount&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Amount:"})," \u20b9",x.amount]}),x.totalAmount&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Total Amount:"})," \u20b9",x.totalAmount]}),x.transportCharges&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Transport Charges:"})," \u20b9",x.transportCharges]}),x.maintenanceCharges&&(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Maintenance Charges:"})," \u20b9",x.maintenanceCharges]}),(0,fn.jsx)("div",{className:"total-section",children:(0,fn.jsxs)("h3",{children:["TOTAL: \u20b9",x.totalAmount||x.amount||0]})})]}),x.notes&&(0,fn.jsxs)("div",{className:"detail-section",children:[(0,fn.jsx)("h4",{children:"Notes"}),(0,fn.jsx)("p",{children:x.notes})]})]}),(0,fn.jsx)("div",{className:"invoice-footer",children:(0,fn.jsxs)("button",{className:"btn btn-success",onClick:()=>C(x),children:[(0,fn.jsx)(ax,{}),"Download Invoice"]})})]})})]})})]})},lx=en("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),cx=en("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ux=()=>{const{siteId:e}=function(){let{matches:e}=s.useContext(X),t=e[e.length-1];return t?t.params:{}}(),t=ne(),[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)([]),[f,p]=(0,s.useState)(!0),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)({date:(new Date).toISOString().split("T")[0],siteId:e||"",expenseType:"",category:"",amount:"",paymentMethod:"",quantityAccommodation:"",description:"",notes:"",rentalCategory:"",machineToolName:"",rentalQuantity:"",vendorName:"",vendorContact:"",duration:"",durationType:"",rentPer:"",rentPerType:"",totalRent:"",transportChargesRental:"",maintenanceCharges:"",toolName:"",quantityPurchased:"",pricePerUnit:"",totalAmountTool:"",brandModel:"",vendorSupplier:"",vendorContactTool:"",warranty:"",itemName:"",wearQuantity:"",wearUnitOfMeasure:"",wearUnitPrice:"",wearTotalAmount:"",wearVendorName:"",wearContactNumber:"",labourName:"",role:"",employeeType:"",contactNumber:"",attendance:"",pricePer:"",pricePerType:"",totalAmountLabour:"",materialName:"",quantityMaterial:"",unitOfMeasure:"",ratePerUnit:"",supplierName:"",supplierContact:"",transportChargesMaterial:"",itemMachineToolName:"",assetType:"",problemDescription:"",workshopName:"",partsReplaced:"",sparePartsCost:"",labourCharges:"",transportChargesRepair:"",totalCostRepair:"",warrantyRepair:"",warrantyStartDate:"",warrantyEndDate:"",fuelCategory:"",fuelQuantity:"",costPerUnit:"",totalCostFuel:"",totalAmountRemaining:"",supplierVendorName:"",supplierVendorContact:""}),b=[{value:"accommodation-food",label:"Accommodation & Food",icon:tn},{value:"machines-tools-rental",label:"Machines and Tools Rental",icon:an},{value:"material-purchase",label:"Material Purchase",icon:on},{value:"repairs",label:"Repairs",icon:an},{value:"percentages",label:"Percentages",icon:Zb},{value:"tool-purchase",label:"Tools Purchase",icon:an},{value:"wear-tear",label:"Wear & Tear Purchase",icon:an},{value:"losses-discarded",label:"Losses & Discarded Tools",icon:ex},{value:"petrol-diesel",label:"Petrol & Diesel",icon:Jb},{value:"misc-expenses",label:"Miscellaneous Expenses",icon:rn},{value:"labour-account",label:"Labour Account",icon:ln},{value:"staff-account",label:"Staff Account",icon:Yb}],x=["Cash","Bank Transfer","Cheque","UPI","Credit Card","Debit Card"],w=["bags","kg","tonne","litre","pieces","meter","sqft","cubic meter"];(0,s.useEffect)(()=>{N()},[]);const N=async()=>{try{const t=(await Mg(Mm(Bb,"sites"))).docs.map(e=>Me({id:e.id},e.data()));a(t);const n=(await Mg(Mm(Bb,"machinesTools"))).docs.map(e=>Me({id:e.id},e.data()));l(n);const s=(await Mg(Mm(Bb,"materials"))).docs.map(e=>Me({id:e.id},e.data()));u(s);const i=(await Mg(Mm(Bb,"labourStaff"))).docs.map(e=>Me({id:e.id},e.data()));if(h(i),e){const t=await function(e){e=_m(e,Rm);const t=_m(e.firestore,Um);return wm(zm(t),e._key).then(n=>Vg(t,e,n))}(Lm(Bb,"sites",e));t.exists()&&r(Me({id:t.id},t.data()))}}catch(t){console.error("Error fetching data:",t),Xt.error("Failed to fetch data")}finally{p(!1)}},E=e=>{const{name:t,value:n}=e.target;v(e=>Me(Me({},e),{},{[t]:n}))},S=()=>{const{expenseType:e}=y;switch(e){case"accommodation-food":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Category *"}),(0,fn.jsxs)("select",{name:"category",value:y.category,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select category"}),(0,fn.jsx)("option",{value:"food",children:"Food"}),(0,fn.jsx)("option",{value:"accommodation",children:"Accommodation"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"amount",value:y.amount,onChange:E,className:"form-input",placeholder:"Enter amount",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"quantityAccommodation",value:y.quantityAccommodation,onChange:E,className:"form-input",placeholder:"Enter quantity",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description *"}),(0,fn.jsx)("textarea",{name:"description",value:y.description,onChange:E,className:"form-textarea",placeholder:"Enter description",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]})]});case"machines-tools-rental":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Category *"}),(0,fn.jsxs)("select",{name:"rentalCategory",value:y.rentalCategory,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select category"}),(0,fn.jsx)("option",{value:"machine",children:"Machine"}),(0,fn.jsx)("option",{value:"tool",children:"Tool"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Machine or Tool Name *"}),(0,fn.jsxs)("select",{name:"machineToolName",value:y.machineToolName,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select machine/tool"}),o.map(e=>(0,fn.jsxs)("option",{value:e.name,children:[e.name," - ",e.type||"Machine/Tool"]},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"rentalQuantity",value:y.rentalQuantity,onChange:E,className:"form-input",placeholder:"Enter quantity",min:"1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor/Supplier Name *"}),(0,fn.jsx)("input",{type:"text",name:"vendorName",value:y.vendorName,onChange:E,className:"form-input",placeholder:"Enter vendor name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"vendorContact",value:y.vendorContact,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Duration *"}),(0,fn.jsx)("input",{type:"number",name:"duration",value:y.duration,onChange:E,className:"form-input",placeholder:"Enter duration",min:"1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Duration Type *"}),(0,fn.jsxs)("select",{name:"durationType",value:y.durationType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select duration type"}),(0,fn.jsx)("option",{value:"days",children:"Days"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Rent Per *"}),(0,fn.jsx)("input",{type:"number",name:"rentPer",value:y.rentPer,onChange:E,className:"form-input",placeholder:"Enter rent per unit",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Rent Per Type *"}),(0,fn.jsxs)("select",{name:"rentPerType",value:y.rentPerType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select rent per type"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"daily",children:"Daily"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Rent (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalRent",value:y.totalRent,onChange:E,className:"form-input",placeholder:"Enter total rent",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Transport Charges (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"transportCharges",value:y.transportCharges,onChange:E,className:"form-input",placeholder:"Enter transport charges",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Maintenance/Damage Charges (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"maintenanceCharges",value:y.maintenanceCharges,onChange:E,className:"form-input",placeholder:"Enter maintenance charges",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]})]});case"tool-purchase":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Tool Name *"}),(0,fn.jsxs)("select",{name:"toolName",value:y.toolName,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select tool"}),o.filter(e=>"tool"===e.type||"tool"===e.category).map(e=>(0,fn.jsxs)("option",{value:e.name,children:[e.name," - ",e.brand||"Tool"]},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity Purchased *"}),(0,fn.jsx)("input",{type:"number",name:"quantityPurchased",value:y.quantityPurchased,onChange:E,className:"form-input",placeholder:"Enter quantity",min:"1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Price Per Unit (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"pricePerUnit",value:y.pricePerUnit,onChange:E,className:"form-input",placeholder:"Enter unit price",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalAmount",value:y.totalAmount,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Brand Model"}),(0,fn.jsx)("input",{type:"text",name:"brandModel",value:y.brandModel,onChange:E,className:"form-input",placeholder:"Enter brand/model"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor/Supplier Name *"}),(0,fn.jsx)("input",{type:"text",name:"vendorSupplier",value:y.vendorSupplier,onChange:E,className:"form-input",placeholder:"Enter vendor name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"vendorContactTool",value:y.vendorContactTool,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty *"}),(0,fn.jsxs)("select",{name:"warranty",value:y.warranty,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select warranty"}),(0,fn.jsx)("option",{value:"yes",children:"Yes"}),(0,fn.jsx)("option",{value:"no",children:"No"})]})]})]});case"wear-tear":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Item Name *"}),(0,fn.jsx)("input",{type:"text",name:"itemName",value:y.itemName,onChange:E,className:"form-input",placeholder:"Enter item name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"wearQuantity",value:y.wearQuantity,onChange:E,className:"form-input",placeholder:"Enter quantity",min:"1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Unit of Measure *"}),(0,fn.jsxs)("select",{name:"wearUnitOfMeasure",value:y.wearUnitOfMeasure,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select unit"}),w.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Unit Price (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"wearUnitPrice",value:y.wearUnitPrice,onChange:E,className:"form-input",placeholder:"Enter unit price",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"wearTotalAmount",value:y.wearTotalAmount,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor Name *"}),(0,fn.jsx)("input",{type:"text",name:"wearVendorName",value:y.wearVendorName,onChange:E,className:"form-input",placeholder:"Enter vendor name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Vendor Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"wearContactNumber",value:y.wearContactNumber,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]})]});case"labour-account":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Labour Name *"}),(0,fn.jsxs)("select",{name:"labourName",value:y.labourName,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select labour/staff"}),d.map(e=>(0,fn.jsxs)("option",{value:e.name,children:[e.name," - ",e.role||e.designation||"Staff"]},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Role *"}),(0,fn.jsx)("input",{type:"text",name:"role",value:y.role,onChange:E,className:"form-input",placeholder:"Enter role",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Employee Type *"}),(0,fn.jsxs)("select",{name:"employeeType",value:y.employeeType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select employee type"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"daily",children:"Daily"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"contactNumber",value:y.contactNumber,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Attendance *"}),(0,fn.jsx)("input",{type:"number",name:"attendance",value:y.attendance,onChange:E,className:"form-input",placeholder:"Enter attendance",min:"0",step:"0.1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Price Per *"}),(0,fn.jsx)("input",{type:"number",name:"pricePer",value:y.pricePer,onChange:E,className:"form-input",placeholder:"Enter price per unit",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Price Per Type *"}),(0,fn.jsxs)("select",{name:"pricePerType",value:y.pricePerType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select price per type"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,fn.jsx)("option",{value:"daily",children:"Daily"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalAmountLabour",value:y.totalAmountLabour,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]})]});case"staff-account":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Staff Name *"}),(0,fn.jsxs)("select",{name:"labourName",value:y.labourName,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select staff member"}),d.filter(e=>"staff"===e.type||"staff"===e.category).map(e=>(0,fn.jsxs)("option",{value:e.name,children:[e.name," - ",e.role||e.designation||"Staff"]},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Role *"}),(0,fn.jsx)("input",{type:"text",name:"role",value:y.role,onChange:E,className:"form-input",placeholder:"Enter role",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Employee Type *"}),(0,fn.jsxs)("select",{name:"employeeType",value:y.employeeType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select employee type"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"daily",children:"Daily"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"contactNumber",value:y.contactNumber,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Attendance *"}),(0,fn.jsx)("input",{type:"number",name:"attendance",value:y.attendance,onChange:E,className:"form-input",placeholder:"Enter attendance",min:"0",step:"0.1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Price Per *"}),(0,fn.jsx)("input",{type:"number",name:"pricePer",value:y.pricePer,onChange:E,className:"form-input",placeholder:"Enter price per unit",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Price Per Type *"}),(0,fn.jsxs)("select",{name:"pricePerType",value:y.pricePerType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select price per type"}),(0,fn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,fn.jsx)("option",{value:"hrly",children:"Hourly"}),(0,fn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,fn.jsx)("option",{value:"daily",children:"Daily"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalAmountLabour",value:y.totalAmountLabour,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]})]});case"material-purchase":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Material Name *"}),(0,fn.jsxs)("select",{name:"materialName",value:y.materialName,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select material"}),c.map(e=>(0,fn.jsxs)("option",{value:e.name,children:[e.name," - ",e.category||"Material"]},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"quantityMaterial",value:y.quantityMaterial,onChange:E,className:"form-input",placeholder:"Enter quantity",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Unit of Measure *"}),(0,fn.jsxs)("select",{name:"unitOfMeasure",value:y.unitOfMeasure,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select unit"}),(0,fn.jsx)("option",{value:"bags",children:"Bags"}),(0,fn.jsx)("option",{value:"pieces",children:"Pieces"}),(0,fn.jsx)("option",{value:"kg",children:"Kg"}),(0,fn.jsx)("option",{value:"metre",children:"Metre"}),(0,fn.jsx)("option",{value:"tonne",children:"Tonne"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Rate Per Unit (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"ratePerUnit",value:y.ratePerUnit,onChange:E,className:"form-input",placeholder:"Enter rate per unit",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalAmount",value:y.totalAmount,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Supplier Name *"}),(0,fn.jsx)("input",{type:"text",name:"supplierName",value:y.supplierName,onChange:E,className:"form-input",placeholder:"Enter supplier name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Supplier Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"supplierContact",value:y.supplierContact,onChange:E,className:"form-input",placeholder:"Enter contact number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Transport Charges (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"transportCharges",value:y.transportCharges,onChange:E,className:"form-input",placeholder:"Enter transport charges",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]})]});case"repairs":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Item/Machine/Tool Name *"}),(0,fn.jsx)("input",{type:"text",name:"itemMachineToolName",value:y.itemMachineToolName,onChange:E,className:"form-input",placeholder:"Enter item/machine/tool name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Asset Type *"}),(0,fn.jsxs)("select",{name:"assetType",value:y.assetType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select asset type"}),(0,fn.jsx)("option",{value:"machine",children:"Machine"}),(0,fn.jsx)("option",{value:"tool",children:"Tool"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Problem Description *"}),(0,fn.jsx)("textarea",{name:"problemDescription",value:y.problemDescription,onChange:E,className:"form-textarea",placeholder:"Enter problem description",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Workshop Name *"}),(0,fn.jsx)("input",{type:"text",name:"workshopName",value:y.workshopName,onChange:E,className:"form-input",placeholder:"Enter workshop name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Parts Replaced"}),(0,fn.jsx)("textarea",{name:"partsReplaced",value:y.partsReplaced,onChange:E,className:"form-textarea",placeholder:"Enter parts replaced"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Spare Parts Cost (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"sparePartsCost",value:y.sparePartsCost,onChange:E,className:"form-input",placeholder:"Enter spare parts cost",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Labour Charges (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"labourCharges",value:y.labourCharges,onChange:E,className:"form-input",placeholder:"Enter labour charges",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Transport Charges (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"transportChargesRepair",value:y.transportChargesRepair,onChange:E,className:"form-input",placeholder:"Enter transport charges",step:"0.01",min:"0"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Cost (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalCost",value:y.totalCost,onChange:E,className:"form-input",placeholder:"Enter total cost",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty *"}),(0,fn.jsxs)("select",{name:"warrantyRepair",value:y.warrantyRepair,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select warranty"}),(0,fn.jsx)("option",{value:"yes",children:"Yes"}),(0,fn.jsx)("option",{value:"no",children:"No"})]})]}),"yes"===y.warrantyRepair&&(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty Start Date *"}),(0,fn.jsx)("input",{type:"date",name:"warrantyStartDate",value:y.warrantyStartDate,onChange:E,className:"form-input",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty End Date *"}),(0,fn.jsx)("input",{type:"date",name:"warrantyEndDate",value:y.warrantyEndDate,onChange:E,className:"form-input",required:!0})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]})]});case"petrol-diesel":return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Category *"}),(0,fn.jsxs)("select",{name:"fuelCategory",value:y.fuelCategory,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select category"}),(0,fn.jsx)("option",{value:"diesel",children:"Diesel"}),(0,fn.jsx)("option",{value:"petrol",children:"Petrol"}),(0,fn.jsx)("option",{value:"others",children:"Others"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"fuelQuantity",value:y.fuelQuantity,onChange:E,className:"form-input",placeholder:"Enter quantity",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Cost Per Unit (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"costPerUnit",value:y.costPerUnit,onChange:E,className:"form-input",placeholder:"Enter cost per unit",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Cost (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalCost",value:y.totalCost,onChange:E,className:"form-input",placeholder:"Enter total cost",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]})]});default:return(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Total Amount (\u20b9) *"}),(0,fn.jsx)("input",{type:"number",name:"totalAmountRemaining",value:y.totalAmountRemaining,onChange:E,className:"form-input",placeholder:"Enter total amount",step:"0.01",min:"0",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:y.notes,onChange:E,className:"form-textarea",placeholder:"Any additional notes",rows:"3"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description"}),(0,fn.jsx)("textarea",{name:"description",value:y.description,onChange:E,className:"form-textarea",placeholder:"Enter description",rows:"3"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,fn.jsxs)("select",{name:"paymentMethod",value:y.paymentMethod,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select payment method"}),x.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Supplier/Vendor Name"}),(0,fn.jsx)("input",{type:"text",name:"supplierVendorName",value:y.supplierVendorName,onChange:E,className:"form-input",placeholder:"Enter supplier/vendor name"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Supplier/Vendor Contact Number"}),(0,fn.jsx)("input",{type:"tel",name:"supplierVendorContact",value:y.supplierVendorContact,onChange:E,className:"form-input",placeholder:"Enter contact number"})]})]})}};return f?(0,fn.jsx)("div",{className:"container",children:(0,fn.jsx)("div",{className:"card",children:(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading..."})]})})}):(0,fn.jsx)("div",{className:"container",children:(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("button",{className:"btn btn-secondary",onClick:()=>t(e?"/dashboard/".concat(e):"/expenses"),children:[(0,fn.jsx)(lx,{className:"icon-animation"}),"Back"]}),(0,fn.jsxs)("h1",{className:"card-title",children:[(0,fn.jsx)(sn,{className:"icon-animation"}),"Add New Expense"]})]}),n&&(0,fn.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px"},children:[(0,fn.jsxs)("h3",{children:["Site: ",n.name]}),n.location&&(0,fn.jsxs)("p",{children:["Location: ",n.location]})]}),(0,fn.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!y.siteId||!y.expenseType||!y.date)return void Xt.error("Please fill in all required fields");const r=(()=>{const{expenseType:e}=y;switch(e){case"accommodation-food":return parseFloat(y.amount)||0;case"machines-tools-rental":return(parseFloat(y.totalRent)||0)+(parseFloat(y.transportChargesRental)||0)+(parseFloat(y.maintenanceCharges)||0);case"tool-purchase":return parseFloat(y.totalAmount)||0;case"wear-tear":return parseFloat(y.wearTotalAmount)||0;case"labour-account":return parseFloat(y.totalAmountLabour)||0;case"material-purchase":return(parseFloat(y.totalAmountTool)||0)+(parseFloat(y.transportChargesMaterial)||0);case"repairs":return parseFloat(y.totalCostRepair)||0;case"petrol-diesel":return parseFloat(y.totalCostFuel)||0;default:return parseFloat(y.totalAmountRemaining)||0}})();if(r<=0)Xt.error("Total amount must be greater than 0");else{g(!0);try{const n=Me(Me({},y),{},{totalAmount:r,createdAt:new Date,updatedAt:new Date});await Ug(Mm(Bb,"expenses"),n),Xt.success("Expense added successfully!"),t(e?"/dashboard/".concat(e):"/expenses")}catch(s){console.error("Error adding expense:",s),Xt.error("Failed to add expense")}finally{g(!1)}}},children:[(()=>{var e;const{expenseType:t}=y;return(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Date *"}),(0,fn.jsx)("input",{type:"date",name:"date",value:y.date,onChange:E,className:"form-input",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Site Name *"}),(0,fn.jsxs)("select",{name:"siteId",value:y.siteId,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select a site"}),i.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Expense Type *"}),(0,fn.jsxs)("select",{name:"expenseType",value:y.expenseType,onChange:E,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select expense type"}),b.map(e=>(0,fn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),t&&(0,fn.jsxs)("div",{style:{marginTop:"30px",marginBottom:"30px",padding:"25px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%)",borderRadius:"16px",border:"2px solid rgba(99, 102, 241, 0.2)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,fn.jsxs)("h3",{style:{marginBottom:"25px",color:"#1f2937",fontSize:"1.5rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"12px",textAlign:"center",justifyContent:"center"},children:[null===(e=b.find(e=>e.value===t))||void 0===e?void 0:e.label," Details"]}),S()]})]})})(),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"30px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",disabled:m,children:[(0,fn.jsx)(cx,{className:"icon-animation"}),m?"Saving...":"Save Expense"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(e?"/dashboard/".concat(e):"/expenses"),children:"Cancel"})]})]})]})})},dx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({name:"",type:"",status:"available",quantity:1,description:""});(0,s.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=(await Mg(Mm(Bb,"machinesTools"))).docs.map(e=>Me({id:e.id},e.data()));t(e)}catch(e){console.error("Error fetching machines and tools:",e),Xt.error("Failed to fetch machines and tools")}finally{r(!1)}},h=e=>{const{name:t,value:n}=e.target;u(e=>Me(Me({},e),{},{[t]:n}))},f=async(e,n)=>{try{await Lg(Lm(Bb,"machinesTools",e),{quantity:n,updatedAt:new Date}),t(t=>t.map(t=>t.id===e?Me(Me({},t),{},{quantity:n}):t)),Xt.success("Quantity updated successfully")}catch(r){console.error("Error updating quantity:",r),Xt.error("Failed to update quantity")}},p=()=>{l(null),u({name:"",type:"",status:"available",quantity:1,description:""}),a(!1)};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(an,{}),"Machines & Tools"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading machines and tools..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(an,{}),"Machines & Tools Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>a(!0),children:[(0,fn.jsx)(sn,{}),"Add New Item"]})]}),i&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),o?"Edit Machine/Tool":"Add New Machine/Tool"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:p,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name.trim())try{o?(await Lg(Lm(Bb,"machinesTools",o),Me(Me({},c),{},{updatedAt:new Date})),Xt.success("Item updated successfully!")):(await Ug(Mm(Bb,"machinesTools"),Me(Me({},c),{},{inUseCount:0,repairCount:0,createdAt:new Date})),Xt.success("Item added successfully!")),u({name:"",type:"",status:"available",quantity:1,description:""}),l(null),a(!1),d()}catch(t){console.error("Error saving item:",t),Xt.error("Failed to ".concat(o?"update":"add"," item"))}else Xt.error("Name is required")},children:[(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:c.name,onChange:h,className:"form-input",placeholder:"Enter name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Type *"}),(0,fn.jsxs)("select",{name:"type",value:c.type,onChange:h,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select type"}),(0,fn.jsx)("option",{value:"machine",children:"Machine"}),(0,fn.jsx)("option",{value:"tool",children:"Tool"}),(0,fn.jsx)("option",{value:"equipment",children:"Equipment"})]})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Status"}),(0,fn.jsxs)("select",{name:"status",value:c.status,onChange:h,className:"form-select",children:[(0,fn.jsx)("option",{value:"available",children:"Available"}),(0,fn.jsx)("option",{value:"in-use",children:"In Use"}),(0,fn.jsx)("option",{value:"repair",children:"Under Repair"}),(0,fn.jsx)("option",{value:"out-of-service",children:"Out of Service"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity"}),(0,fn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",style:{padding:"8px 12px",minWidth:"40px"},onClick:()=>u(e=>Me(Me({},e),{},{quantity:Math.max(1,e.quantity-1)})),children:"-"}),(0,fn.jsx)("input",{type:"number",name:"quantity",value:c.quantity,onChange:h,className:"form-input",style:{textAlign:"center",width:"80px"},min:"1",required:!0}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",style:{padding:"8px 12px",minWidth:"40px"},onClick:()=>u(e=>Me(Me({},e),{},{quantity:e.quantity+1})),children:"+"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description"}),(0,fn.jsx)("textarea",{name:"description",value:c.description,onChange:h,className:"form-textarea",placeholder:"Enter description",rows:"3"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),o?"Update Item":"Add Item"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(an,{}),"All Machines & Tools"]})}),0===e.length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(an,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No machines or tools found"}),(0,fn.jsx)("p",{children:"Add predefined items or create your own"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Name"}),(0,fn.jsx)("th",{children:"Type"}),(0,fn.jsx)("th",{children:"Total Qty"}),(0,fn.jsx)("th",{children:"In Use"}),(0,fn.jsx)("th",{children:"Repair"}),(0,fn.jsx)("th",{children:"Available"}),(0,fn.jsx)("th",{children:"Status"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:e.map(e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("div",{children:(0,fn.jsx)("strong",{children:e.name})})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",background:"machine"===e.type?"#d1ecf1":"#d4edda",color:"machine"===e.type?"#0c5460":"#155724"},children:e.type})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-secondary",style:{padding:"4px 8px",minWidth:"30px",fontSize:"12px"},onClick:()=>(e=>{const t=e.quantity||1;if(t>1){const n=t-1;f(e.id,n)}else Xt.error("Quantity cannot be less than 1")})(e),disabled:e.quantity<=1,children:"-"}),(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.9rem",fontWeight:"bold",background:"#e3f2fd",color:"#1976d2",minWidth:"30px",textAlign:"center",display:"inline-block"},children:e.quantity||1}),(0,fn.jsx)("button",{className:"btn btn-secondary",style:{padding:"4px 8px",minWidth:"30px",fontSize:"12px"},onClick:()=>(e=>{const t=(e.quantity||1)+1;f(e.id,t)})(e),children:"+"})]})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold",background:"#fff3cd",color:"#856404"},children:e.inUseCount||0})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold",background:"#f8d7da",color:"#721c24"},children:e.repairCount||0})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold",background:"#d4edda",color:"#155724"},children:(e.quantity||1)-(e.inUseCount||0)-(e.repairCount||0)})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",background:"available"===e.status?"#d4edda":"in-use"===e.status?"#fff3cd":"#f8d7da",color:"available"===e.status?"#155724":"in-use"===e.status?"#856404":"#721c24"},children:e.status})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{l(e.id),u({name:e.name||"",type:e.type||"",status:e.status||"available",quantity:e.quantity||1,description:e.description||""}),a(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Fg(Lm(Bb,"machinesTools",e)),Xt.success("Item deleted successfully"),d()}catch(t){console.error("Error deleting item:",t),Xt.error("Failed to delete item")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id))})]})})]})]})},hx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({name:"",description:""});(0,s.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=(await Mg(Mm(Bb,"materials"))).docs.map(e=>Me({id:e.id},e.data()));t(e)}catch(e){console.error("Error fetching materials:",e),Xt.error("Failed to fetch materials")}finally{r(!1)}},h=e=>{const{name:t,value:n}=e.target;u(e=>Me(Me({},e),{},{[t]:n}))},f=()=>{l(null),u({name:"",description:""}),a(!1)};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(on,{}),"Materials"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading materials..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(on,{}),"Materials Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>a(!0),children:[(0,fn.jsx)(sn,{}),"Add New Material"]})]}),i&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),o?"Edit Material":"Add New Material"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:f,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name.trim())try{o?(await Lg(Lm(Bb,"materials",o),Me(Me({},c),{},{updatedAt:new Date})),Xt.success("Material updated successfully!")):(await Ug(Mm(Bb,"materials"),Me(Me({},c),{},{isActive:!0,createdAt:new Date})),Xt.success("Material added successfully!")),u({name:"",description:""}),l(null),a(!1),d()}catch(t){console.error("Error saving material:",t),Xt.error("Failed to ".concat(o?"update":"add"," material"))}else Xt.error("Material name is required")},children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Material Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:c.name,onChange:h,className:"form-input",placeholder:"Enter material name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Description"}),(0,fn.jsx)("textarea",{name:"description",value:c.description,onChange:h,className:"form-textarea",placeholder:"Enter description",rows:"3"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),o?"Update Material":"Add Material"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(on,{}),"All Materials"]})}),0===e.length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(on,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No materials found"}),(0,fn.jsx)("p",{children:"Add predefined materials or create your own"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Name"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:e.map(e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("div",{children:(0,fn.jsx)("strong",{children:e.name})})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{l(e.id),u({name:e.name||"",description:e.description||""}),a(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this material?"))try{await Fg(Lm(Bb,"materials",e)),Xt.success("Material deleted successfully"),d()}catch(t){console.error("Error deleting material:",t),Xt.error("Failed to delete material")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id))})]})})]})]})},fx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({name:"",type:"",designation:"",address:"",notes:""});(0,s.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=(await Mg(Mm(Bb,"labourStaff"))).docs.map(e=>Me({id:e.id},e.data()));t(e)}catch(e){console.error("Error fetching labour and staff:",e),Xt.error("Failed to fetch labour and staff")}finally{r(!1)}},h=e=>{const{name:t,value:n}=e.target;u(e=>Me(Me({},e),{},{[t]:n}))},f=()=>{l(null),u({name:"",type:"",designation:"",address:"",notes:""}),a(!1)};return n?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(ln,{}),"Labour & Staff"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading labour and staff..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(ln,{}),"Labour & Staff Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>a(!0),children:[(0,fn.jsx)(sn,{}),"Add New Staff"]})]}),i&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),o?"Edit Staff/Labour":"Add New Labour/Staff"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:f,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name.trim())try{o?(await Lg(Lm(Bb,"labourStaff",o),Me(Me({},c),{},{updatedAt:new Date})),Xt.success("Staff member updated successfully!")):(await Ug(Mm(Bb,"labourStaff"),Me(Me({},c),{},{createdAt:new Date})),Xt.success("Labour/Staff added successfully!")),u({name:"",type:"",designation:"",address:"",notes:""}),l(null),a(!1),d()}catch(t){console.error("Error saving staff:",t),Xt.error("Failed to ".concat(o?"update":"add"," staff member"))}else Xt.error("Name is required")},children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:c.name,onChange:h,className:"form-input",placeholder:"Enter full name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Type *"}),(0,fn.jsxs)("select",{name:"type",value:c.type,onChange:h,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select type"}),(0,fn.jsx)("option",{value:"staff",children:"Staff"}),(0,fn.jsx)("option",{value:"labour",children:"Labour"}),(0,fn.jsx)("option",{value:"contractor",children:"Contractor"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Designation"}),(0,fn.jsx)("input",{type:"text",name:"designation",value:c.designation,onChange:h,className:"form-input",placeholder:"Enter designation"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Address"}),(0,fn.jsx)("textarea",{name:"address",value:c.address,onChange:h,className:"form-textarea",placeholder:"Enter address",rows:"2"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:c.notes,onChange:h,className:"form-textarea",placeholder:"Enter any additional notes",rows:"3"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),o?"Update Staff/Labour":"Add Staff"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(ln,{}),"All Labour & Staff"]})}),0===e.length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(ln,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No staff members found"}),(0,fn.jsx)("p",{children:"Add predefined staff or create your own"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Name"}),(0,fn.jsx)("th",{children:"Type"}),(0,fn.jsx)("th",{children:"Designation"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:e.map(e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsx)("div",{children:(0,fn.jsx)("strong",{children:e.name})})}),(0,fn.jsx)("td",{children:(0,fn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",background:"staff"===e.type?"#d1ecf1":"labour"===e.type?"#d4edda":"#fff3cd",color:"staff"===e.type?"#0c5460":"labour"===e.type?"#155724":"#856404"},children:e.type})}),(0,fn.jsx)("td",{children:e.designation||"Not specified"}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{l(e.id),u({name:e.name||"",type:e.type||"",designation:e.designation||"",address:e.address||"",notes:e.notes||""}),a(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this staff member?"))try{await Fg(Lm(Bb,"labourStaff",e)),Xt.success("Staff member deleted successfully"),d()}catch(t){console.error("Error deleting staff:",t),Xt.error("Failed to delete staff member")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id))})]})})]})]})},px=en("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),mx=en("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gx=en("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[b,x]=(0,s.useState)({siteId:"",staffId:"",date:(new Date).toISOString().split("T")[0],checkInTime:"",checkOutTime:"",status:"present",hoursWorked:"",overtimeHours:"",notes:"",workDescription:""});(0,s.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=(await Mg(Mm(Bb,"sites"))).docs.map(e=>Me({id:e.id},e.data()));r(e);const n=(await Mg(Mm(Bb,"labourStaff"))).docs.map(e=>Me({id:e.id},e.data()));a(n);const s=bg(Mm(Bb,"attendance"),Eg("date","desc")),i=(await Mg(s)).docs.map(e=>Me({id:e.id},e.data()));t(i)}catch(e){console.error("Error fetching data:",e),Xt.error("Failed to fetch data")}finally{l(!1)}},N=e=>{const{name:t,value:n}=e.target;x(e=>Me(Me({},e),{},{[t]:n}))},E=()=>{if(b.checkInTime&&b.checkOutTime){const e=new Date("2000-01-01T".concat(b.checkInTime)),t=(new Date("2000-01-01T".concat(b.checkOutTime))-e)/36e5;return Math.max(0,t)}return 0},S=()=>{x({siteId:"",staffId:"",date:(new Date).toISOString().split("T")[0],checkInTime:"",checkOutTime:"",status:"present",hoursWorked:"",overtimeHours:"",notes:"",workDescription:""}),h(null),u(!1)},k=()=>{let t=e;return f&&(t=t.filter(e=>e.siteId===f)),m&&(t=t.filter(e=>e.date===m)),y&&(t=t.filter(e=>e.status===y)),t},j=e=>e||"N/A",C=e=>{switch(e){case"present":return(0,fn.jsx)(px,{className:"text-green-500",size:20});case"absent":return(0,fn.jsx)(mx,{className:"text-red-500",size:20});case"late":return(0,fn.jsx)(gx,{className:"text-yellow-500",size:20});default:return(0,fn.jsx)(gx,{className:"text-gray-500",size:20})}},T=e=>{switch(e){case"present":return"text-green-600 bg-green-100";case"absent":return"text-red-600 bg-red-100";case"late":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return o?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(ln,{}),"Staff & Labour Attendance"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading attendance records..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(ln,{}),"Staff & Labour Attendance Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>u(!0),children:[(0,fn.jsx)(sn,{}),"Add Attendance Record"]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(cn,{}),"Filter Records"]})}),(0,fn.jsxs)("div",{className:"grid grid-3",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Filter by Site"}),(0,fn.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Sites"}),n.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Filter by Date"}),(0,fn.jsx)("input",{type:"date",value:m,onChange:e=>g(e.target.value),className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Filter by Status"}),(0,fn.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Status"}),(0,fn.jsx)("option",{value:"present",children:"Present"}),(0,fn.jsx)("option",{value:"absent",children:"Absent"}),(0,fn.jsx)("option",{value:"late",children:"Late"})]})]})]})]}),c&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),d?"Edit Attendance Record":"Add Attendance Record"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:S,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.siteId&&b.staffId&&b.date)try{const e=E(),t=Me(Me({},b),{},{hoursWorked:e,createdAt:new Date,updatedAt:new Date});d?(await Lg(Lm(Bb,"attendance",d.id),t),Xt.success("Attendance record updated successfully!")):(await Ug(Mm(Bb,"attendance"),t),Xt.success("Attendance record added successfully!")),S(),w()}catch(t){console.error("Error saving attendance:",t),Xt.error("Failed to save attendance record")}else Xt.error("Please fill in all required fields")},children:[(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Site *"}),(0,fn.jsxs)("select",{name:"siteId",value:b.siteId,onChange:N,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select a site"}),n.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Staff/Labour *"}),(0,fn.jsxs)("select",{name:"staffId",value:b.staffId,onChange:N,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select staff/labour"}),i.map(e=>(0,fn.jsxs)("option",{value:e.id,children:[e.name," (",e.type,") - ",e.designation]},e.id))]})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Date *"}),(0,fn.jsx)("input",{type:"date",name:"date",value:b.date,onChange:N,className:"form-input",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Status *"}),(0,fn.jsxs)("select",{name:"status",value:b.status,onChange:N,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"present",children:"Present"}),(0,fn.jsx)("option",{value:"absent",children:"Absent"}),(0,fn.jsx)("option",{value:"late",children:"Late"})]})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Check-in Time"}),(0,fn.jsx)("input",{type:"time",name:"checkInTime",value:b.checkInTime,onChange:N,className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Check-out Time"}),(0,fn.jsx)("input",{type:"time",name:"checkOutTime",value:b.checkOutTime,onChange:N,className:"form-input"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Hours Worked"}),(0,fn.jsx)("input",{type:"number",name:"hoursWorked",value:E(),className:"form-input",placeholder:"Auto-calculated",step:"0.1",min:"0",readOnly:!0,style:{backgroundColor:"#f8f9fa"}})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Overtime Hours"}),(0,fn.jsx)("input",{type:"number",name:"overtimeHours",value:b.overtimeHours,onChange:N,className:"form-input",placeholder:"Enter overtime hours",step:"0.1",min:"0"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Work Description"}),(0,fn.jsx)("textarea",{name:"workDescription",value:b.workDescription,onChange:N,className:"form-textarea",placeholder:"Describe the work performed",rows:"3"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:b.notes,onChange:N,className:"form-textarea",placeholder:"Any additional notes",rows:"2"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),d?"Update Record":"Add Record"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:S,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(cn,{}),"Attendance Records (",k().length,")"]})}),0===k().length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(ln,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No attendance records found"}),(0,fn.jsx)("p",{children:"Add your first attendance record to get started"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Date"}),(0,fn.jsx)("th",{children:"Site"}),(0,fn.jsx)("th",{children:"Staff/Labour"}),(0,fn.jsx)("th",{children:"Status"}),(0,fn.jsx)("th",{children:"Check-in"}),(0,fn.jsx)("th",{children:"Check-out"}),(0,fn.jsx)("th",{children:"Hours"}),(0,fn.jsx)("th",{children:"Overtime"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:k().map(e=>{const t=n.find(t=>t.id===e.siteId),r=i.find(t=>t.id===e.staffId);return(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(s=e.date,new Date(s).toLocaleDateString("en-IN"))}),(0,fn.jsx)("td",{children:(null===t||void 0===t?void 0:t.name)||"Unknown Site"}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{children:[(0,fn.jsx)("strong",{children:(null===r||void 0===r?void 0:r.name)||"Unknown Staff"}),(0,fn.jsxs)("div",{style:{fontSize:"0.9rem",color:"#7f8c8d"},children:[null===r||void 0===r?void 0:r.designation," (",null===r||void 0===r?void 0:r.type,")"]})]})}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(T(e.status)),children:[C(e.status),(0,fn.jsx)("span",{style:{marginLeft:"4px"},children:e.status})]})}),(0,fn.jsx)("td",{children:j(e.checkInTime)}),(0,fn.jsx)("td",{children:j(e.checkOutTime)}),(0,fn.jsxs)("td",{children:[e.hoursWorked||"N/A"," hrs"]}),(0,fn.jsxs)("td",{children:[e.overtimeHours||"0"," hrs"]}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{h(e),x({siteId:e.siteId||"",staffId:e.staffId||"",date:e.date||(new Date).toISOString().split("T")[0],checkInTime:e.checkInTime||"",checkOutTime:e.checkOutTime||"",status:e.status||"present",hoursWorked:e.hoursWorked||"",overtimeHours:e.overtimeHours||"",notes:e.notes||"",workDescription:e.workDescription||""}),u(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this attendance record?"))try{await Fg(Lm(Bb,"attendance",e)),Xt.success("Attendance record deleted successfully"),w()}catch(t){console.error("Error deleting attendance:",t),Xt.error("Failed to delete attendance record")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id);var s})})]})})]})]})},vx=en("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bx=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[b,x]=(0,s.useState)({name:"",type:"",category:"",brand:"",model:"",serialNumber:"",quantity:"",unit:"",status:"available",siteId:"",purchaseDate:"",purchasePrice:"",supplier:"",warrantyPeriod:"",warrantyExpiry:"",maintenanceDate:"",nextMaintenanceDate:"",condition:"good",location:"",assignedTo:"",notes:"",specifications:"",operatingInstructions:""}),w=["machine","tool","equipment","vehicle","generator","compressor","welding-machine","drill","saw","other"],N=["available","in-use","maintenance","repair","damaged","retired","lost","stolen"];(0,s.useEffect)(()=>{E()},[]);const E=async()=>{try{const e=(await Mg(Mm(Bb,"sites"))).docs.map(e=>Me({id:e.id},e.data()));r(e);const n=bg(Mm(Bb,"toolsMachines"),Eg("createdAt","desc")),s=(await Mg(n)).docs.map(e=>Me({id:e.id},e.data()));t(s)}catch(e){console.error("Error fetching data:",e),Xt.error("Failed to fetch data")}finally{a(!1)}},S=e=>{const{name:t,value:n}=e.target;x(e=>Me(Me({},e),{},{[t]:n}))},k=()=>{x({name:"",type:"",category:"",brand:"",model:"",serialNumber:"",quantity:"",unit:"",status:"available",siteId:"",purchaseDate:"",purchasePrice:"",supplier:"",warrantyPeriod:"",warrantyExpiry:"",maintenanceDate:"",nextMaintenanceDate:"",condition:"good",location:"",assignedTo:"",notes:"",specifications:"",operatingInstructions:""}),u(null),l(!1)},j=()=>{let t=e;return d&&(t=t.filter(e=>{var t,n,r;return e.name.toLowerCase().includes(d.toLowerCase())||(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.model)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.serialNumber)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))})),f&&(t=t.filter(e=>e.type===f)),m&&(t=t.filter(e=>e.status===m)),y&&(t=t.filter(e=>e.siteId===y)),t},C=e=>{switch(e){case"available":return(0,fn.jsx)(px,{className:"text-green-500",size:16});case"in-use":return(0,fn.jsx)(dn,{className:"text-blue-500",size:16});case"maintenance":return(0,fn.jsx)(an,{className:"text-yellow-500",size:16});case"repair":return(0,fn.jsx)(ex,{className:"text-orange-500",size:16});case"damaged":return(0,fn.jsx)(mx,{className:"text-red-500",size:16});default:return(0,fn.jsx)(on,{className:"text-gray-500",size:16})}},T=e=>{switch(e){case"available":return"text-green-600 bg-green-100";case"in-use":return"text-blue-600 bg-blue-100";case"maintenance":return"text-yellow-600 bg-yellow-100";case"repair":return"text-orange-600 bg-orange-100";case"damaged":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return i?(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(an,{}),"Tools & Machines Management"]}),(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)("div",{className:"loading",style:{fontSize:"2rem"},children:"\u23f3"}),(0,fn.jsx)("p",{children:"Loading tools and machines..."})]})]}):(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"header",children:[(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(an,{}),"Tools & Machines Management"]}),(0,fn.jsxs)("button",{className:"btn",onClick:()=>l(!0),children:[(0,fn.jsx)(sn,{}),"Add Tool/Machine"]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(vx,{}),"Filter Items"]})}),(0,fn.jsxs)("div",{className:"grid grid-4",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Search"}),(0,fn.jsxs)("div",{style:{position:"relative"},children:[(0,fn.jsx)(nx,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6b7280"}}),(0,fn.jsx)("input",{type:"text",className:"form-input",style:{paddingLeft:"40px"},placeholder:"Search by name, brand, model...",value:d,onChange:e=>h(e.target.value)})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Type"}),(0,fn.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Types"}),w.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Status"}),(0,fn.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Status"}),N.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Site"}),(0,fn.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"All Sites"}),n.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),o&&(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsxs)("div",{className:"card-header",children:[(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(sn,{}),c?"Edit Tool/Machine":"Add New Tool/Machine"]}),(0,fn.jsx)("button",{className:"btn btn-secondary",onClick:k,children:"Cancel"})]}),(0,fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.name&&b.type&&b.category)try{const e=Me(Me({},b),{},{quantity:parseFloat(b.quantity)||1,purchasePrice:parseFloat(b.purchasePrice)||0,createdAt:new Date,updatedAt:new Date});c?(await Lg(Lm(Bb,"toolsMachines",c.id),e),Xt.success("Tool/Machine updated successfully!")):(await Ug(Mm(Bb,"toolsMachines"),e),Xt.success("Tool/Machine added successfully!")),k(),E()}catch(t){console.error("Error saving tool/machine:",t),Xt.error("Failed to save tool/machine")}else Xt.error("Please fill in all required fields")},children:[(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Name *"}),(0,fn.jsx)("input",{type:"text",name:"name",value:b.name,onChange:S,className:"form-input",placeholder:"Enter tool/machine name",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Type *"}),(0,fn.jsxs)("select",{name:"type",value:b.type,onChange:S,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select type"}),w.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Category *"}),(0,fn.jsxs)("select",{name:"category",value:b.category,onChange:S,className:"form-select",required:!0,children:[(0,fn.jsx)("option",{value:"",children:"Select category"}),["construction","electrical","mechanical","safety","transport","generator","welding","cutting","measuring","other"].map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Brand"}),(0,fn.jsx)("input",{type:"text",name:"brand",value:b.brand,onChange:S,className:"form-input",placeholder:"Enter brand name"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Model"}),(0,fn.jsx)("input",{type:"text",name:"model",value:b.model,onChange:S,className:"form-input",placeholder:"Enter model number"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Serial Number"}),(0,fn.jsx)("input",{type:"text",name:"serialNumber",value:b.serialNumber,onChange:S,className:"form-input",placeholder:"Enter serial number"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-3",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Quantity *"}),(0,fn.jsx)("input",{type:"number",name:"quantity",value:b.quantity,onChange:S,className:"form-input",placeholder:"Enter quantity",min:"1",required:!0})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Unit"}),(0,fn.jsxs)("select",{name:"unit",value:b.unit,onChange:S,className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"Select unit"}),["pieces","units","sets","pairs","kg","tons","liters","meters","sqft","cubic meters"].map(e=>(0,fn.jsx)("option",{value:e,children:e},e))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Status *"}),(0,fn.jsx)("select",{name:"status",value:b.status,onChange:S,className:"form-select",required:!0,children:N.map(e=>(0,fn.jsx)("option",{value:e,children:e},e))})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Site"}),(0,fn.jsxs)("select",{name:"siteId",value:b.siteId,onChange:S,className:"form-select",children:[(0,fn.jsx)("option",{value:"",children:"Select site"}),n.map(e=>(0,fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Location"}),(0,fn.jsx)("input",{type:"text",name:"location",value:b.location,onChange:S,className:"form-input",placeholder:"Enter location"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Purchase Date"}),(0,fn.jsx)("input",{type:"date",name:"purchaseDate",value:b.purchaseDate,onChange:S,className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Purchase Price (\u20b9)"}),(0,fn.jsx)("input",{type:"number",name:"purchasePrice",value:b.purchasePrice,onChange:S,className:"form-input",placeholder:"Enter purchase price",step:"0.01",min:"0"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Supplier"}),(0,fn.jsx)("input",{type:"text",name:"supplier",value:b.supplier,onChange:S,className:"form-input",placeholder:"Enter supplier name"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty Period"}),(0,fn.jsx)("input",{type:"text",name:"warrantyPeriod",value:b.warrantyPeriod,onChange:S,className:"form-input",placeholder:"e.g., 1 year, 6 months"})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Warranty Expiry"}),(0,fn.jsx)("input",{type:"date",name:"warrantyExpiry",value:b.warrantyExpiry,onChange:S,className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Condition"}),(0,fn.jsx)("select",{name:"condition",value:b.condition,onChange:S,className:"form-select",children:["excellent","good","fair","poor","damaged","broken"].map(e=>(0,fn.jsx)("option",{value:e,children:e},e))})]})]}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Last Maintenance Date"}),(0,fn.jsx)("input",{type:"date",name:"maintenanceDate",value:b.maintenanceDate,onChange:S,className:"form-input"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Next Maintenance Date"}),(0,fn.jsx)("input",{type:"date",name:"nextMaintenanceDate",value:b.nextMaintenanceDate,onChange:S,className:"form-input"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Assigned To"}),(0,fn.jsx)("input",{type:"text",name:"assignedTo",value:b.assignedTo,onChange:S,className:"form-input",placeholder:"Enter assigned person name"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Specifications"}),(0,fn.jsx)("textarea",{name:"specifications",value:b.specifications,onChange:S,className:"form-textarea",placeholder:"Enter technical specifications",rows:"3"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Operating Instructions"}),(0,fn.jsx)("textarea",{name:"operatingInstructions",value:b.operatingInstructions,onChange:S,className:"form-textarea",placeholder:"Enter operating instructions",rows:"3"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Notes"}),(0,fn.jsx)("textarea",{name:"notes",value:b.notes,onChange:S,className:"form-textarea",placeholder:"Any additional notes",rows:"2"})]}),(0,fn.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[(0,fn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,fn.jsx)(sn,{}),c?"Update Item":"Add Item"]}),(0,fn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:k,children:"Cancel"})]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(an,{}),"Tools & Machines (",j().length,")"]})}),0===j().length?(0,fn.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,fn.jsx)(an,{size:60,style:{marginBottom:"20px",opacity:.5}}),(0,fn.jsx)("h3",{children:"No tools/machines found"}),(0,fn.jsx)("p",{children:"Add your first tool or machine to get started"})]}):(0,fn.jsx)("div",{className:"table-container",children:(0,fn.jsxs)("table",{className:"table",children:[(0,fn.jsx)("thead",{children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"Name"}),(0,fn.jsx)("th",{children:"Type"}),(0,fn.jsx)("th",{children:"Brand/Model"}),(0,fn.jsx)("th",{children:"Quantity"}),(0,fn.jsx)("th",{children:"Status"}),(0,fn.jsx)("th",{children:"Site"}),(0,fn.jsx)("th",{children:"Condition"}),(0,fn.jsx)("th",{children:"Purchase Price"}),(0,fn.jsx)("th",{children:"Actions"})]})}),(0,fn.jsx)("tbody",{children:j().map(e=>{const t=n.find(t=>t.id===e.siteId);return(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{children:[(0,fn.jsx)("strong",{children:e.name}),e.serialNumber&&(0,fn.jsxs)("div",{style:{fontSize:"0.9rem",color:"#7f8c8d"},children:["SN: ",e.serialNumber]})]})}),(0,fn.jsx)("td",{children:e.type}),(0,fn.jsx)("td",{children:e.brand&&e.model?"".concat(e.brand," ").concat(e.model):e.brand||e.model||"N/A"}),(0,fn.jsxs)("td",{children:[e.quantity," ",e.unit||"units"]}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(T(e.status)),children:[C(e.status),(0,fn.jsx)("span",{style:{marginLeft:"4px"},children:e.status})]})}),(0,fn.jsx)("td",{children:(null===t||void 0===t?void 0:t.name)||"Not assigned"}),(0,fn.jsx)("td",{children:e.condition}),(0,fn.jsx)("td",{children:(r=e.purchasePrice,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(r||0))}),(0,fn.jsx)("td",{children:(0,fn.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,fn.jsx)("button",{className:"btn btn-warning",style:{padding:"6px 12px"},onClick:()=>(e=>{u(e),x({name:e.name||"",type:e.type||"",category:e.category||"",brand:e.brand||"",model:e.model||"",serialNumber:e.serialNumber||"",quantity:e.quantity||"",unit:e.unit||"",status:e.status||"available",siteId:e.siteId||"",purchaseDate:e.purchaseDate||"",purchasePrice:e.purchasePrice||"",supplier:e.supplier||"",warrantyPeriod:e.warrantyPeriod||"",warrantyExpiry:e.warrantyExpiry||"",maintenanceDate:e.maintenanceDate||"",nextMaintenanceDate:e.nextMaintenanceDate||"",condition:e.condition||"good",location:e.location||"",assignedTo:e.assignedTo||"",notes:e.notes||"",specifications:e.specifications||"",operatingInstructions:e.operatingInstructions||""}),l(!0)})(e),children:(0,fn.jsx)(Kb,{size:14})}),(0,fn.jsx)("button",{className:"btn btn-danger",style:{padding:"6px 12px"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this tool/machine?"))try{await Fg(Lm(Bb,"toolsMachines",e)),Xt.success("Tool/Machine deleted successfully"),E()}catch(t){console.error("Error deleting tool/machine:",t),Xt.error("Failed to delete tool/machine")}})(e.id),children:(0,fn.jsx)(Gb,{size:14})})]})})]},e.id);var r})})]})})]})]})},xx=en("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),wx=en("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Nx=en("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ex=en("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Sx=en("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),kx=()=>(0,fn.jsxs)("div",{children:[(0,fn.jsx)("div",{className:"header",children:(0,fn.jsxs)("div",{className:"header-title",children:[(0,fn.jsx)(dn,{}),"Settings"]})}),(0,fn.jsxs)("div",{className:"grid grid-2",children:[(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(xx,{}),"User Settings"]})}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Company Name"}),(0,fn.jsx)("input",{type:"text",className:"form-input",defaultValue:"B&G Infrastructures",placeholder:"Enter company name"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Contact Person"}),(0,fn.jsx)("input",{type:"text",className:"form-input",placeholder:"Enter contact person name"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Email"}),(0,fn.jsx)("input",{type:"email",className:"form-input",placeholder:"Enter email address"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Phone"}),(0,fn.jsx)("input",{type:"tel",className:"form-input",placeholder:"Enter phone number"})]}),(0,fn.jsx)("button",{className:"btn btn-success",children:"Save Changes"})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(wx,{}),"Data Management"]})}),(0,fn.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,fn.jsx)("button",{className:"btn btn-secondary",children:"Export Data"}),(0,fn.jsx)("button",{className:"btn btn-secondary",children:"Import Data"}),(0,fn.jsx)("button",{className:"btn btn-warning",children:"Backup Database"}),(0,fn.jsx)("button",{className:"btn btn-danger",children:"Clear All Data"})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(Nx,{}),"Security"]})}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Change Password"}),(0,fn.jsx)("input",{type:"password",className:"form-input",placeholder:"Enter new password"})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,fn.jsx)("input",{type:"password",className:"form-input",placeholder:"Confirm new password"})]}),(0,fn.jsx)("button",{className:"btn btn-success",children:"Update Password"})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(Ex,{}),"Notifications"]})}),(0,fn.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,fn.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,fn.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Email notifications"]}),(0,fn.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,fn.jsx)("input",{type:"checkbox",defaultChecked:!0}),"SMS notifications"]}),(0,fn.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,fn.jsx)("input",{type:"checkbox"}),"Push notifications"]}),(0,fn.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,fn.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Maintenance reminders"]})]})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(Sx,{}),"Theme Settings"]})}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Theme"}),(0,fn.jsxs)("select",{className:"form-select",children:[(0,fn.jsx)("option",{value:"light",children:"Light Theme"}),(0,fn.jsx)("option",{value:"dark",children:"Dark Theme"}),(0,fn.jsx)("option",{value:"auto",children:"Auto (System)"})]})]}),(0,fn.jsxs)("div",{className:"form-group",children:[(0,fn.jsx)("label",{className:"form-label",children:"Primary Color"}),(0,fn.jsx)("input",{type:"color",className:"form-input",defaultValue:"#3498db",style:{height:"40px"}})]}),(0,fn.jsx)("button",{className:"btn btn-success",children:"Apply Theme"})]}),(0,fn.jsxs)("div",{className:"card",children:[(0,fn.jsx)("div",{className:"card-header",children:(0,fn.jsxs)("h3",{className:"card-title",children:[(0,fn.jsx)(dn,{}),"System Information"]})}),(0,fn.jsxs)("div",{style:{fontSize:"0.9rem",color:"#7f8c8d"},children:[(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Version:"})," 1.0.0"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Last Updated:"})," ",(new Date).toLocaleDateString()]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Database:"})," Firebase Firestore"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Framework:"})," React 18"]}),(0,fn.jsxs)("p",{children:[(0,fn.jsx)("strong",{children:"Build:"})," Production"]})]})]})]})]});const jx=function(){return(0,fn.jsx)(ke,{children:(0,fn.jsxs)("div",{className:"App",children:[(0,fn.jsx)(pn,{}),(0,fn.jsx)("main",{className:"main-content",children:(0,fn.jsxs)(be,{children:[(0,fn.jsx)(ye,{path:"/",element:(0,fn.jsx)(Hb,{})}),(0,fn.jsx)(ye,{path:"/sites",element:(0,fn.jsx)(Qb,{})}),(0,fn.jsx)(ye,{path:"/expense-types",element:(0,fn.jsx)(tx,{})}),(0,fn.jsx)(ye,{path:"/expenses",element:(0,fn.jsx)(ox,{})}),(0,fn.jsx)(ye,{path:"/add-expense/:siteId",element:(0,fn.jsx)(ux,{})}),(0,fn.jsx)(ye,{path:"/add-expense",element:(0,fn.jsx)(ux,{})}),(0,fn.jsx)(ye,{path:"/machines-tools",element:(0,fn.jsx)(dx,{})}),(0,fn.jsx)(ye,{path:"/materials",element:(0,fn.jsx)(hx,{})}),(0,fn.jsx)(ye,{path:"/labour-staff",element:(0,fn.jsx)(fx,{})}),(0,fn.jsx)(ye,{path:"/attendance",element:(0,fn.jsx)(yx,{})}),(0,fn.jsx)(ye,{path:"/tools-machines",element:(0,fn.jsx)(bx,{})}),(0,fn.jsx)(ye,{path:"/settings",element:(0,fn.jsx)(kx,{})})]})}),(0,fn.jsx)(Yt,{position:"top-right"})]})})};a.createRoot(document.getElementById("root")).render((0,fn.jsx)(s.StrictMode,{children:(0,fn.jsx)(jx,{})}))})();
//# sourceMappingURL=main.59d10cf0.js.map